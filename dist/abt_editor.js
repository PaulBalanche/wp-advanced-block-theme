(()=>{var e={9785:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(329),a=r(4516),s=r(8777),c=r(7953),l=r(2307),u=r(4289),p=r(5027),h=r(8642),d=r(2371),f=r(1173),g=h("draft_tree_data_support"),v=g?c:s,y=d.List,m=d.Repeat,b={insertAtomicBlock:function(e,t,r){var o=e.getCurrentContent(),s=e.getSelection(),c=l.removeRange(o,s,"backward"),h=c.getSelectionAfter(),d=l.splitBlock(c,h),f=d.getSelectionAfter(),b=l.setBlockType(d,f,"atomic"),_=a.create({entity:t}),w={key:p(),type:"atomic",text:r,characterList:y(m(_,r.length))},S={key:p(),type:"unstyled"};g&&(w=n({},w,{nextSibling:S.key}),S=n({},S,{prevSibling:w.key}));var k=[new v(w),new v(S)],E=i.createFromArray(k),C=l.replaceWithFragment(b,f,E),x=C.merge({selectionBefore:s,selectionAfter:C.getSelectionAfter().set("hasFocus",!0)});return u.push(e,x,"insert-fragment")},moveAtomicBlock:function(e,t,r,n){var o,i=e.getCurrentContent(),a=e.getSelection();if("before"===n||"after"===n){var s=i.getBlockForKey("before"===n?r.getStartKey():r.getEndKey());o=f(i,t,s,n)}else{var c=l.removeRange(i,r,"backward"),p=c.getSelectionAfter(),h=c.getBlockForKey(p.getFocusKey());if(0===p.getStartOffset())o=f(c,t,h,"before");else if(p.getEndOffset()===h.getLength())o=f(c,t,h,"after");else{var d=l.splitBlock(c,p),g=d.getSelectionAfter(),v=d.getBlockForKey(g.getFocusKey());o=f(d,t,v,"before")}}var y=o.merge({selectionBefore:a,selectionAfter:o.getSelectionAfter().set("hasFocus",!0)});return u.push(e,y,"move-block")}};e.exports=b},329:(e,t,r)=>{"use strict";var n=r(2371).OrderedMap,o={createFromArray:function(e){return n(e.map((function(e){return[e.getKey(),e]})))}};e.exports=o},4365:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(9407),i=r(6495),a=r(2371),s=a.List,c=a.Repeat,l=a.Record,u=function(){return!0},p=l({start:null,end:null}),h=l({start:null,end:null,decoratorKey:null,leaves:null}),d={generate:function(e,t,r){var n=t.getLength();if(!n)return s.of(new h({start:0,end:0,decoratorKey:null,leaves:s.of(new p({start:0,end:0}))}));var i=[],a=r?r.getDecorations(t,e):s(c(null,n)),l=t.getCharacterList();return o(a,f,u,(function(e,t){var r,n,c,d;i.push(new h({start:e,end:t,decoratorKey:a.get(e),leaves:(r=l.slice(e,t).toList(),n=e,c=[],d=r.map((function(e){return e.getStyle()})).toList(),o(d,f,u,(function(e,t){c.push(new p({start:e+n,end:t+n}))})),s(c))}))})),s(i)},fromJS:function(e){var t=e.leaves,r=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["leaves"]);return new h(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},r,{leaves:null!=t?s(Array.isArray(t)?t:i(t)).map((function(e){return p(e)})):null}))}};function f(e,t){return e===t}e.exports=d},4516:(e,t,r)=>{"use strict";var n=r(2371),o=n.Map,i=n.OrderedSet,a=n.Record,s=i(),c={style:s,entity:null},l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(e){return this.getStyle().includes(e)},n.applyStyle=function(e,t){var r=e.set("style",e.getStyle().add(t));return n.create(r)},n.removeStyle=function(e,t){var r=e.set("style",e.getStyle().remove(t));return n.create(r)},n.applyEntity=function(e,t){var r=e.getEntity()===t?e:e.set("entity",t);return n.create(r)},n.create=function(e){if(!e)return u;var t=o({style:s,entity:null}).merge(e),r=p.get(t);if(r)return r;var i=new n(t);return p=p.set(t,i),i},n.fromJS=function(e){var t=e.style,r=e.entity;return new n({style:Array.isArray(t)?i(t):t,entity:Array.isArray(r)?i(r):r})},n}(a(c)),u=new l,p=o([[o(c),u]]);l.EMPTY=u,e.exports=l},5369:(e,t,r)=>{"use strict";var n=r(2371).List,o=function(){function e(e){var t,r;r=void 0,(t="_decorators")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var r=Array(e.getText().length).fill(null);return this._decorators.forEach((function(n,o){var i=0;(0,n.strategy)(e,(function(e,t){(function(e,t,r){for(var n=t;n<r;n++)if(null!=e[n])return!1;return!0})(r,e,t)&&(function(e,t,r,n){for(var o=t;o<r;o++)e[o]=n}(r,e,t,o+"."+i),i++)}),t)})),n(r)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=o},8777:(e,t,r)=>{"use strict";var n=r(4516),o=r(9407),i=r(2371),a=i.List,s=i.Map,c=i.OrderedSet,l=i.Record,u=i.Repeat,p=c(),h=function(e){var t,r;function i(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,r=e.text;return r&&!t&&(e.characterList=a(u(n.EMPTY,r.length))),e}(t))||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():p},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){o(this.getCharacterList(),d,e,t)},s.findEntityRanges=function(e,t){o(this.getCharacterList(),f,e,t)},i}(l({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}));function d(e,t){return e.getStyle()===t.getStyle()}function f(e,t){return e.getEntity()===t.getEntity()}e.exports=h},7953:(e,t,r)=>{"use strict";var n=r(4516),o=r(9407),i=r(2371),a=i.List,s=i.Map,c=i.OrderedSet,l=i.Record,u=i.Repeat,p=c(),h={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},d=function(e,t){return e.getStyle()===t.getStyle()},f=function(e,t){return e.getEntity()===t.getEntity()},g=function(e){var t,r;function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return e.call(this,function(e){if(!e)return e;var t=e.characterList,r=e.text;return r&&!t&&(e.characterList=a(u(n.EMPTY,r.length))),e}(t))||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():p},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.getChildKeys=function(){return this.get("children")},s.getParentKey=function(){return this.get("parent")},s.getPrevSiblingKey=function(){return this.get("prevSibling")},s.getNextSiblingKey=function(){return this.get("nextSibling")},s.findStyleRanges=function(e,t){o(this.getCharacterList(),d,e,t)},s.findEntityRanges=function(e,t){o(this.getCharacterList(),f,e,t)},i}(l(h));e.exports=g},6912:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(329),a=r(4516),s=r(8777),c=r(7953),l=r(2222),u=r(5110),p=r(5027),h=r(6495),d=r(8642),f=r(2371),g=r(5283),v=f.List,y=f.Record,m=f.Repeat,b=f.Map,_=f.OrderedMap,w=y({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),S=d("draft_tree_data_support")?c:s,k=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=o.prototype;return s.getEntityMap=function(){return l},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,r){return r===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,r){return r===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,r){return l.__create(e,t,r),this},s.mergeEntityData=function(e,t){return l.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return l.__replaceData(e,t),this},s.addEntity=function(e){return l.__add(e),this},s.getEntity=function(e){return l.__get(e)},s.getAllEntities=function(){return l.__getAll()},s.loadWithEntities=function(e){return l.__loadWithEntities(e)},o.createFromBlockArray=function(e,t){var r=Array.isArray(e)?e:e.contentBlocks,n=i.createFromArray(r),a=n.isEmpty()?new u:u.createEmpty(n.first().getKey());return new o({blockMap:n,entityMap:t||l,selectionBefore:a,selectionAfter:a})},o.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(t).map((function(e){return e=g(e),new S({key:p(),text:e,type:"unstyled",characterList:v(m(a.EMPTY,e.length))})}));return o.createFromBlockArray(r)},o.fromJS=function(e){return new o(n({},e,{blockMap:_(e.blockMap).map(o.createContentBlockFromJS),selectionBefore:new u(e.selectionBefore),selectionAfter:new u(e.selectionAfter)}))},o.createContentBlockFromJS=function(e){var t=e.characterList;return new S(n({},e,{data:b(e.data),characterList:null!=t?v((Array.isArray(t)?t:h(t)).map((function(e){return a.fromJS(e)}))):void 0}))},o}(w);e.exports=k},3483:(e,t,r)=>{"use strict";var n=r(4516),o=r(2371).Map,i={add:function(e,t,r){return a(e,t,r,!0)},remove:function(e,t,r){return a(e,t,r,!1)}};function a(e,t,r,i){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),p=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).concat(o([[l,a.get(l)]])).map((function(e,t){var o,a;s===l?(o=c,a=u):(o=t===s?c:0,a=t===l?u:e.getLength());for(var p,h=e.getCharacterList();o<a;)p=h.get(o),h=h.set(o,i?n.applyStyle(p,r):n.removeStyle(p,r)),o++;return e.set("characterList",h)}));return e.merge({blockMap:a.merge(p),selectionBefore:t,selectionAfter:t})}e.exports=i},7907:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(4856),i=r(9270),a=r(8083),s=r(2371),c=r(3759),l=r(2045),u=s.Map,p={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=o.isBrowser("IE <= 11"),d=function(){function e(e){var t=this;n(this,"observer",void 0),n(this,"container",void 0),n(this,"mutations",void 0),n(this,"onCharData",void 0),this.container=e,this.mutations=u();var r=a(e);r.MutationObserver&&!h?this.observer=new r.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,p):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=u(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,r=e.target,n=e.removedNodes;if("characterData"===t){if(""!==r.textContent)return h?r.textContent.replace("\n",""):r.textContent}else if("childList"===t){if(n&&n.length)return"";if(""!==r.textContent)return r.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var r=l(i(e.target));this.mutations=this.mutations.set(r,t)}},e}();e.exports=d},526:(e,t,r)=>{"use strict";var n=r(9196),o=r(2620),i=(0,r(2371).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:n.createElement("ul",{className:o("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:n.createElement("ol",{className:o("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:n.createElement("pre",{className:o("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=i},7619:e=>{"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},9041:(e,t,r)=>{"use strict";var n=r(9785),o=r(329),i=r(4516),a=r(5369),s=r(8777),c=r(6912),l=r(526),u=r(7619),p=r(7210),h=r(7898),d=r(2222),f=r(2307),g=r(9006),v=r(4289),y=r(7387),m=r(54),b=r(1947),_=r(5110),w=r(9981),S=r(9607),k=r(5027),E=r(1714),C=r(6629),x={Editor:p,EditorBlock:h,EditorState:v,CompositeDecorator:a,Entity:d,EntityInstance:g,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:c,RawDraftContentState:m,SelectionState:_,AtomicBlockUtils:n,KeyBindingUtil:y,Modifier:f,RichUtils:b,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:r(7841),convertFromRaw:S,convertToRaw:w,genKey:k,getDefaultKeyBinding:E,getVisibleSelectionRect:C};e.exports=x},7210:(e,t,r)=>{"use strict";var n=r(7418);function o(){return o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=r(526),u=r(7619),p=r(3418),h=r(7791),d=r(1494),f=r(9394),g=r(4083),v=r(8094),y=r(5880),m=r(4289),b=r(9196),_=r(5994),w=r(9051),S=r(4856),k=r(2620),E=r(5027),C=r(1714),x=r(9749),I=r(8642),D=r(3759),O=r(717),B=r(2045),L=S.isBrowser("IE"),M=!L,A={edit:f,composite:p,drag:d,cut:null,render:null},T=!1,R=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var r=t.prototype;return r.render=function(){return null},r.componentDidMount=function(){this._update()},r.componentDidUpdate=function(){this._update()},r._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),N=function(e){function t(t){var r;return s(a(r=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(r),"_clipboard",void 0),s(a(r),"_handler",void 0),s(a(r),"_dragCount",void 0),s(a(r),"_internalDrag",void 0),s(a(r),"_editorKey",void 0),s(a(r),"_placeholderAccessibilityID",void 0),s(a(r),"_latestEditorState",void 0),s(a(r),"_latestCommittedEditorState",void 0),s(a(r),"_pendingStateFromBeforeInput",void 0),s(a(r),"_onBeforeInput",void 0),s(a(r),"_onBlur",void 0),s(a(r),"_onCharacterData",void 0),s(a(r),"_onCompositionEnd",void 0),s(a(r),"_onCompositionStart",void 0),s(a(r),"_onCopy",void 0),s(a(r),"_onCut",void 0),s(a(r),"_onDragEnd",void 0),s(a(r),"_onDragOver",void 0),s(a(r),"_onDragStart",void 0),s(a(r),"_onDrop",void 0),s(a(r),"_onInput",void 0),s(a(r),"_onFocus",void 0),s(a(r),"_onKeyDown",void 0),s(a(r),"_onKeyPress",void 0),s(a(r),"_onKeyUp",void 0),s(a(r),"_onMouseDown",void 0),s(a(r),"_onMouseUp",void 0),s(a(r),"_onPaste",void 0),s(a(r),"_onSelect",void 0),s(a(r),"editor",void 0),s(a(r),"editorContainer",void 0),s(a(r),"focus",void 0),s(a(r),"blur",void 0),s(a(r),"setMode",void 0),s(a(r),"exitCurrentMode",void 0),s(a(r),"restoreEditorDOM",void 0),s(a(r),"setClipboard",void 0),s(a(r),"getClipboard",void 0),s(a(r),"getEditorKey",void 0),s(a(r),"update",void 0),s(a(r),"onDragEnter",void 0),s(a(r),"onDragLeave",void 0),s(a(r),"_handleEditorContainerRef",(function(e){r.editorContainer=e,r.editor=null!==e?e.firstChild:null})),s(a(r),"focus",(function(e){var t=r.props.editorState,n=t.getSelection().getHasFocus(),o=r.editor;if(o){var i=w.getScrollParent(o),a=e||x(i),s=a.x,c=a.y;O(o)||D(!1),o.focus(),i===window?window.scrollTo(s,c):_.setTop(i,c),n||r.update(m.forceSelection(t,t.getSelection()))}})),s(a(r),"blur",(function(){var e=r.editor;e&&(O(e)||D(!1),e.blur())})),s(a(r),"setMode",(function(e){var t=r.props,n=t.onPaste,o=t.onCut,a=t.onCopy,s=i({},A.edit);n&&(s.onPaste=n),o&&(s.onCut=o),a&&(s.onCopy=a);var c=i({},A,{edit:s});r._handler=c[e]})),s(a(r),"exitCurrentMode",(function(){r.setMode("edit")})),s(a(r),"restoreEditorDOM",(function(e){r.setState({contentsKey:r.state.contentsKey+1},(function(){r.focus(e)}))})),s(a(r),"setClipboard",(function(e){r._clipboard=e})),s(a(r),"getClipboard",(function(){return r._clipboard})),s(a(r),"update",(function(e){r._latestEditorState=e,r.props.onChange(e)})),s(a(r),"onDragEnter",(function(){r._dragCount++})),s(a(r),"onDragLeave",(function(){r._dragCount--,0===r._dragCount&&r.exitCurrentMode()})),r._blockSelectEvents=!1,r._clipboard=null,r._handler=null,r._dragCount=0,r._editorKey=t.editorKey||E(),r._placeholderAccessibilityID="placeholder-"+r._editorKey,r._latestEditorState=t.editorState,r._latestCommittedEditorState=t.editorState,r._onBeforeInput=r._buildHandler("onBeforeInput"),r._onBlur=r._buildHandler("onBlur"),r._onCharacterData=r._buildHandler("onCharacterData"),r._onCompositionEnd=r._buildHandler("onCompositionEnd"),r._onCompositionStart=r._buildHandler("onCompositionStart"),r._onCopy=r._buildHandler("onCopy"),r._onCut=r._buildHandler("onCut"),r._onDragEnd=r._buildHandler("onDragEnd"),r._onDragOver=r._buildHandler("onDragOver"),r._onDragStart=r._buildHandler("onDragStart"),r._onDrop=r._buildHandler("onDrop"),r._onInput=r._buildHandler("onInput"),r._onFocus=r._buildHandler("onFocus"),r._onKeyDown=r._buildHandler("onKeyDown"),r._onKeyPress=r._buildHandler("onKeyPress"),r._onKeyUp=r._buildHandler("onKeyUp"),r._onMouseDown=r._buildHandler("onMouseDown"),r._onMouseUp=r._buildHandler("onMouseUp"),r._onPaste=r._buildHandler("onPaste"),r._onSelect=r._buildHandler("onSelect"),r.getEditorKey=function(){return r._editorKey},r.state={contentsKey:0},r}c(t,e);var n=t.prototype;return n._buildHandler=function(e){var t=this;return function(r){if(!t.props.readOnly){var n=t._handler&&t._handler[e];n&&(g?g((function(){return n(t,r)})):n(t,r))}}},n._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},n._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:B(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(v,e)}return null},n._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},n.render=function(){var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,n=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,c=e.editorState,l=e.preventScroll,p=e.readOnly,d=e.textAlignment,f=e.textDirectionality,g=k({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===d,"DraftEditor/alignRight":"right"===d,"DraftEditor/alignCenter":"center"===d}),v=this.props.role||"textbox",y="combobox"===v?!!this.props.ariaExpanded:null,m={blockRenderMap:t,blockRendererFn:r,blockStyleFn:n,customStyleMap:i({},u,s),customStyleFn:a,editorKey:this._editorKey,editorState:c,preventScroll:l,textDirectionality:f};return b.createElement("div",{className:g},this._renderPlaceholder(),b.createElement("div",{className:k("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":p?null:this.props.ariaActiveDescendantID,"aria-autocomplete":p?null:this.props.ariaAutoComplete,"aria-controls":p?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":p?null:y,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":p?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:k({notranslate:!p,"public/DraftEditor/content":!0}),contentEditable:!p,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:p?null:v,spellCheck:M&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(R,{editor:this,editorState:c}),b.createElement(h,o({},m,{key:"contents"+this.state.contentsKey})))))},n.componentDidMount=function(){this._blockSelectEvents=!1,!T&&I("draft_ods_enabled")&&(T=!0,y.initODS()),this.setMode("edit"),L&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):r.g.execCommand("AutoUrlDetect",!1,!1))},n.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},t}(b.Component);s(N,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:l,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:C,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=N},7898:(e,t,r)=>{"use strict";var n=r(7418);function o(){return o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var i=r(2282),a=r(2146),s=r(9196),c=r(5994),l=r(9051),u=r(4191),p=r(6633),h=r(2620),d=r(5258),f=r(9749),g=r(746),v=r(3759),y=r(717),m=r(2045),b=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},_=function(e){var t,r;function n(){for(var t,r,n,o,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=void 0,(n="_node")in(r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(a))||this))?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var _=n.prototype;return _.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection},_.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var r=this._node;if(null!=r){var n,o=l.getScrollParent(r),i=f(o);if(o===window){var a=d(r);(n=a.y+a.height-g().height)>0&&window.scrollTo(i.x,i.y+n+10)}else y(r)||v(!1),(n=r.offsetHeight+r.offsetTop-(o.offsetTop+o.offsetHeight+i.y))>0&&c.setTop(o,c.getTop(o)+n+10)}}}},_._renderChildren=function(){var e=this,t=this.props.block,r=t.getKey(),n=t.getText(),c=this.props.tree.size-1,l=b(this.props.selection,r);return this.props.tree.map((function(h,d){var f=h.get("leaves");if(0===f.size)return null;var g=f.size-1,v=f.map((function(o,u){var p=a.encode(r,d,u),h=o.get("start"),f=o.get("end");return s.createElement(i,{key:p,offsetKey:p,block:t,start:h,selection:l?e.props.selection:null,forceSelection:e.props.forceSelection,text:n.slice(h,f),styleSet:t.getInlineStyleAt(h),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:d===c&&u===g})})).toArray(),y=h.get("decoratorKey");if(null==y)return v;if(!e.props.decorator)return v;var b=m(e.props.decorator),_=b.getComponentForKey(y);if(!_)return v;var w=b.getPropsForKey(y),S=a.encode(r,d,0),k=f.first().get("start"),E=f.last().get("end"),C=n.slice(k,E),x=t.getEntityAt(h.get("start")),I=p.getHTMLDirIfDifferent(u.getDirection(C),e.props.direction),D={contentState:e.props.contentState,decoratedText:C,dir:I,start:k,end:E,blockKey:r,entityKey:x,offsetKey:S};return s.createElement(_,o({},w,D,{key:S}),v)})).toArray()},_.render=function(){var e=this,t=this.props,r=t.direction,n=t.offsetKey,o=h({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===r,"public/DraftStyleDefault/rtl":"RTL"===r});return s.createElement("div",{"data-offset-key":n,className:o,ref:function(t){return e._node=t}},this._renderChildren())},n}(s.Component);e.exports=_},5821:(e,t,r)=>{"use strict";var n=r(7418);function o(){return o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(9513),c=r(2146),l=r(9196),u=r(5994),p=r(9051),h=r(5258),d=r(9749),f=r(746),g=r(2371),v=r(3759),y=r(717),m=(g.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),b=function(e,t){var r=t.get(e.getType())||t.get("unstyled"),n=r.wrapper;return{Element:r.element||t.get("unstyled").element,wrapperTemplate:n}},_=function(e,t){var r=t(e);return r?{CustomComponent:r.component,customProps:r.props,customEditable:r.editable}:{}},w=function(e,t,r,n,o,a){var s={"data-block":!0,"data-editor":t,"data-offset-key":r,key:e.getKey(),ref:a},c=n(e);return c&&(s.className=c),void 0!==o.customEditable&&(s=i({},s,{contentEditable:o.customEditable,suppressContentEditableWarning:!0})),s},S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(n))||this),"wrapperRef",l.createRef()),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var g=n.prototype;return g.shouldComponentUpdate=function(e){var t=this.props,r=t.block,n=t.direction,o=t.tree,i=!r.getChildKeys().isEmpty(),a=r!==e.block||o!==e.tree||n!==e.direction||m(e.selection,e.block.getKey())&&e.forceSelection;return i||a},g.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var r=this.wrapperRef.current;if(r){var n,o=p.getScrollParent(r),i=d(o);if(o===window){var a=h(r);(n=a.y+a.height-f().height)>0&&window.scrollTo(i.x,i.y+n+10)}else{y(r)||v(!1);var s=r;(n=s.offsetHeight+s.offsetTop-(o.offsetHeight+i.y))>0&&u.setTop(o,u.getTop(o)+n+10)}}}},g.render=function(){var e=this,t=this.props,r=t.block,a=t.blockRenderMap,u=t.blockRendererFn,p=t.blockStyleFn,h=t.contentState,d=t.decorator,f=t.editorKey,g=t.editorState,v=t.customStyleFn,y=t.customStyleMap,S=t.direction,k=t.forceSelection,E=t.selection,C=t.tree,x=null;r.children.size&&(x=r.children.reduce((function(t,r){var o=c.encode(r,0,0),s=h.getBlockForKey(r),d=_(s,u),v=d.CustomComponent||n,y=b(s,a),m=y.Element,S=y.wrapperTemplate,k=w(s,f,o,p,d,null),E=i({},e.props,{tree:g.getBlockTree(r),blockProps:d.customProps,offsetKey:o,block:s});return t.push(l.createElement(m,k,l.createElement(v,E))),!S||function(e,t){var r=e.getNextSiblingKey();return!!r&&t.getBlockForKey(r).getType()===e.getType()}(s,h)||function(e,t,r){var n=[],o=!0,i=!1,a=void 0;try{for(var s,u=r.reverse()[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var p=s.value;if(p.type!==t)break;n.push(p)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}r.splice(r.indexOf(n[0]),n.length+1);var h=n.reverse(),d=h[0].key;r.push(l.cloneElement(e,{key:"".concat(d,"-wrap"),"data-offset-key":c.encode(d,0,0)},h))}(S,m,t),t}),[]));var I=r.getKey(),D=c.encode(I,0,0),O=_(r,u),B=O.CustomComponent,L=null!=B?l.createElement(B,o({},this.props,{tree:g.getBlockTree(I),blockProps:O.customProps,offsetKey:D,block:r})):l.createElement(s,{block:r,children:x,contentState:h,customStyleFn:v,customStyleMap:y,decorator:d,direction:S,forceSelection:k,hasSelection:m(E,I),selection:E,tree:C});if(r.getParentKey())return L;var M=b(r,a).Element,A=w(r,f,D,p,O,this.wrapperRef);return l.createElement(M,A,L)},n}(l.Component);e.exports=S},3418:(e,t,r)=>{"use strict";var n=r(7907),o=r(2307),i=r(2146),a=r(4289),s=r(5399),c=r(4856),l=r(4507),u=r(4907),p=r(1244),h=r(2128),d=r(2045),f=c.isBrowser("IE"),g=!1,v=!1,y=null,m={onCompositionStart:function(e){v=!0,function(e){y||(y=new n(u(e))).start()}(e)},onCompositionEnd:function(e){g=!1,v=!1,setTimeout((function(){g||m.resolveComposition(e)}),20)},onSelect:l,onKeyDown:function(e,t){if(!v)return m.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!v){var t=d(y).stopAndFlushMutations();y=null,g=!0;var r=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var n=r.getCurrentContent();t.forEach((function(e,t){var s=i.decode(t),c=s.blockKey,l=s.decoratorKey,u=s.leafKey,p=r.getBlockTree(c).getIn([l,"leaves",u]),d=p.start,f=p.end,g=r.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:d,focusOffset:f,isBackward:!1}),v=h(n,g),y=n.getBlockForKey(c).getInlineStyleAt(d);n=o.replaceText(n,g,e,y,v),r=a.set(r,{currentContent:n})}));var s=p(r,u(e)).selectionState;e.restoreEditorDOM();var c=f?a.forceSelection(r,s):a.acceptSelection(r,s);e.update(a.push(c,n,"insert-characters"))}else e.update(r)}}};e.exports=m},8795:(e,t,r)=>{"use strict";var n=r(7418);function o(){return o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(7898),c=r(2146),l=r(9196),u=r(2620),p=r(1108),h=r(2045),d=function(e,t,r,n){return u({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===n,"public/DraftStyleDefault/listRTL":"RTL"===n})},f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var n=r.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=r.isInCompositionMode();if(t===r||null!==n&&r.getCurrentContent()===n||o&&i)return!1;var a=t.getCurrentContent(),s=r.getCurrentContent(),c=t.getDecorator(),l=r.getDecorator();return o!==i||a!==s||c!==l||r.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,n=e.blockStyleFn,a=e.customStyleMap,u=e.customStyleFn,f=e.editorState,g=e.editorKey,v=e.preventScroll,y=e.textDirectionality,m=f.getCurrentContent(),b=f.getSelection(),_=f.mustForceSelection(),w=f.getDecorator(),S=h(f.getDirectionMap()),k=m.getBlocksAsArray(),E=[],C=null,x=null,I=0;I<k.length;I++){var D=k[I],O=D.getKey(),B=D.getType(),L=r(D),M=void 0,A=void 0,T=void 0;L&&(M=L.component,A=L.props,T=L.editable);var R=y||S.get(O),N=c.encode(O,0,0),K={contentState:m,block:D,blockProps:A,blockStyleFn:n,customStyleMap:a,customStyleFn:u,decorator:w,direction:R,forceSelection:_,offsetKey:N,preventScroll:v,selection:b,tree:f.getBlockTree(O)},j=t.get(B)||t.get("unstyled"),z=j.wrapper,P=j.element||t.get("unstyled").element,F=D.getDepth(),U="";n&&(U=n(D)),"li"===P&&(U=p(U,d(B,F,x!==z||null===C||F>C,R)));var q=M||s,G={className:U,"data-block":!0,"data-editor":g,"data-offset-key":N,key:O};void 0!==T&&(G=i({},G,{contentEditable:T,suppressContentEditableWarning:!0}));var W=l.createElement(P,G,l.createElement(q,o({},K,{key:O})));E.push({block:W,wrapperTemplate:z,key:O,offsetKey:N}),C=z?D.getDepth():null,x=z}for(var V=[],H=0;H<E.length;){var Z=E[H];if(Z.wrapperTemplate){var J=[];do{J.push(E[H].block),H++}while(H<E.length&&E[H].wrapperTemplate===Z.wrapperTemplate);var X=l.cloneElement(Z.wrapperTemplate,{key:Z.key+"-wrap","data-offset-key":Z.offsetKey},J);V.push(X)}else V.push(Z.block),H++}return l.createElement("div",{"data-contents":"true"},V)},n}(l.Component);e.exports=f},7791:(e,t,r)=>{"use strict";var n=r(8642)("draft_tree_data_support");e.exports=r(n?9459:8795)},9459:(e,t,r)=>{"use strict";var n=r(7418);function o(){return o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var i=r(5821),a=r(2146),s=r(9196),c=r(2045),l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=n.prototype;return l.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var n=r.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=r.isInCompositionMode();if(t===r||null!==n&&r.getCurrentContent()===n||o&&i)return!1;var a=t.getCurrentContent(),s=r.getCurrentContent(),c=t.getDecorator(),l=r.getDecorator();return o!==i||a!==s||c!==l||r.mustForceSelection()},l.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,n=e.blockStyleFn,l=e.customStyleMap,u=e.customStyleFn,p=e.editorState,h=e.editorKey,d=e.textDirectionality,f=p.getCurrentContent(),g=p.getSelection(),v=p.mustForceSelection(),y=p.getDecorator(),m=c(p.getDirectionMap()),b=[],_=f.getBlocksAsArray()[0];_;){var w=_.getKey(),S={blockRenderMap:t,blockRendererFn:r,blockStyleFn:n,contentState:f,customStyleFn:u,customStyleMap:l,decorator:y,editorKey:h,editorState:p,forceSelection:v,selection:g,block:_,direction:d||m.get(w),tree:p.getBlockTree(w)},k=(t.get(_.getType())||t.get("unstyled")).wrapper;b.push({block:s.createElement(i,o({key:w},S)),wrapperTemplate:k,key:w,offsetKey:a.encode(w,0,0)});var E=_.getNextSiblingKey();_=E?f.getBlockForKey(E):null}for(var C=[],x=0;x<b.length;){var I=b[x];if(I.wrapperTemplate){var D=[];do{D.push(b[x].block),x++}while(x<b.length&&b[x].wrapperTemplate===I.wrapperTemplate);var O=s.cloneElement(I.wrapperTemplate,{key:I.key+"-wrap","data-offset-key":I.offsetKey},D);C.push(O)}else C.push(I.block),x++}return s.createElement("div",{"data-contents":"true"},C)},n}(s.Component);e.exports=l},3259:(e,t,r)=>{"use strict";var n=r(7418);function o(){return o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var i=r(2146),a=r(9196),s=r(4191),c=r(6633),l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.block,r=e.children,n=e.contentState,l=e.decorator,u=e.decoratorKey,p=e.direction,h=e.leafSet,d=e.text,f=t.getKey(),g=h.get("leaves"),v=l.getComponentForKey(u),y=l.getPropsForKey(u),m=i.encode(f,parseInt(u,10),0),b=d.slice(g.first().get("start"),g.last().get("end")),_=c.getHTMLDirIfDifferent(s.getDirection(b),p);return a.createElement(v,o({},y,{contentState:n,decoratedText:b,dir:_,key:m,entityKey:t.getEntityAt(h.get("start")),offsetKey:m}),r)},n}(a.Component);e.exports=l},1494:(e,t,r)=>{"use strict";var n=r(4891),o=r(2307),i=r(4289),a=r(9270),s=r(5795),c=r(1738),l=r(4486),u=r(8083),p=r(2177),h=r(2045),d={onDragEnd:function(e){e.exitCurrentMode(),f(e)},onDrop:function(e,t){var r=new n(t.nativeEvent.dataTransfer),u=e._latestEditorState,d=function(e,t){var r=null,n=null,o=s(e.currentTarget);if("function"==typeof o.caretRangeFromPoint){var i=o.caretRangeFromPoint(e.x,e.y);r=i.startContainer,n=i.startOffset}else{if(!e.rangeParent)return null;r=e.rangeParent,n=e.rangeOffset}r=h(r),n=h(n);var c=h(a(r));return l(t,c,n,c,n)}(t.nativeEvent,u);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=d){var v=r.getFiles();if(v.length>0){if(e.props.handleDroppedFiles&&p(e.props.handleDroppedFiles(d,v)))return;c(v,(function(t){t&&e.update(g(u,d,t))}))}else{var y=e._internalDrag?"internal":"external";e.props.handleDrop&&p(e.props.handleDrop(d,r,y))||(e._internalDrag?e.update(function(e,t){var r=o.moveText(e.getCurrentContent(),e.getSelection(),t);return i.push(e,r,"insert-fragment")}(u,d)):e.update(g(u,d,r.getText()))),f(e)}}}};function f(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var r=new MouseEvent("mouseup",{view:u(t),bubbles:!0,cancelable:!0});t.dispatchEvent(r)}}function g(e,t,r){var n=o.insertText(e.getCurrentContent(),t,r,e.getCurrentInlineStyle());return i.push(e,n,"insert-fragment")}e.exports=d},9394:(e,t,r)=>{"use strict";var n=r(4856),o=r(6396),i=r(3421),a=r(6155),s=r(9328),c=r(3935),l=r(9499),u=r(981),p=r(2186),h=r(9971),d=r(6397),f=r(6089),g=r(4507),v=n.isBrowser("Chrome"),y=n.isBrowser("Firefox"),m=v||y?g:function(e){},b={onBeforeInput:o,onBlur:i,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:l,onDragStart:u,onFocus:p,onInput:h,onKeyDown:d,onPaste:f,onSelect:g,onMouseUp:m,onKeyUp:m};e.exports=b},4083:(e,t,r)=>{"use strict";var n=r(1850).unstable_flushControlled;e.exports=n},2282:(e,t,r)=>{"use strict";var n=r(7418),o=r(52),i=r(9196),a=r(3759),s=r(6581),c=r(5412).setDraftEditorSelection,l=function(e){var t,r;function l(){for(var t,r,n,o,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=void 0,(n="leaf")in(r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(a))||this))?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=l.prototype;return u._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,r=t.block,n=t.start,o=t.text,i=r.getKey(),l=n+o.length;if(e.hasEdgeWithin(i,n,l)){var u=this.leaf;u||a(!1);var p,h=u.firstChild;h||a(!1),h.nodeType===Node.TEXT_NODE?p=h:s(h)?p=u:(p=h.firstChild)||a(!1),c(e,p,i,n,l)}}},u.shouldComponentUpdate=function(e){var t=this.leaf;return t||a(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},u.componentDidUpdate=function(){this._setSelection()},u.componentDidMount=function(){this._setSelection()},u.render=function(){var e=this,t=this.props.block,r=this.props.text;r.endsWith("\n")&&this.props.isLast&&(r+="\n");var a=this.props,s=a.customStyleMap,c=a.customStyleFn,l=a.offsetKey,u=a.styleSet,p=u.reduce((function(e,t){var r={},o=s[t];return void 0!==o&&e.textDecoration!==o.textDecoration&&(r.textDecoration=[e.textDecoration,o.textDecoration].join(" ").trim()),n(e,o,r)}),{});if(c){var h=c(u,t);p=n(p,h)}return i.createElement("span",{"data-offset-key":l,ref:function(t){return e.leaf=t},style:p},i.createElement(o,null,r))},l}(i.Component);e.exports=l},9513:(e,t,r)=>{"use strict";var n=r(3259),o=r(2282),i=r(2146),a=r(2371),s=r(9196),c=r(2620),l=(a.List,function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.block,r=e.contentState,a=e.customStyleFn,l=e.customStyleMap,u=e.decorator,p=e.direction,h=e.forceSelection,d=e.hasSelection,f=e.selection,g=e.tree,v=t.getKey(),y=t.getText(),m=g.size-1,b=this.props.children||g.map((function(e,c){var g=e.get("decoratorKey"),b=e.get("leaves"),_=b.size-1,w=b.map((function(e,r){var n=i.encode(v,c,r),u=e.get("start"),p=e.get("end");return s.createElement(o,{key:n,offsetKey:n,block:t,start:u,selection:d?f:null,forceSelection:h,text:y.slice(u,p),styleSet:t.getInlineStyleAt(u),customStyleMap:l,customStyleFn:a,isLast:g===m&&r===_})})).toArray();return g&&u?s.createElement(n,{block:t,children:w,contentState:r,decorator:u,decoratorKey:g,direction:p,leafSet:e,text:y,key:c}):w})).toArray();return s.createElement("div",{"data-offset-key":i.encode(v,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===p,"public/DraftStyleDefault/rtl":"RTL"===p})},b)},a}(s.Component));e.exports=l},8094:(e,t,r)=>{"use strict";var n=r(9196),o=r(2620),i=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=o({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return n.createElement("div",{className:t},n.createElement("div",{className:o("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},i}(n.Component);e.exports=i},52:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(9196),a=r(4856),s=r(3759),c=r(4368),l=a.isBrowser("IE <= 11"),u=function(e){var t,r;function a(t){var r;return o(n(r=e.call(this,t)||this),"_forceFlag",void 0),o(n(r),"_node",void 0),r._forceFlag=!1,r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=a.prototype;return u.shouldComponentUpdate=function(e){var t=this._node,r=""===e.children;c(t)||s(!1);var n=t;return r?!function(e){return l?"\n"===e.textContent:"BR"===e.tagName}(n):n.textContent!==e.children},u.componentDidMount=function(){this._forceFlag=!this._forceFlag},u.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},u.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},l?i.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return l?i.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):i.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(i.Component);e.exports=u},5880:e=>{"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},2222:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(9006),i=r(2371),a=r(3759),s=r(6363),c=(0,i.Map)(),l=s();function u(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var p={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),p.__getLastCreatedEntityKey()},create:function(e,t,r){return u("DraftEntity.create","contentState.createEntity"),p.__create(e,t,r)},add:function(e){return u("DraftEntity.add","contentState.addEntity"),p.__add(e)},get:function(e){return u("DraftEntity.get","contentState.getEntity"),p.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,l=s()},mergeData:function(e,t){return u("DraftEntity.mergeData","contentState.mergeEntityData"),p.__mergeData(e,t)},replaceData:function(e,t){return u("DraftEntity.replaceData","contentState.replaceEntityData"),p.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return l},__create:function(e,t,r){return p.__add(new o({type:e,mutability:t,data:r||{}}))},__add:function(e){return l=s(),c=c.set(l,e),l},__get:function(e){var t=c.get(e);return t||a(!1),t},__mergeData:function(e,t){var r=p.__get(e),o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},r.getData(),t),i=r.set("data",o);return c=c.set(e,i),i},__replaceData:function(e,t){var r=p.__get(e).set("data",t);return c=c.set(e,r),r}};e.exports=p},9006:(e,t,r)=>{"use strict";var n=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getType=function(){return this.get("type")},o.getMutability=function(){return this.get("mutability")},o.getData=function(){return this.get("data")},n}((0,r(2371).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=n},5195:e=>{"use strict";e.exports={getRemovalRange:function(e,t,r,n,o){var i=r.split(" ");i=i.map((function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e}));for(var a,s=n,c=null,l=null,u=0;u<i.length;u++){if(e<(a=s+i[u].length)&&s<t)null!==c||(c=s),l=a;else if(null!==c)break;s=a}var p=n+r.length,h=c===n,d=l===p;return(!h&&d||h&&!d)&&("forward"===o?l!==p&&l++:c!==n&&c--),{start:c,end:l}}}},7432:e=>{"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},2307:(e,t,r)=>{"use strict";var n=r(4516),o=r(3483),i=r(8750),a=r(1446),s=r(8687),c=r(2371),l=r(4542),u=r(8467),p=r(3759),h=r(7429),d=r(4017),f=r(4879),g=r(6043),v=c.OrderedSet,y={replaceText:function(e,t,r,o,i){var a=d(e,t),s=f(a,t),c=n.create({style:o||v(),entity:i||null});return u(s,s.getSelectionAfter(),r,c)},insertText:function(e,t,r,n,o){return t.isCollapsed()||p(!1),y.replaceText(e,t,r,n,o)},moveText:function(e,t,r){var n=s(e,t),o=y.removeRange(e,t,"backward");return y.replaceWithFragment(o,r,n)},replaceWithFragment:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",o=d(e,t),i=f(o,t);return l(i,i.getSelectionAfter(),r,n)},removeRange:function(e,t,r){var n,o,i,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),n=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(n),s=e.getBlockForKey(o);var c=t.getStartOffset(),l=t.getEndOffset(),u=i.getEntityAt(c),p=s.getEntityAt(l-1);if(n===o&&u&&u===p){var h=a(e.getEntityMap(),i,s,t,r);return f(e,h)}var g=d(e,t);return f(g,t)},splitBlock:function(e,t){var r=d(e,t),n=f(r,t);return g(n,n.getSelectionAfter())},applyInlineStyle:function(e,t,r){return o.add(e,t,r)},removeInlineStyle:function(e,t,r){return o.remove(e,t,r)},setBlockType:function(e,t,r){return h(e,t,(function(e){return e.merge({type:r,depth:0})}))},setBlockData:function(e,t,r){return h(e,t,(function(e){return e.merge({data:r})}))},mergeBlockData:function(e,t,r){return h(e,t,(function(e){return e.merge({data:e.getData().merge(r)})}))},applyEntity:function(e,t,r){var n=d(e,t);return i(n,t,r)}};e.exports=y},2146:e=>{"use strict";var t="-",r={encode:function(e,r,n){return e+t+r+t+n},decode:function(e){var r=e.split(t).reverse(),n=r[0],o=r[1];return{blockKey:r.slice(2).reverse().join(t),decoratorKey:parseInt(o,10),leafKey:parseInt(n,10)}}};e.exports=r},5712:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8777),i=r(7953),a=r(7841),s=r(5027),c=r(9769),l=r(8642),u=r(2371),p=r(5283),h=u.List,d=u.Repeat,f=l("draft_tree_data_support"),g=f?i:o,v={processHTML:function(e,t){return a(e,c,t)},processText:function(e,t,r){return e.reduce((function(e,o,i){o=p(o);var a=s(),c={key:a,type:r,text:o,characterList:h(d(t,o.length))};if(f&&0!==i){var l=i-1;c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},c,{prevSibling:(e[l]=e[l].merge({nextSibling:a})).getKey()})}return e.push(new g(c)),e}),[])}};e.exports=v},3932:(e,t,r)=>{"use strict";var n="[']",o="\\s|(?![_])"+r(5724).getPunctuation(),i=new RegExp("^(?:"+o+")*(?:"+n+"|(?!"+o+").)*(?:(?!"+o+").)"),a=new RegExp("(?:(?!"+o+").)(?:"+n+"|(?!"+o+").)*(?:"+o+")*$");function s(e,t){var r=t?a.exec(e):i.exec(e);return r?r[0]:e}var c={getBackward:function(e){return s(e,!0)},getForward:function(e){return s(e,!1)}};e.exports=c},589:e=>{"use strict";var t={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=t},8957:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(5027),a=r(3759),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,r=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var o=[].concat(e).reverse();o.length;){var i=o.pop();u=void 0,u=n({},l=i),s(l)&&(u.depth=u.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?n({},t,{depth:(e.depth||0)+1}):t})))}(l),null!=l.children&&l.children.length>0)||(delete u.children,r.push(u));var c=i.children;Array.isArray(c)||a(!1),o=o.concat([].concat(c.reverse()))}var l,u}(t),e.blocks=r,n({},e,{blocks:r})):e},fromRawStateToRawTreeState:function(e){var t=[],r=[];return e.blocks.forEach((function(e){var o=s(e),a=e.depth||0,c=n({},e,{children:[]});if(o){var l=r[0];if(null==l&&0===a)t.push(c);else if(null==l||l.depth<a-1){var u={key:i(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};r.unshift(u),1===a?t.push(u):null!=l&&l.children.push(u),u.children.push(c)}else if(l.depth===a-1)l.children.push(c);else{for(;null!=l&&l.depth>=a;)r.shift(),l=r[0];a>0?l.children.push(c):t.push(c)}}else t.push(c)})),n({},e,{blocks:t})}};e.exports=c},2119:(e,t,r)=>{"use strict";r(3620),e.exports={isValidBlock:function(e,t){var r=e.getKey(),n=e.getParentKey();if(null!=n&&!t.get(n).getChildKeys().includes(r))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===r})))return!1;var o=e.getPrevSiblingKey();if(null!=o&&t.get(o).getNextSiblingKey()!==r)return!1;var i=e.getNextSiblingKey();return(null==i||t.get(i).getPrevSiblingKey()===r)&&!(null!==i&&null!==o&&o===i||""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var r=0,n=t.shift().getKey(),o=[];null!=n;){var i=e.get(n),a=i.getChildKeys(),s=i.getNextSiblingKey();if(a.size>0){null!=s&&o.unshift(s);var c=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;n=c.getKey()}else n=null!=i.getNextSiblingKey()?i.getNextSiblingKey():o.shift();r++}return r===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(r){return t.isValidBlock(r,e)}))&&this.isConnectedTree(e)}}},3337:(e,t,r)=>{"use strict";var n,o=r(7902),i=r(2371),a=r(2045),s=i.OrderedMap,c={getDirectionMap:function(e,t){n?n.reset():n=new o;var r=e.getBlockMap(),c=r.valueSeq().map((function(e){return a(n).getDirection(e.getText())})),l=s(r.keySeq().zip(c));return null!=t&&i.is(t,l)?t:l}};e.exports=c},4289:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(4365),a=r(6912),s=r(3337),c=r(5110),l=r(2371),u=l.OrderedSet,p=l.Record,h=l.Stack,d=l.OrderedMap,f=l.List,g=p({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),v=function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,r){return t.createWithContent(a.createFromText(e),r)},t.createWithContent=function(e,r){if(0===e.getBlockMap().count())return t.createEmpty(r);var n=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:h(),redoStack:h(),decorator:r||null,selection:c.createEmpty(n)})},t.create=function(e){var r=e.currentContent,o=n({},e,{treeMap:m(r,e.decorator),directionMap:s.getDirectionMap(r)});return new t(new g(o))},t.fromJS=function(e){return new t(new g(n({},e,{directionMap:null!=e.directionMap?d(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?u(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?a.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?h(e.redoStack.map((function(e){return a.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?d(e.treeMap).map((function(e){return f(e).map((function(e){return i.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?h(e.undoStack.map((function(e){return a.fromJS(e)}))):e.undoStack,currentContent:a.fromJS(e.currentContent)})))},t.set=function(e,r){return new t(e.getImmutable().withMutations((function(t){var n=t.get("decorator"),o=n;null===r.decorator?o=null:r.decorator&&(o=r.decorator);var a=r.currentContent||e.getCurrentContent();if(o!==n){var s,c=t.get("treeMap");return s=o&&n?function(e,t,r,n,o){return r.merge(t.toSeq().filter((function(t){return n.getDecorations(t,e)!==o.getDecorations(t,e)})).map((function(t){return i.generate(e,t,n)})))}(a,a.getBlockMap(),c,o,n):m(a,o),void t.merge({decorator:o,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,r,n){var o=e.getCurrentContent().set("entityMap",r),a=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return i.generate(o,e,n)})))}(e,a.getBlockMap(),a.getEntityMap(),o)),t.merge(r)})))};var e=t.prototype;function t(e){o(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,r){return t.set(e,{inlineStyleOverride:r})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),r=this.getSelection();return r.isCollapsed()?function(e,t){var r=t.getStartKey(),n=t.getStartOffset(),o=e.getBlockForKey(r);return n>0?o.getInlineStyleAt(n-1):o.getLength()?o.getInlineStyleAt(0):b(e,r)}(t,r):function(e,t){var r=t.getStartKey(),n=t.getStartOffset(),o=e.getBlockForKey(r);return n<o.getLength()?o.getInlineStyleAt(n):n>0?o.getInlineStyleAt(n-1):b(e,r)}(t,r)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return y(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),y(e,t,!0)},t.moveSelectionToEnd=function(e){var r=e.getCurrentContent().getLastBlock(),n=r.getKey(),o=r.getLength();return t.acceptSelection(e,new c({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}))},t.moveFocusToEnd=function(e){var r=t.moveSelectionToEnd(e);return t.forceSelection(r,r.getSelection())},t.push=function(e,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===r)return e;var i=s.getDirectionMap(r,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:r,directionMap:i,lastChangeType:n,selection:r.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=e.getSelection(),c=e.getCurrentContent(),l=e.getUndoStack(),u=r;a!==c.getSelectionAfter()||function(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(e,n)?(l=l.push(c),u=u.set("selectionBefore",a)):"insert-characters"!==n&&"backspace-character"!==n&&"delete-character"!==n||(u=u.set("selectionBefore",c.getSelectionBefore()));var p=e.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(n)&&(p=null);var d={currentContent:u,directionMap:i,undoStack:l,redoStack:h(),lastChangeType:n,selection:r.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return t.set(e,d)},t.undo=function(e){if(!e.getAllowUndo())return e;var r=e.getUndoStack(),n=r.peek();if(!n)return e;var o=e.getCurrentContent(),i=s.getDirectionMap(n,e.getDirectionMap());return t.set(e,{currentContent:n,directionMap:i,undoStack:r.shift(),redoStack:e.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var r=e.getRedoStack(),n=r.peek();if(!n)return e;var o=e.getCurrentContent(),i=s.getDirectionMap(n,e.getDirectionMap());return t.set(e,{currentContent:n,directionMap:i,undoStack:e.getUndoStack().push(o),redoStack:r.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:n.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function y(e,t,r){return v.set(e,{selection:t,forceSelection:r,nativelyRenderedContent:null,inlineStyleOverride:null})}function m(e,t){return e.getBlockMap().map((function(r){return i.generate(e,r,t)})).toOrderedMap()}function b(e,t){var r=e.getBlockMap().reverse().skipUntil((function(e,r){return r===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return r?r.getInlineStyleAt(r.getLength()-1):u()}e.exports=v},7387:(e,t,r)=>{"use strict";var n=r(4856),o=r(7797),i=n.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return i&&e.altKey},usesMacOSHeuristics:function(){return i},hasCommandModifier:function(e){return i?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:o};e.exports=a},54:()=>{},1947:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289),i=r(1665),a=r(2045),s={currentBlockContainsLink:function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=r.getEntityMap();return r.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===n.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,r){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=n.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),r=o.push(e,t,"insert-characters");return o.forceSelection(r,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var r=e.getCurrentContent(),n=t.getStartKey(),i=r.getBlockBefore(n);if(i&&"atomic"===i.getType()){var a=r.getBlockMap().delete(i.getKey()),c=r.merge({blockMap:a,selectionAfter:t});if(c!==r)return o.push(e,c,"remove-range")}var l=s.tryToRemoveBlockStyle(e);return l?o.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var r=e.getCurrentContent(),i=t.getStartKey(),a=r.getBlockForKey(i).getLength();if(t.getStartOffset()<a)return null;var s=r.getBlockAfter(i);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=n.removeRange(r,c,"forward");return l!==r?o.push(e,l,"remove-range"):null},onTab:function(e,t,r){var n=t.getSelection(),a=n.getAnchorKey();if(a!==n.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=c.getDepth();if(!e.shiftKey&&u===r)return t;var p=i(s,n,e.shiftKey?-1:1,r);return o.push(t,p,"adjust-depth")},toggleBlockType:function(e,t){var r=e.getSelection(),i=r.getStartKey(),s=r.getEndKey(),c=e.getCurrentContent(),l=r;if(i!==s&&0===r.getEndOffset()){var u=a(c.getBlockBefore(s));s=u.getKey(),l=l.merge({anchorKey:i,anchorOffset:r.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==i})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var p=c.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,n.setBlockType(c,l,p),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),r=t.getAnchorKey(),n=t.getFocusKey();return t.isCollapsed()||r!==n?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var r=e.getSelection(),i=e.getCurrentInlineStyle();if(r.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var a,s=e.getCurrentContent();return a=i.has(t)?n.removeInlineStyle(s,r,t):n.applyInlineStyle(s,r,t),o.push(e,a,"change-inline-style")},toggleLink:function(e,t,r){var i=n.applyEntity(e.getCurrentContent(),t,r);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),r=t.getAnchorOffset();if(t.isCollapsed()&&0===r){var o=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(o).getType(),s=i.getBlockBefore(o);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return n.setBlockType(i,t,"unstyled")}return null}};e.exports=s},3751:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289),i=r(8687),a=r(2045),s=null,c={cut:function(e){var t=e.getCurrentContent(),r=e.getSelection(),c=null;if(r.isCollapsed()){var l=r.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===r.getAnchorOffset()){var p=t.getKeyAfter(l);if(null==p)return e;c=r.set("focusKey",p).set("focusOffset",0)}else c=r.set("focusOffset",u)}else c=r;c=a(c),s=i(t,c);var h=n.removeRange(t,c,"forward");return h===t?e:o.push(e,h,"remove-range")},paste:function(e){if(!s)return e;var t=n.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=c},5110:(e,t,r)=>{"use strict";var n=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},o.getAnchorKey=function(){return this.get("anchorKey")},o.getAnchorOffset=function(){return this.get("anchorOffset")},o.getFocusKey=function(){return this.get("focusKey")},o.getFocusOffset=function(){return this.get("focusOffset")},o.getIsBackward=function(){return this.get("isBackward")},o.getHasFocus=function(){return this.get("hasFocus")},o.hasEdgeWithin=function(e,t,r){var n=this.getAnchorKey(),o=this.getFocusKey();if(n===o&&n===e){var i=this.getStartOffset(),a=this.getEndOffset();return t<=i&&i<=r||t<=a&&a<=r}if(e!==n&&e!==o)return!1;var s=e===n?this.getAnchorOffset():this.getFocusOffset();return t<=s&&r>=s},o.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},o.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},o.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},o.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},o.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},n.createEmpty=function(e){return new n({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},n}((0,r(2371).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=n},1665:e=>{"use strict";e.exports=function(e,t,r,n){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat([[i,a.get(i)]]).map((function(e){var t=e.getDepth()+r;return t=Math.max(0,Math.min(t,n)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},2835:(e,t,r)=>{"use strict";var n=r(4516);e.exports=function(e,t,r,o){for(var i=t,a=e.getCharacterList();i<r;)a=a.set(i,n.applyEntity(a.get(i),o)),i++;return e.set("characterList",a)}},8750:(e,t,r)=>{"use strict";var n=r(2835),o=r(2371);e.exports=function(e,t,r){var i=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=i.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(o.OrderedMap([[c,i.get(c)]])).map((function(e,t){var o=t===a?s:0,i=t===c?l:e.getLength();return n(e,o,i,r)}));return e.merge({blockMap:i.merge(u),selectionBefore:t,selectionAfter:t})}},9981:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8777),i=r(7953),a=r(589),s=r(6265),c=r(1487),l=r(3759),u=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var r=t.entityMap,s=[],c={},p={},h=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var n=e.getEntityAt(t),o=a.stringify(n);p[o]||(p[o]=n,r[o]="".concat(h),h++)})),function(e,t,r,a){if(e instanceof o)r.push(u(e,t));else{e instanceof i||l(!1);var s=e.getParentKey(),c=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},u(e,t),{children:[]});s?a[s].children.push(c):r.push(c)}}(e,r,s,c)})),{blocks:s,entityMap:r}}(e,t),t=function(e,t){var r=t.blocks,n=t.entityMap,o={};return Object.keys(n).forEach((function(t,r){var n=e.getEntity(a.unstringify(t));o[r]={type:n.getType(),mutability:n.getMutability(),data:n.getData()}})),{blocks:r,entityMap:o}}(e,t),t}},7841:(e,t,r)=>{"use strict";var n;function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(4516),s=r(8777),c=r(7953),l=r(526),u=r(2222),p=r(1425),h=r(2620),d=r(5027),f=r(9769),g=r(8642),v=r(2371),y=v.List,m=v.Map,b=v.OrderedSet,_=r(8241),w=r(6581),S=r(717),k=r(5039),E=g("draft_tree_data_support"),C=new RegExp("\r","g"),x=new RegExp("\n","g"),I=new RegExp("^\n","g"),D=new RegExp("&nbsp;","g"),O=new RegExp("&#13;?","g"),B=new RegExp("&#8203;?","g"),L=["bold","bolder","500","600","700","800","900"],M=["light","lighter","normal","100","200","300","400"],A=["className","href","rel","target","title"],T=["alt","className","height","src","width"],R=(i(n={},h("public/DraftStyleDefault/depth0"),0),i(n,h("public/DraftStyleDefault/depth1"),1),i(n,h("public/DraftStyleDefault/depth2"),2),i(n,h("public/DraftStyleDefault/depth3"),3),i(n,h("public/DraftStyleDefault/depth4"),4),n),N=m({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),K=function(e){return S(e)&&e.style.fontFamily.includes("monospace")?"CODE":null},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(R).some((function(r){e.classList.contains(r)&&(t=R[r])})),t},z=function(e){if(!_(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{return new p(t.href),!0}catch(e){return!1}},P=function(e){if(!k(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},F=function(e,t){if(!S(e))return t;var r=e,n=r.style.fontWeight,o=r.style.fontStyle,i=r.style.textDecoration;return t.withMutations((function(e){L.indexOf(n)>=0?e.add("BOLD"):M.indexOf(n)>=0&&e.remove("BOLD"),"italic"===o?e.add("ITALIC"):"normal"===o&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},U=function(e){return"ul"===e||"ol"===e},q=function(){function e(e,t){i(this,"characterList",y()),i(this,"currentBlockType","unstyled"),i(this,"currentDepth",0),i(this,"currentEntity",null),i(this,"currentText",""),i(this,"wrapper",null),i(this,"blockConfigs",[]),i(this,"contentBlocks",[]),i(this,"entityMap",u),i(this,"blockTypeMap",void 0),i(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=u,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(E?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({key:e.key||d(),type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",t},t._toBlockConfigs=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n],i=o.nodeName.toLowerCase();if("body"===i||U(i)){this._trimCurrentText(),""!==this.currentText&&r.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;U(i)&&(this.wrapper=i,U(s)&&this.currentDepth++),r.push.apply(r,this._toBlockConfigs(Array.from(o.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var c=this.blockTypeMap.get(i);if(void 0===c)if("#text"!==i)if("br"!==i)if(P(o))this._addImgNode(o,t);else if(z(o))this._addAnchorNode(o,r,t);else{var l=t;N.has(i)&&(l=l.add(N.get(i))),l=F(o,l);var u=K(o);null!=u&&(l=l.add(u)),r.push.apply(r,this._toBlockConfigs(Array.from(o.childNodes),l))}else this._addBreakNode(o,t);else this._addTextNode(o,t);else{this._trimCurrentText(),""!==this.currentText&&r.push(this._makeBlockConfig());var p=this.currentDepth,h=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!=typeof c&&(c=this.disambiguate(i,this.wrapper)||c[0]||"unstyled"),!E&&S(o)&&("unordered-list-item"===c||"ordered-list-item"===c)){var f=o;this.currentDepth=j(f,this.currentDepth)}var g=d(),v=this._toBlockConfigs(Array.from(o.childNodes),t);this._trimCurrentText(),r.push(this._makeBlockConfig({key:g,childConfigs:v,type:c})),this.currentDepth=p,this.wrapper=h}}}return r},t._appendText=function(e,t){var r;this.currentText+=e;var n=a.create({style:t,entity:this.currentEntity});this.characterList=(r=this.characterList).push.apply(r,Array(e.length).fill(n))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,r=this.currentText.trimRight().length,n=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==n?Math.min(t,n[0]):t)>(r=void 0!==(n=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(r,e-n[0]):r)?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(t,r),this.characterList=this.characterList.slice(t,r))},t._addTextNode=function(e,t){var r=e.textContent;""===r.trim()&&"pre"!==this.wrapper&&(r=" "),"pre"!==this.wrapper&&(r=(r=r.replace(I,"")).replace(x," ")),this._appendText(r,t)},t._addBreakNode=function(e,t){w(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(k(e)){var r=e,n={};T.forEach((function(e){var t=r.getAttribute(e);t&&(n[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",n),g("draftjs_fix_paste_for_img")?"presentation"!==r.getAttribute("role")&&this._appendText("",t):this._appendText("",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,r){if(_(e)){var n=e,o={};A.forEach((function(e){var t=n.getAttribute(e);t&&(o[e]=t)})),o.url=new p(n.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",o||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),r)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.length-1,n=0;n<=r;n++){var i=e[n];i.parent=t,i.prevSibling=n>0?e[n-1].key:null,i.nextSibling=n<r?e[n+1].key:null,i.children=y(i.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(o({},i))),this._toContentBlocks(i.childConfigs,i.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return y(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var r=t._extractTextFromBlockConfigs(e.childConfigs),n=r.text,i=r.characterList;t.contentBlocks.push(new s(o({},e,{text:e.text+n,characterList:e.characterList.concat(i)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,r="",n=y(),o=0;o<=t;o++){var i=e[o];r+=i.text,n=n.concat(i.characterList),""!==r&&"unstyled"!==i.type&&(r+="\n",n=n.push(n.last()));var a=this._extractTextFromBlockConfigs(i.childConfigs);r+=a.text,n=n.concat(a.characterList)}return{text:r,characterList:n}},e}();e.exports=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:f)(e=e.trim().replace(C,"").replace(D," ").replace(O,"").replace(B,""));if(!r)return null;var n=function(e){var t={};return e.mapKeys((function(e,r){var n=[r.element];void 0!==r.aliasedElements&&n.push.apply(n,r.aliasedElements),n.forEach((function(r){void 0===t[r]?t[r]=e:"string"==typeof t[r]?t[r]=[t[r],e]:t[r].push(e)}))})),m(t)}(t);return new q(n,(function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null})).addDOMNode(r).getContentBlocks()}},9607:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(8777),a=r(7953),s=r(6912),c=r(2222),l=r(8957),u=(r(2119),r(5110)),p=r(6019),h=r(7134),d=r(9672),f=r(5027),g=r(8642),v=r(2371),y=r(3759),m=g("draft_tree_data_support"),b=v.List,_=v.Map,w=v.OrderedMap,S=function(e,t){var r=e.key,n=e.type,o=e.data;return{text:e.text,depth:e.depth||0,type:n||"unstyled",key:r||f(),data:_(o),characterList:k(e,t)}},k=function(e,t){var r=e.text,o=e.entityRanges,i=e.inlineStyleRanges,a=o||[];return p(d(r,i||[]),h(r,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return n({},e,{key:t[e.key]})}))))},E=function(e){return n({},e,{key:e.key||f()})},C=function(e,t,r){var o=t.map((function(e){return n({},e,{parentRef:r})}));return e.concat(o.reverse())};e.exports=function(e){Array.isArray(e.blocks)||y(!1);var t=function(e){var t=e.entityMap,r={};return Object.keys(t).forEach((function(e){var n=t[e],o=n.type,i=n.mutability,a=n.data;r[e]=c.__create(o,i,a||{})})),r}(e),r=function(e,t){var r=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),o=m&&!r?l.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!m)return function(e,t){return w(e.map((function(e){var r=new i(S(e,t));return[r.getKey(),r]})))}(r?l.fromRawTreeStateToRawState(e).blocks:o,t);var s=function(e,t){return e.map(E).reduce((function(r,o,i){Array.isArray(o.children)||y(!1);var s=o.children.map(E),c=new a(n({},S(o,t),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:b(s.map((function(e){return e.key})))}));r=r.set(c.getKey(),c);for(var l=C([],s,c);l.length>0;){var u=l.pop(),p=u.parentRef,h=p.getChildKeys(),d=h.indexOf(u.key),f=Array.isArray(u.children);if(!f){f||y(!1);break}var g=u.children.map(E),v=new a(n({},S(u,t),{parent:p.getKey(),children:b(g.map((function(e){return e.key}))),prevSibling:0===d?null:h.get(d-1),nextSibling:d===h.size-1?null:h.get(d+1)}));r=r.set(v.getKey(),v),l=C(l,g,v)}return r}),w())}(o,t);return s}(e,t),o=r.isEmpty()?new u:u.createEmpty(r.first().getKey());return new s({blockMap:r,entityMap:t,selectionBefore:o,selectionAfter:o})}},6019:(e,t,r)=>{"use strict";var n=r(4516),o=r(2371).List;e.exports=function(e,t){var r=e.map((function(e,r){var o=t[r];return n.create({style:e,entity:o})}));return o(r)}},7134:(e,t,r)=>{"use strict";var n=r(8935).substr;e.exports=function(e,t){var r=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var o=n(e,0,t.offset).length,i=o+n(e,t.offset,t.length).length,a=o;a<i;a++)r[a]=t.key})),r}},9672:(e,t,r)=>{"use strict";var n=r(8935),o=r(2371).OrderedSet,i=n.substr,a=o();e.exports=function(e,t){var r=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var n=i(e,0,t.offset).length,o=n+i(e,t.offset,t.length).length;n<o;)r[n]=r[n].add(t.style),n++})),r}},9780:e=>{"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},6396:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289),i=r(4856),a=r(2128),s=r(2177),c=r(258),l=r(2045),u=r(6926),p=i.isBrowser("Firefox");function h(e,t,r,i,a){var s=n.replaceText(e.getCurrentContent(),e.getSelection(),t,r,i);return o.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e._latestEditorState,n=t.data;if(n)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(n,r,t.timeStamp)))t.preventDefault();else{var i=r.getSelection(),d=i.getStartOffset(),f=i.getAnchorKey();if(!i.isCollapsed())return t.preventDefault(),void e.update(h(r,n,r.getCurrentInlineStyle(),a(r.getCurrentContent(),r.getSelection()),!0));var g,v=h(r,n,r.getCurrentInlineStyle(),a(r.getCurrentContent(),r.getSelection()),!1),y=!1;if(y||(y=c(e._latestCommittedEditorState)),!y){var m=r.getBlockTree(f),b=v.getBlockTree(f);y=m.size!==b.size||m.zip(b).some((function(e){var t=e[0],r=e[1],o=t.get("start"),i=o+(o>=d?n.length:0),a=t.get("end"),s=a+(a>=d?n.length:0),c=r.get("start"),l=r.get("end"),u=r.get("decoratorKey");return t.get("decoratorKey")!==u||t.get("leaves").size!==r.get("leaves").size||i!==c||s!==l||null!=u&&l-c!=a-o}))}if(y||(g=n,y=p&&("'"==g||"/"==g)),y||(y=l(v.getDirectionMap()).get(f)!==l(r.getDirectionMap()).get(f)),y)return t.preventDefault(),v=o.set(v,{forceSelection:!0}),void e.update(v);v=o.set(v,{nativelyRenderedContent:v.getCurrentContent()}),e._pendingStateFromBeforeInput=v,u((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},3421:(e,t,r)=>{"use strict";var n=r(4289),o=r(7476),i=r(1003);e.exports=function(e,t){var r=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&i(r)===r.body){var a=r.defaultView.getSelection(),s=e.editor;1===a.rangeCount&&o(s,a.anchorNode)&&o(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(n.acceptSelection(c,u))}}},6155:(e,t,r)=>{"use strict";var n=r(4289);e.exports=function(e,t){e.setMode("composite"),e.update(n.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},9328:(e,t,r)=>{"use strict";var n=r(4882);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(n(e._latestEditorState))}},3935:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289),i=r(9051),a=r(4882),s=r(9749),c=r(809);e.exports=function(e,t){var r,l=e._latestEditorState,u=l.getSelection(),p=t.target;if(u.isCollapsed())t.preventDefault();else{if(c(p)){var h=p;r=s(i.getScrollParent(h))}var d=a(l);e.setClipboard(d),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(r),e.exitCurrentMode(),e.update(function(e){var t=n.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return o.push(e,t,"remove-range")}(l))}),0)}}},9499:e=>{"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},981:e=>{"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},2186:(e,t,r)=>{"use strict";var n=r(4289),o=r(4856);e.exports=function(e,t){var r=e._latestEditorState,i=r.getSelection();if(!i.getHasFocus()){var a=i.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),o.isBrowser("Chrome < 60.0.3081.0")?e.update(n.forceSelection(r,a)):e.update(n.acceptSelection(r,a))}}},9971:(e,t,r)=>{"use strict";var n=r(2307),o=r(2146),i=r(4289),a=r(4856),s=r(9780).notEmptyKey,c=r(9270),l=r(2800),u=r(2045),p=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e.editor.ownerDocument.defaultView.getSelection(),a=r.anchorNode,h=r.isCollapsed,d=(null==a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null==a?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(null!=a&&!d){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var f=a.parentNode;if(null==f)return;a.nodeValue=f.textContent;for(var g=f.firstChild;null!=g;g=g.nextSibling)g!==a&&f.removeChild(g)}var v=a.textContent,y=e._latestEditorState,m=u(c(a)),b=o.decode(m),_=b.blockKey,w=b.decoratorKey,S=b.leafKey,k=y.getBlockTree(_).getIn([w,"leaves",S]),E=k.start,C=k.end,x=y.getCurrentContent(),I=x.getBlockForKey(_),D=I.getText().slice(E,C);if(v.endsWith("\n\n")&&(v=v.slice(0,-1)),v!==D){var O,B,L,M,A=y.getSelection(),T=A.merge({anchorOffset:E,focusOffset:C,isBackward:!1}),R=I.getEntityAt(E),N=s(R)?x.getEntity(R):null,K="MUTABLE"===(null!=N?N.getMutability():null),j=K?"spellcheck-change":"apply-entity",z=n.replaceText(x,T,v,I.getInlineStyleAt(E),K?I.getEntityAt(E):null);if(p)O=r.anchorOffset,B=r.focusOffset,M=(L=E+Math.min(O,B))+Math.abs(O-B),O=L,B=M;else{var P=v.length-D.length;L=A.getStartOffset(),M=A.getEndOffset(),O=h?M+P:L,B=M+P}var F=z.merge({selectionBefore:x.getSelectionAfter(),selectionAfter:A.merge({anchorOffset:O,focusOffset:B})});e.update(i.push(y,F,j))}else{var U=t.nativeEvent.inputType;if(U){var q=function(e,t){return"deleteContentBackward"===e?l(t):t}(U,y);if(q!==y)return e.restoreEditorDOM(),void e.update(q)}}}}},6397:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289),i=r(7387),a=r(5399),s=r(3751),c=r(4856),l=r(2177),u=r(9779),p=r(1050),h=r(3767),d=r(7978),f=r(7217),g=r(8425),v=r(2800),y=r(3998),m=r(3318),b=r(7051),_=i.isOptionKeyCommand,w=c.isBrowser("Chrome");e.exports=function(e,t){var r=t.which,i=e._latestEditorState;function c(r){var n=e.props[r];return!!n&&(n(t),!0)}switch(r){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,i)))return;break;case a.ESC:if(t.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:w&&_(t)&&t.preventDefault()}var S=e.props.keyBindingFn(t);if(null!=S&&""!==S)if("undo"!==S){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(S,i,t.timeStamp))){var k=function(e,t,r){switch(e){case"redo":return o.redo(t);case"delete":return y(t);case"delete-word":return h(t);case"backspace":return v(t);case"backspace-word":return p(t);case"backspace-to-start-of-line":return u(t,r);case"split-block":return d(t);case"transpose-characters":return m(t);case"move-selection-to-start-of-block":return g(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(S,i,t);k!==i&&e.update(k)}}else b(t,i,e.update);else if(r===a.SPACE&&w&&_(t)){var E=n.replaceText(i.getCurrentContent(),i.getSelection(),"");e.update(o.push(i,E,"insert-characters"))}}},6089:(e,t,r)=>{"use strict";var n=r(329),o=r(4516),i=r(4891),a=r(2307),s=r(5712),c=r(4289),l=r(1947),u=r(2128),p=r(1738),h=r(2177),d=r(4300);function f(e,t,r){var n=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,n.set("entityMap",r),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var r=new i(t.clipboardData);if(!r.isRichText()){var g=r.getFiles(),v=r.getText();if(g.length>0){if(e.props.handlePastedFiles&&h(e.props.handlePastedFiles(g)))return;return void p(g,(function(t){if(t=t||v){var r=e._latestEditorState,i=d(t),p=o.create({style:r.getCurrentInlineStyle(),entity:u(r.getCurrentContent(),r.getSelection())}),h=l.getCurrentBlockType(r),f=s.processText(i,p,h),g=n.createFromArray(f),y=a.replaceWithFragment(r.getCurrentContent(),r.getSelection(),g);e.update(c.push(r,y,"insert-fragment"))}}))}}var y=[],m=r.getText(),b=r.getHTML(),_=e._latestEditorState;if(e.props.formatPastedText){var w=e.props.formatPastedText(m,b);m=w.text,b=w.html}if(!e.props.handlePastedText||!h(e.props.handlePastedText(m,b,_))){if(m&&(y=d(m)),!e.props.stripPastedStyles){var S,k=e.getClipboard();if(!e.props.formatPastedText&&r.isRichText()&&k){if(-1!==(null===(S=b)||void 0===S?void 0:S.indexOf(e.getEditorKey()))||1===y.length&&1===k.size&&k.first().getText()===m)return void e.update(f(e._latestEditorState,k))}else if(k&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,r){return t.getText()===e[r]}))}(y,k))return void e.update(f(e._latestEditorState,k));if(b){var E=s.processHTML(b,e.props.blockRenderMap);if(E){var C=E.contentBlocks,x=E.entityMap;if(C){var I=n.createFromArray(C);return void e.update(f(e._latestEditorState,I,x))}}}e.setClipboard(null)}if(y.length){var D=o.create({style:_.getCurrentInlineStyle(),entity:u(_.getCurrentContent(),_.getSelection())}),O=l.getCurrentBlockType(_),B=s.processText(y,D,O),L=n.createFromArray(B);e.update(f(e._latestEditorState,L))}}}},4507:(e,t,r)=>{"use strict";var n=r(7432),o=r(4289),i=r(4907),a=r(1244);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();n.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var r=e.props.editorState,s=a(r,i(e)),c=s.selectionState;c!==r.getSelection()&&(r=s.needsRecovery?o.forceSelection(r,c):o.acceptSelection(r,c),e.update(r))}}},6265:(e,t,r)=>{"use strict";var n=r(589),o=r(8935).strlen;e.exports=function(e,t){var r=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(i,a){var s=e.getText(),c=e.getEntityAt(i);r.push({offset:o(s.slice(0,i)),length:o(s.slice(i,a)),key:Number(t[n.stringify(c)])})})),r}},1487:(e,t,r)=>{"use strict";var n=r(8935),o=r(9407),i=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),r=t.flatten().toSet().map((function(r){return function(e,t,r){var s=[],c=t.map((function(e){return e.has(r)})).toList();return o(c,i,a,(function(t,o){var i=e.getText();s.push({offset:n.strlen(i.slice(0,t)),length:n.strlen(i.slice(t,o)),style:r})})),s}(e,t,r)}));return Array.prototype.concat.apply(s,r.toJS())}},8182:(e,t,r)=>{"use strict";var n=r(8935),o=r(5795),i=r(6092),a=r(3759);function s(e,t){for(var r=1/0,n=1/0,o=-1/0,i=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(r=Math.min(r,s.top),n=Math.min(n,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=n&&o-r<t&&i-n<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var r=function(e){var t=getComputedStyle(e),r=o(e),n=r.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var i=r.body;i||a(!1),i.appendChild(n);var s=n.getBoundingClientRect();return i.removeChild(n),s.height}(t),l=e.endContainer,u=e.endOffset;for(e.setStart(e.startContainer,0);s(i(e),r)&&(l=e.startContainer,u=e.startOffset,l.parentNode||a(!1),e.setStartBefore(l),1!==l.nodeType||"inline"===getComputedStyle(l).display););for(var p=l,h=u-1;;){for(var d=p.nodeValue,f=h;f>=0;f--)if(!(null!=d&&f>0&&n.isSurrogatePair(d,f-1))){if(e.setStart(p,f),!s(i(e),r))break;l=p,u=f}if(-1===f||0===p.childNodes.length)break;h=c(p=p.childNodes[f])}return e.setStart(l,u),e}},9270:(e,t,r)=>{"use strict";var n=r(5795),o=r(3578);e.exports=function(e){for(var t=e;t&&t!==n(e).documentElement;){var r=o(t);if(null!=r)return r;t=t.parentNode}return null}},9407:e=>{"use strict";e.exports=function(e,t,r,n){if(e.size){var o=0;e.reduce((function(e,i,a){return t(e,i)||(r(e)&&n(o,a),o=a),i})),r(e.last())&&n(o,e.count())}}},5027:e=>{"use strict";var t={},r=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||t.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*r).toString(32);return t[e]=!0,e}},1446:(e,t,r)=>{"use strict";var n=r(5195),o=r(4994),i=r(3759);function a(e,t,r,a,s,c,l){var u=r.getStartOffset(),p=r.getEndOffset(),h=e.__get(s).getMutability(),d=l?u:p;if("MUTABLE"===h)return r;var f=o(t,s).filter((function(e){return d<=e.end&&d>=e.start}));1!=f.length&&i(!1);var g=f[0];if("IMMUTABLE"===h)return r.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});c||(l?p=g.end:u=g.start);var v=n.getRemovalRange(u,p,t.getText().slice(g.start,g.end),g.start,a);return r.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}e.exports=function(e,t,r,n,o){var i=n.getStartOffset(),s=n.getEndOffset(),c=t.getEntityAt(i),l=r.getEntityAt(s-1);if(!c&&!l)return n;var u=n;if(c&&c===l)u=a(e,t,u,o,c,!0,!0);else if(c&&l){var p=a(e,t,u,o,c,!1,!0),h=a(e,r,u,o,l,!1,!1);u=u.merge({anchorOffset:p.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(c){var d=a(e,t,u,o,c,!1,!0);u=u.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(l){var f=a(e,r,u,o,l,!1,!1);u=u.merge({focusOffset:f.getEndOffset(),isBackward:!1})}return u}},4907:(e,t,r)=>{"use strict";var n=r(3759),o=r(717);e.exports=function(e){var t=e.editorContainer;return t||n(!1),o(t.firstChild)||n(!1),t.firstChild}},8687:(e,t,r)=>{"use strict";var n=r(8555),o=r(4017);e.exports=function(e,t){var r=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=o(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(r),p=l.indexOf(a)+1;return n(c.slice(u,p).map((function(e,t){var n=e.getText(),o=e.getCharacterList();return r===a?e.merge({text:n.slice(i,s),characterList:o.slice(i,s)}):t===r?e.merge({text:n.slice(i),characterList:o.slice(i)}):t===a?e.merge({text:n.slice(0,s),characterList:o.slice(0,s)}):e})))}},5795:e=>{"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},1714:(e,t,r)=>{"use strict";var n=r(7387),o=r(5399),i=r(4856),a=i.isPlatform("Mac OS X"),s=a&&i.isBrowser("Firefox < 29"),c=n.hasCommandModifier,l=n.isCtrlKeyCommand;function u(e){return a&&e.altKey||l(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return l(e)?"delete":null;case 72:return l(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return a&&l(e)?"secondary-cut":null;case 77:case 79:return l(e)?"split-block":null;case 84:return a&&l(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return a&&l(e)?"backspace-word":null;case 89:return l(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case o.RETURN:return"split-block";case o.DELETE:return function(e){return!a&&e.shiftKey?null:u(e)?"delete-word":"delete"}(e);case o.BACKSPACE:return function(e){return c(e)&&a?"backspace-to-start-of-line":u(e)?"backspace-word":"backspace"}(e);case o.LEFT:return s&&c(e)?"move-selection-to-start-of-block":null;case o.RIGHT:return s&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},1244:(e,t,r)=>{"use strict";var n=r(8101);e.exports=function(e,t){var r=t.ownerDocument.defaultView.getSelection(),o=r.anchorNode,i=r.anchorOffset,a=r.focusNode,s=r.focusOffset;return 0===r.rangeCount||null==o||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:n(e,t,o,i,a,s)}},8101:(e,t,r)=>{"use strict";var n=r(9270),o=r(3578),i=r(4486),a=r(3759),s=r(4368),c=r(2045);function l(e,t,r){var i=t,l=n(i);if(null!=l||e&&(e===i||e.firstChild===i)||a(!1),e===i&&(i=i.firstChild,s(i)||a(!1),"true"!==i.getAttribute("data-contents")&&a(!1),r>0&&(r=i.childNodes.length)),0===r){var p=null;if(null!=l)p=l;else{var h=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||o(e.firstChild));)e=e.firstChild;return e}(i);p=c(o(h))}return{key:p,offset:0}}var d=i.childNodes[r-1],f=null,g=null;if(o(d)){var v=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||o(e.lastChild));)e=e.lastChild;return e}(d);f=c(o(v)),g=u(v)}else f=c(l),g=u(d);return{key:f,offset:g}}function u(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,r,o,a,s){var u=r.nodeType===Node.TEXT_NODE,p=a.nodeType===Node.TEXT_NODE;if(u&&p)return{selectionState:i(e,c(n(r)),o,c(n(a)),s),needsRecovery:!1};var h=null,d=null,f=!0;return u?(h={key:c(n(r)),offset:o},d=l(t,a,s)):p?(d={key:c(n(a)),offset:s},h=l(t,r,o)):(h=l(t,r,o),d=l(t,a,s),r===a&&o===s&&(f=!!r.firstChild&&"BR"!==r.firstChild.nodeName)),{selectionState:i(e,h.key,h.offset,d.key,d.offset),needsRecovery:f}}},2128:(e,t,r)=>{"use strict";var n=r(9780).notEmptyKey;function o(e,t){return n(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var r;if(t.isCollapsed()){var n=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(r=e.getBlockForKey(n).getEntityAt(i-1))!==e.getBlockForKey(n).getEntityAt(i)?null:o(e.getEntityMap(),r):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return r=s===c.getLength()?null:c.getEntityAt(s),o(e.getEntityMap(),r)}},4882:(e,t,r)=>{"use strict";var n=r(8687);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:n(e.getCurrentContent(),t)}},9506:(e,t,r)=>{"use strict";var n=r(7953);e.exports=function(e,t){if(!(e instanceof n))return null;var r=e.getNextSiblingKey();if(r)return r;var o=e.getParentKey();if(!o)return null;for(var i=t.get(o);i&&!i.getNextSiblingKey();){var a=i.getParentKey();i=a?t.get(a):null}return i?i.getNextSiblingKey():null}},6495:e=>{"use strict";e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},8056:(e,t,r)=>{"use strict";var n=r(6092);e.exports=function(e){var t=n(e),r=0,o=0,i=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];r=s.top,o=s.right,i=s.bottom,a=s.left}else{var c=t[0];r=c.top,o=c.right,i=c.bottom,a=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(r=Math.min(r,u.top),o=Math.max(o,u.right),i=Math.max(i,u.bottom),a=Math.min(a,u.left))}}return{top:r,right:o,bottom:i,left:a,width:o-a,height:i-r}}},6092:(e,t,r)=>{"use strict";var n=r(4856),o=r(3759),i=n.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),r=[],n=e.endContainer;null!=n;n=n.parentNode){var i=n===e.commonAncestorContainer;i?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(r.push(s),i)return r.reverse(),(a=[]).concat.apply(a,r);t.setEndBefore(n)}o(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=i},4994:(e,t,r)=>{"use strict";var n=r(3759);e.exports=function(e,t){var r=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){r.push({start:e,end:t})})),r.length||n(!1),r}},9769:(e,t,r)=>{"use strict";var n=r(4856),o=r(3759),i=n.isBrowser("IE <= 9");e.exports=function(e){var t,r=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||o(!1),t.documentElement.innerHTML=e,r=t.getElementsByTagName("body")[0]),r}},3578:(e,t,r)=>{"use strict";var n=r(4368);e.exports=function e(t){if(n(t)){var r=t,o=r.getAttribute("data-offset-key");if(o)return o;for(var i=0;i<r.childNodes.length;i++){var a=e(r.childNodes[i]);if(a)return a}}return null}},1738:(e,t,r)=>{"use strict";var n=r(3759),o=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,t){var a=0,s=[];e.forEach((function(c){!function(e,t){if(!r.g.FileReader||e.type&&!(e.type in i))t("");else{if(""===e.type){var a="";return o.test(e.name)&&(a=e.name.replace(o,"")),void t(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!=typeof e&&n(!1),t(e)},s.onerror=function(){t("")},s.readAsText(e)}}(c,(function(r){a++,r&&s.push(r.slice(0,5e3)),a==e.length&&t(s.join("\r"))}))}))}},4486:(e,t,r)=>{"use strict";var n=r(2146),o=r(2045);e.exports=function(e,t,r,i,a){var s=o(e.getSelection());if(!t||!i)return s;var c=n.decode(t),l=c.blockKey,u=e.getBlockTree(l),p=u&&u.getIn([c.decoratorKey,"leaves",c.leafKey]),h=n.decode(i),d=h.blockKey,f=e.getBlockTree(d),g=f&&f.getIn([h.decoratorKey,"leaves",h.leafKey]);if(!p||!g)return s;var v=p.get("start"),y=g.get("start"),m=p?v+r:null,b=g?y+a:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===m&&s.getFocusKey()===d&&s.getFocusOffset()===b)return s;var _=!1;if(l===d){var w=p.get("end"),S=g.get("end");_=y===v&&S===w?a<r:y<v}else _=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===l||e===d})).first()===d;return s.merge({anchorKey:l,anchorOffset:m,focusKey:d,focusOffset:b,isBackward:_})}},6629:(e,t,r)=>{"use strict";var n=r(8056);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var r=t.getRangeAt(0),o=n(r),i=o.top,a=o.right,s=o.bottom,c=o.left;return 0===i&&0===a&&0===s&&0===c?null:o}},8083:e=>{"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},8642:e=>{"use strict";e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX||!window.__DRAFT_GKX[e])}},4542:(e,t,r)=>{"use strict";var n=r(329),o=r(7953),i=r(2371),a=r(779),s=r(3759),c=r(8555),l=i.List;e.exports=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var u=e.getBlockMap(),p=c(r),h=t.getStartKey(),d=t.getStartOffset(),f=u.get(h);return f instanceof o&&(f.getChildKeys().isEmpty()||s(!1)),1===p.size?function(e,t,r,n,o,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=r.get(o),l=c.getText(),u=c.getCharacterList(),p=o,h=i+n.getText().length,d=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":d=n.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":d=n.getData()}var f=c.getType();l&&"unstyled"===f&&(f=n.getType());var g=c.merge({text:l.slice(0,i)+n.getText()+l.slice(i),characterList:a(u,n.getCharacterList(),i),type:f,data:d});return e.merge({blockMap:r.set(o,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:h,focusKey:p,focusOffset:h,isBackward:!1})})}(e,t,u,p.first(),h,d,i):function(e,t,r,i,a,s){var c=r.first()instanceof o,u=[],p=i.size,h=r.get(a),d=i.first(),f=i.last(),g=f.getLength(),v=f.getKey(),y=c&&(!h.getChildKeys().isEmpty()||!d.getChildKeys().isEmpty());r.forEach((function(e,t){t===a?(y?u.push(e):u.push(function(e,t,r){var n=e.getText(),o=e.getCharacterList(),i=n.slice(0,t),a=o.slice(0,t),s=r.first();return e.merge({text:i+s.getText(),characterList:a.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})}(e,s,i)),i.slice(y?0:1,p-1).forEach((function(e){return u.push(e)})),u.push(function(e,t,r){var n=e.getText(),o=e.getCharacterList(),i=n.length,a=n.slice(t,i),s=o.slice(t,i),c=r.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,i))):u.push(e)}));var m=n.createFromArray(u);return c&&(m=function(e,t,r,n){return e.withMutations((function(t){var o=r.getKey(),i=n.getKey(),a=r.getNextSiblingKey(),s=r.getParentKey(),c=function(e,t){var r=e.getKey(),n=e,o=[];for(t.get(r)&&o.push(r);n&&n.getNextSiblingKey();){var i=n.getNextSiblingKey();if(!i)break;o.push(i),n=t.get(i)}return o}(n,e),u=c[c.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],n.getNextSiblingKey()),t.setIn([n.getNextSiblingKey(),"prevSibling"],o)),t.setIn([u,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],u),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var p=e.get(s).getChildKeys(),h=p.indexOf(o)+1,d=p.toArray();d.splice.apply(d,[h,0].concat(c)),t.setIn([s,"children"],l(d))}}))}(m,0,h,d)),e.merge({blockMap:m,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:g,focusKey:v,focusOffset:g,isBackward:!1})})}(e,t,u,p,h,d)}},779:e=>{"use strict";e.exports=function(e,t,r){var n=e;if(r===n.count())t.forEach((function(e){n=n.push(e)}));else if(0===r)t.reverse().forEach((function(e){n=n.unshift(e)}));else{var o=n.slice(0,r),i=n.slice(r);n=o.concat(t,i).toList()}return n}},8467:(e,t,r)=>{"use strict";var n=r(2371),o=r(779),i=r(3759),a=n.Repeat;e.exports=function(e,t,r,n){t.isCollapsed()||i(!1);var s=null;if(null!=r&&(s=r.length),null==s||0===s)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),p=c.get(l),h=p.getText(),d=p.merge({text:h.slice(0,u)+r+h.slice(u,p.getLength()),characterList:o(p.getCharacterList(),a(n,s).toList(),u)}),f=u+s;return e.merge({blockMap:c.set(l,d),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},4368:e=>{"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},2177:e=>{"use strict";e.exports=function(e){return"handled"===e||!0===e}},8241:(e,t,r)=>{"use strict";var n=r(4368);e.exports=function(e){return!(!e||!e.ownerDocument)&&n(e)&&"A"===e.nodeName}},6581:(e,t,r)=>{"use strict";var n=r(4368);e.exports=function(e){return!(!e||!e.ownerDocument)&&n(e)&&"BR"===e.nodeName}},717:e=>{"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},5039:(e,t,r)=>{"use strict";var n=r(4368);e.exports=function(e){return!(!e||!e.ownerDocument)&&n(e)&&"IMG"===e.nodeName}},809:e=>{"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},258:e=>{"use strict";e.exports=function(e){var t=e.getSelection(),r=t.getAnchorKey(),n=e.getBlockTree(r),o=t.getStartOffset(),i=!1;return n.some((function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return o===t&&(i=!0,!0)}))})),i}},7797:(e,t,r)=>{"use strict";var n=r(5399);e.exports=function(e){return e.which===n.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},9779:(e,t,r)=>{"use strict";var n=r(4289),o=r(8182),i=r(8101),a=r(3268),s=r(4730);e.exports=function(e,t){var r=s(e,(function(e){var r=e.getSelection();if(r.isCollapsed()&&0===r.getAnchorOffset())return a(e,1);var n=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return n=o(n),i(e,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState}),"backward");return r===e.getCurrentContent()?e:n.push(e,r,"remove-range")}},1050:(e,t,r)=>{"use strict";var n=r(3932),o=r(4289),i=r(3268),a=r(4730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),r=t.getStartOffset();if(0===r)return i(e,1);var o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(0,r),s=n.getBackward(a);return i(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},3767:(e,t,r)=>{"use strict";var n=r(3932),o=r(4289),i=r(9417),a=r(4730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),r=t.getStartOffset(),o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(r),s=n.getForward(a);return i(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},7978:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289);e.exports=function(e){var t=n.splitBlock(e.getCurrentContent(),e.getSelection());return o.push(e,t,"split-block")}},7217:(e,t,r)=>{"use strict";var n=r(4289);e.exports=function(e){var t=e.getSelection(),r=t.getEndKey(),o=e.getCurrentContent().getBlockForKey(r).getLength();return n.set(e,{selection:t.merge({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}),forceSelection:!0})}},8425:(e,t,r)=>{"use strict";var n=r(4289);e.exports=function(e){var t=e.getSelection(),r=t.getStartKey();return n.set(e,{selection:t.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}},2800:(e,t,r)=>{"use strict";var n=r(4289),o=r(8935),i=r(3268),a=r(4730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),a=t.getAnchorOffset(),s=r.getBlockForKey(n).getText()[a-1];return i(e,s?o.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}},3998:(e,t,r)=>{"use strict";var n=r(4289),o=r(8935),i=r(9417),a=r(4730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),a=t.getAnchorOffset(),s=r.getBlockForKey(n).getText()[a];return i(e,s?o.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}},3318:(e,t,r)=>{"use strict";var n=r(2307),o=r(4289),i=r(8687);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(0===r)return e;var a,s,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;r===u?(a=t.set("anchorOffset",r-1),s=t):s=(a=t.set("focusOffset",r+1)).set("anchorOffset",r+1);var p=i(l,a),h=n.removeRange(l,a,"backward"),d=h.getSelectionAfter(),f=d.getAnchorOffset()-1,g=d.merge({anchorOffset:f,focusOffset:f}),v=n.replaceWithFragment(h,g,p),y=o.push(e,v,"insert-fragment");return o.acceptSelection(y,s)}},7051:(e,t,r)=>{"use strict";var n=r(4289);e.exports=function(e,t,r){var o=n.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(r(n.set(t,{nativelyRenderedContent:null})),setTimeout((function(){r(o)}),0)):r(o);else{var i=o.getCurrentContent();r(n.set(o,{nativelyRenderedContent:i}))}}},7429:(e,t,r)=>{"use strict";var n=r(2371).Map;e.exports=function(e,t,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat(n([[i,a.get(i)]])).map(r);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},1173:(e,t,r)=>{"use strict";var n=r(7953),o=r(9506),i=r(2371),a=r(3759),s=i.OrderedMap,c=i.List,l=function(e,t,r){if(e){var n=t.get(e);n&&t.set(e,r(n))}},u=function(e,t,r,n,o){if(!o)return e;var i="after"===n,a=t.getKey(),s=r.getKey(),u=t.getParentKey(),p=t.getNextSiblingKey(),h=t.getPrevSiblingKey(),d=r.getParentKey(),f=i?r.getNextSiblingKey():s,g=i?s:r.getPrevSiblingKey();return e.withMutations((function(e){l(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),l(h,e,(function(e){return e.merge({nextSibling:p})})),l(p,e,(function(e){return e.merge({prevSibling:h})})),l(f,e,(function(e){return e.merge({prevSibling:a})})),l(g,e,(function(e){return e.merge({nextSibling:a})})),l(d,e,(function(e){var t=e.getChildKeys(),r=t.indexOf(s),n=i?r+1:0!==r?r-1:0,o=t.toArray();return o.splice(n,0,a),e.merge({children:c(o)})})),l(a,e,(function(e){return e.merge({nextSibling:f,prevSibling:g,parent:d})}))}))};e.exports=function(e,t,r,i){"replace"===i&&a(!1);var c=r.getKey(),l=t.getKey();l===c&&a(!1);var p=e.getBlockMap(),h=t instanceof n,d=[t],f=p.delete(l);h&&(d=[],f=p.withMutations((function(e){var r=t.getNextSiblingKey(),n=o(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===l})).takeWhile((function(e){var t=e.getKey(),o=t===l,i=r&&t!==r,a=!r&&e.getParentKey()&&(!n||t!==n);return!!(o||i||a)})).forEach((function(t){d.push(t),e.delete(t.getKey())}))})));var g=f.toSeq().takeUntil((function(e){return e===r})),v=f.toSeq().skipUntil((function(e){return e===r})).skip(1),y=d.map((function(e){return[e.getKey(),e]})),m=s();if("before"===i){var b=e.getBlockBefore(c);b&&b.getKey()===t.getKey()&&a(!1),m=g.concat([].concat(y,[[c,r]]),v).toOrderedMap()}else if("after"===i){var _=e.getBlockAfter(c);_&&_.getKey()===l&&a(!1),m=g.concat([[c,r]].concat(y),v).toOrderedMap()}return e.merge({blockMap:u(m,t,r,i,h),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},3268:(e,t,r)=>{"use strict";r(3620),e.exports=function(e,t){var r=e.getSelection(),n=e.getCurrentContent(),o=r.getStartKey(),i=r.getStartOffset(),a=o,s=0;if(t>i){var c=n.getKeyBefore(o);null==c?a=o:(a=c,s=n.getBlockForKey(c).getText().length)}else s=i-t;return r.merge({focusKey:a,focusOffset:s,isBackward:!0})}},9417:(e,t,r)=>{"use strict";r(3620),e.exports=function(e,t){var r,n=e.getSelection(),o=n.getStartKey(),i=n.getStartOffset(),a=e.getCurrentContent(),s=o;return t>a.getBlockForKey(o).getText().length-i?(s=a.getKeyAfter(o),r=0):r=i+t,n.merge({focusKey:s,focusOffset:r})}},8555:(e,t,r)=>{"use strict";var n=r(7953),o=r(5027),i=r(2371).OrderedMap;e.exports=function(e){return e.first()instanceof n?function(e){var t,r={};return i(e.withMutations((function(e){e.forEach((function(n,i){var a=n.getKey(),s=n.getNextSiblingKey(),c=n.getPrevSiblingKey(),l=n.getChildKeys(),u=n.getParentKey(),p=o();if(r[a]=p,s&&(e.get(s)?e.setIn([s,"prevSibling"],p):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],p):e.setIn([a,"prevSibling"],null)),u&&e.get(u)){var h=e.get(u).getChildKeys();e.setIn([u,"children"],h.set(h.indexOf(n.getKey()),p))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],p),e.setIn([a,"prevSibling"],r[t.getKey()])),t=e.get(a);l.forEach((function(t){e.get(t)?e.setIn([t,"parent"],p):e.setIn([a,"children"],n.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[r[e.getKey()],e.set("key",r[e.getKey()])]})))}(e):function(e){return i(e.toArray().map((function(e){var t=o();return[t,e.set("key",t)]})))}(e)}},4017:(e,t,r)=>{"use strict";var n=r(4516),o=r(9407),i=r(3759);function a(e,t,r){var a=t.getCharacterList(),s=r>0?a.get(r-1):void 0,c=r<a.count()?a.get(r):void 0,l=s?s.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var p,h=function(e,t,r){var n;return o(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=r&&t>=r&&(n={start:e,end:t})})),"object"!=typeof n&&i(!1),n}(a,u,r),d=h.start,f=h.end;d<f;)p=a.get(d),a=a.set(d,n.applyEntity(p,null)),d++;return t.set("characterList",a)}return t}e.exports=function(e,t){var r=e.getBlockMap(),n=e.getEntityMap(),o={},i=t.getStartKey(),s=t.getStartOffset(),c=r.get(i),l=a(n,c,s);l!==c&&(o[i]=l);var u=t.getEndKey(),p=t.getEndOffset(),h=r.get(u);i===u&&(h=l);var d=a(n,h,p);return d!==h&&(o[u]=d),Object.keys(o).length?e.merge({blockMap:r.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}},4879:(e,t,r)=>{"use strict";var n=r(7953),o=r(9506),i=r(2371),a=(i.List,i.Map),s=function(e,t,r){if(e){var n=t.get(e);n&&t.set(e,r(n))}},c=function(e,t){var r=[];if(!e)return r;for(var n=t.get(e);n&&n.getParentKey();){var o=n.getParentKey();o&&r.push(o),n=o?t.get(o):null}return r},l=function(e,t,r){if(!e)return null;for(var n=r.get(e.getKey()).getNextSiblingKey();n&&!t.get(n);)n=r.get(n).getNextSiblingKey()||null;return n},u=function(e,t,r){if(!e)return null;for(var n=r.get(e.getKey()).getPrevSiblingKey();n&&!t.get(n);)n=r.get(n).getPrevSiblingKey()||null;return n};e.exports=function(e,t){if(t.isCollapsed())return e;var r,i=e.getBlockMap(),p=t.getStartKey(),h=t.getStartOffset(),d=t.getEndKey(),f=t.getEndOffset(),g=i.get(p),v=i.get(d),y=g instanceof n,m=[];if(y){var b=v.getChildKeys(),_=c(d,i);v.getNextSiblingKey()&&(m=m.concat(_)),b.isEmpty()||(m=m.concat(_.concat([d]))),m=m.concat(c(o(v,i),i))}r=g===v?function(e,t,r){if(0===t)for(;t<r;)e=e.shift(),t++;else if(r===e.count())for(;r>t;)e=e.pop(),r--;else{var n=e.slice(0,t),o=e.slice(r);e=n.concat(o).toList()}return e}(g.getCharacterList(),h,f):g.getCharacterList().slice(0,h).concat(v.getCharacterList().slice(f));var w=g.merge({text:g.getText().slice(0,h)+v.getText().slice(f),characterList:r}),S=y&&0===h&&0===f&&v.getParentKey()===p&&null==v.getPrevSiblingKey()?a([[p,null]]):i.toSeq().skipUntil((function(e,t){return t===p})).takeUntil((function(e,t){return t===d})).filter((function(e,t){return-1===m.indexOf(t)})).concat(a([[d,null]])).map((function(e,t){return t===p?w:null})),k=i.merge(S).filter((function(e){return!!e}));return y&&g!==v&&(k=function(e,t,r,n){return e.withMutations((function(i){if(s(t.getKey(),i,(function(e){return e.merge({nextSibling:l(e,i,n),prevSibling:u(e,i,n)})})),s(r.getKey(),i,(function(e){return e.merge({nextSibling:l(e,i,n),prevSibling:u(e,i,n)})})),c(t.getKey(),n).forEach((function(e){return s(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:l(e,i,n),prevSibling:u(e,i,n)})}))})),s(t.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:l(e,i,n)})})),s(r.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:u(e,i,n)})})),s(r.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:r.getNextSiblingKey()})})),c(r.getKey(),n).forEach((function(e){s(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:l(e,i,n),prevSibling:u(e,i,n)})}))})),function(e,t){var r=[];if(!e)return r;for(var n=o(e,t);n&&t.get(n);){var i=t.get(n);r.push(n),n=i.getParentKey()?o(i,t):null}return r}(r,n).forEach((function(e){return s(e,i,(function(e){return e.merge({nextSibling:l(e,i,n),prevSibling:u(e,i,n)})}))})),null==e.get(t.getKey())&&null!=e.get(r.getKey())&&r.getParentKey()===t.getKey()&&null==r.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(r.getKey(),i,(function(e){return e.merge({prevSibling:a})})),s(a,i,(function(e){return e.merge({nextSibling:r.getKey()})}));var p=a?e.get(a):null,h=p?p.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,i,(function(e){return e.merge({parent:h})}))})),null!=h){var d=e.get(h);s(h,i,(function(e){return e.merge({children:d.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),i,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))}(k,g,v,i)),e.merge({blockMap:k,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:h,focusKey:p,focusOffset:h,isBackward:!1})})}},4730:(e,t,r)=>{"use strict";var n=r(2307),o=r(8642)("draft_tree_data_support");e.exports=function(e,t,r){var i=e.getSelection(),a=e.getCurrentContent(),s=i,c=i.getAnchorKey(),l=i.getFocusKey(),u=a.getBlockForKey(c);if(o&&"forward"===r&&c!==l)return a;if(i.isCollapsed()){if("forward"===r){if(e.isSelectionAtEndOfContent())return a;if(o&&i.getAnchorOffset()===a.getBlockForKey(c).getLength()){var p=a.getBlockForKey(u.nextSibling);if(!p||0===p.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===i)return a}return n.removeRange(a,s,r)}},5283:e=>{"use strict";var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}},5412:(e,t,r)=>{"use strict";var n=r(5880),o=r(7432),i=r(4856),a=r(7476),s=r(1003),c=r(5795),l=r(3759),u=r(4368),p=i.isBrowser("IE");function h(e,t){if(!e)return"[empty]";var r=d(e,t);return r.nodeType===Node.TEXT_NODE?r.textContent:(u(r)||l(!1),r.outerHTML)}function d(e,t){var r=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var n=e.textContent.length;return c(e).createTextNode("[text "+n+(r.length?" | "+r.join(", "):"")+"]")}var o=e.cloneNode();1===o.nodeType&&r.length&&o.setAttribute("data-labels",r.join(", "));for(var i=e.childNodes,a=0;a<i.length;a++)o.appendChild(d(i[a],t));return o}function f(e,t){for(var r=e,n=r;r;){if(u(r)&&n.hasAttribute("contenteditable"))return h(r,t);n=r=r.parentNode}return"Could not find contentEditable parent of node"}function g(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function v(e,t,r,n){var i=s();if(e.extend&&null!=t&&a(i,t)){r>g(t)&&o.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(n.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,r)}catch(a){throw o.logSelectionStateFailure({anonymizedDom:f(t,(function(t){var r=[];return t===i&&r.push("active element"),t===e.anchorNode&&r.push("selection anchor node"),t===e.focusNode&&r.push("selection focus node"),r})),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:r},null,2),selectionState:JSON.stringify(n.toJS(),null,2)}),a}}else if(t&&e.rangeCount>0){var l=e.getRangeAt(0);l.setEnd(t,r),e.addRange(l.cloneRange())}}function y(e,t,r,i){var a=c(t).createRange();if(r>g(t)&&(o.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(i.toJS())}),n.handleExtensionCausedError()),a.setStart(t,r),p)try{e.addRange(a)}catch(e){}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,r,n,o){var i=c(t);if(a(i.documentElement,t)){var s=i.defaultView.getSelection(),l=e.getAnchorKey(),u=e.getAnchorOffset(),p=e.getFocusKey(),h=e.getFocusOffset(),d=e.getIsBackward();if(!s.extend&&d){var f=l,g=u;l=p,u=h,p=f,h=g,d=!1}var m=l===r&&n<=u&&o>=u,b=p===r&&n<=h&&o>=h;if(m&&b)return s.removeAllRanges(),y(s,t,u-n,e),void v(s,t,h-n,e);if(d){if(b&&(s.removeAllRanges(),y(s,t,h-n,e)),m){var _=s.focusNode,w=s.focusOffset;s.removeAllRanges(),y(s,t,u-n,e),v(s,_,w,e)}}else m&&(s.removeAllRanges(),y(s,t,u-n,e)),b&&v(s,t,h-n,e)}},addFocusToSelection:v}},6043:(e,t,r)=>{"use strict";var n=r(7953),o=r(5027),i=r(2371),a=r(3759),s=r(7429),c=i.List,l=i.Map,u=function(e,t,r){if(e){var n=t.get(e);n&&t.set(e,r(n))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var r=t.getAnchorKey(),i=e.getBlockMap(),p=i.get(r),h=p.getText();if(!h){var d=p.getType();if("unordered-list-item"===d||"ordered-list-item"===d)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var f=t.getAnchorOffset(),g=p.getCharacterList(),v=o(),y=p instanceof n,m=p.merge({text:h.slice(0,f),characterList:g.slice(0,f)}),b=m.merge({key:v,text:h.slice(f),characterList:g.slice(f),data:l()}),_=i.toSeq().takeUntil((function(e){return e===p})),w=i.toSeq().skipUntil((function(e){return e===p})).rest(),S=_.concat([[r,m],[v,b]],w).toOrderedMap();return y&&(p.getChildKeys().isEmpty()||a(!1),S=function(e,t,r){return e.withMutations((function(e){var n=t.getKey(),o=r.getKey();u(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),r=t.indexOf(n)+1,i=t.toArray();return i.splice(r,0,o),e.merge({children:c(i)})})),u(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:o})})),u(n,e,(function(e){return e.merge({nextSibling:o})})),u(o,e,(function(e){return e.merge({prevSibling:n})}))}))}(S,m,b)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0,isBackward:!1})})}},4300:e=>{"use strict";var t=/\r\n?|\n/g;e.exports=function(e){return e.split(t)}},6363:e=>{"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},2371:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:H(e)}function n(e){return s(e)?e:Z(e)}function o(e){return c(e)?e:J(e)}function i(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[p])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[d])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(n,r),t(o,r),t(i,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=c,r.isAssociative=l,r.isOrdered=u,r.Keyed=n,r.Indexed=o,r.Set=i;var p="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",g="delete",v=5,y=1<<v,m=y-1,b={},_={value:!1},w={value:!1};function S(e){return e.value=!1,e}function k(e){e&&(e.value=!0)}function E(){}function C(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function x(e){return void 0===e.size&&(e.size=e.__iterate(D)),e.size}function I(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?x(e)+t:t}function D(){return!0}function O(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function B(e,t){return M(e,t,0)}function L(e,t){return M(e,t,t)}function M(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var A=0,T=1,R=2,N="function"==typeof Symbol&&Symbol.iterator,K="@@iterator",j=N||K;function z(e){this.next=e}function P(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function F(){return{value:void 0,done:!0}}function U(e){return!!W(e)}function q(e){return e&&"function"==typeof e.next}function G(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(N&&e[N]||e[K]);if("function"==typeof t)return t}function V(e){return e&&"number"==typeof e.length}function H(e){return null==e?ae():a(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new re(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function Z(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=A,z.VALUES=T,z.ENTRIES=R,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[j]=function(){return this},t(H,r),H.of=function(){return H(arguments)},H.prototype.toSeq=function(){return this},H.prototype.toString=function(){return this.__toString("Seq {","}")},H.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},H.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},H.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(Z,H),Z.prototype.toKeyedSeq=function(){return this},t(J,H),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},J.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t(X,H),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},H.isSeq=ie,H.Keyed=Z,H.Set=X,H.Indexed=J;var Y,Q,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function re(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Y||(Y=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():q(e)?new oe(e).fromEntrySeq():U(e)?new ne(e).fromEntrySeq():"object"==typeof e?new re(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return V(e)?new te(e):q(e)?new oe(e):U(e)?new ne(e):void 0}function ue(e,t,r,n){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[r?i-a:a];if(!1===t(s[1],n?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function pe(e,t,r,n){var o=e._cache;if(o){var i=o.length-1,a=0;return new z((function(){var e=o[r?i-a:a];return a++>i?{value:void 0,done:!0}:P(t,n?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,r)}function he(e,t){return t?de(t,e,"",{"":e}):fe(e)}function de(e,t,r,n){return Array.isArray(t)?e.call(n,r,J(t).map((function(r,n){return de(e,r,n,t)}))):ge(t)?e.call(n,r,Z(t).map((function(r,n){return de(e,r,n,t)}))):t}function fe(e){return Array.isArray(e)?J(e).map(fe).toList():ge(e)?Z(e).map(fe).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ve(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!l(e);if(u(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&ve(o[1],e)&&(r||ve(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var p=!0,h=t.__iterate((function(t,n){if(r?!e.has(t):o?!ve(t,e.get(n,b)):!ve(e.get(n,b),t))return p=!1,!1}));return p&&e.size===h}function me(e,t){if(!(this instanceof me))return new me(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function be(e,t){if(!e)throw new Error(t)}function _e(e,t,r){if(!(this instanceof _e))return new _e(e,t,r);if(be(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if($)return $;$=this}}function we(){throw TypeError("Abstract")}function Se(){}function ke(){}function Ee(){}H.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[I(this,e)]:t},te.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===e(r[t?n-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,o=0;return new z((function(){return o>n?{value:void 0,done:!0}:P(e,o,r[t?n-o++:o++])}))},t(re,Z),re.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},re.prototype.has=function(e){return this._object.hasOwnProperty(e)},re.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[t?o-i:i];if(!1===e(r[a],a,this))return i+1}return i},re.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length-1,i=0;return new z((function(){var a=n[t?o-i:i];return i++>o?{value:void 0,done:!0}:P(e,a,r[a])}))},re.prototype[f]=!0,t(ne,J),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=G(this._iterable),n=0;if(q(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=G(this._iterable);if(!q(r))return new z(F);var n=0;return new z((function(){var t=r.next();return t.done?t:P(e,n++,t.value)}))},t(oe,J),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,o=0;return new z((function(){if(o>=n.length){var t=r.next();if(t.done)return t;n[o]=t.value}return P(e,o,n[o++])}))},t(me,J),me.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},me.prototype.get=function(e,t){return this.has(e)?this._value:t},me.prototype.includes=function(e){return ve(this._value,e)},me.prototype.slice=function(e,t){var r=this.size;return O(e,t,r)?this:new me(this._value,L(t,r)-B(e,r))},me.prototype.reverse=function(){return this},me.prototype.indexOf=function(e){return ve(this._value,e)?0:-1},me.prototype.lastIndexOf=function(e){return ve(this._value,e)?this.size:-1},me.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},me.prototype.__iterator=function(e,t){var r=this,n=0;return new z((function(){return n<r.size?P(e,n++,r._value):{value:void 0,done:!0}}))},me.prototype.equals=function(e){return e instanceof me?ve(this._value,e._value):ye(e)},t(_e,J),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+I(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return O(e,t,this.size)?this:(e=B(e,this.size),(t=L(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===e(o,i,this))return i+1;o+=t?-n:n}return i},_e.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;return new z((function(){var a=o;return o+=t?-n:n,i>r?{value:void 0,done:!0}:P(e,i++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(we,r),t(Se,we),t(ke,we),t(Ee,we),we.Keyed=Se,we.Indexed=ke,we.Set=Ee;var Ce="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function Ie(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return xe(r)}if("string"===t)return e.length>Re?function(e){var t=je[e];return void 0===t&&(t=De(e),Ke===Ne&&(Ke=0,je={}),Ke++,je[e]=t),t}(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Me&&void 0!==(t=Le.get(e)))return t;if(void 0!==(t=e[Te]))return t;if(!Be){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Te]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ae,1073741824&Ae&&(Ae=0),Me)Le.set(e,t);else{if(void 0!==Oe&&!1===Oe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Be)Object.defineProperty(e,Te,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Te]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Te]=t}}return t}(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function De(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return xe(t)}var Oe=Object.isExtensible,Be=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Le,Me="function"==typeof WeakMap;Me&&(Le=new WeakMap);var Ae=0,Te="__immutablehash__";"function"==typeof Symbol&&(Te=Symbol(Te));var Re=16,Ne=255,Ke=0,je={};function ze(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function Pe(e){return null==e?et():Fe(e)&&!u(e)?e:et().withMutations((function(t){var r=n(e);ze(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Fe(e){return!(!e||!e[qe])}t(Pe,Se),Pe.prototype.toString=function(){return this.__toString("Map {","}")},Pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Pe.prototype.set=function(e,t){return tt(this,e,t)},Pe.prototype.setIn=function(e,t){return this.updateIn(e,b,(function(){return t}))},Pe.prototype.remove=function(e){return tt(this,e,b)},Pe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return b}))},Pe.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},Pe.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=lt(this,ir(e),t,r);return n===b?void 0:n},Pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):et()},Pe.prototype.merge=function(){return it(this,void 0,arguments)},Pe.prototype.mergeWith=function(t){return it(this,t,e.call(arguments,1))},Pe.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,et(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]}))},Pe.prototype.mergeDeep=function(){return it(this,at,arguments)},Pe.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return it(this,st(t),r)},Pe.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,et(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]}))},Pe.prototype.sort=function(e){return Mt(Zt(this,e))},Pe.prototype.sortBy=function(e,t){return Mt(Zt(this,t,e))},Pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Pe.prototype.asImmutable=function(){return this.__ensureOwner()},Pe.prototype.wasAltered=function(){return this.__altered},Pe.prototype.__iterator=function(e,t){return new Xe(this,e,t)},Pe.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},Pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?$e(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Pe.isMap=Fe;var Ue,qe="@@__IMMUTABLE_MAP__@@",Ge=Pe.prototype;function We(e,t){this.ownerID=e,this.entries=t}function Ve(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function He(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Ze(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function Je(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function Xe(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Qe(e._root)}function Ye(e,t){return P(e,t[0],t[1])}function Qe(e,t){return{node:e,index:0,__prev:t}}function $e(e,t,r,n){var o=Object.create(Ge);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function et(){return Ue||(Ue=$e(0))}function tt(e,t,r){var n,o;if(e._root){var i=S(_),a=S(w);if(n=rt(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===b?-1:1:0)}else{if(r===b)return e;o=1,n=new We(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?$e(o,n):et()}function rt(e,t,r,n,o,i,a,s){return e?e.update(t,r,n,o,i,a,s):i===b?e:(k(s),k(a),new Je(t,n,[o,i]))}function nt(e){return e.constructor===Je||e.constructor===Ze}function ot(e,t,r,n,o){if(e.keyHash===n)return new Ze(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&m,s=(0===r?n:n>>>r)&m;return new Ve(t,1<<a|1<<s,a===s?[ot(e,t,r+v,n,o)]:(i=new Je(t,n,o),a<s?[e,i]:[i,e]))}function it(e,t,r){for(var o=[],i=0;i<r.length;i++){var s=r[i],c=n(s);a(s)||(c=c.map((function(e){return he(e)}))),o.push(c)}return ct(e,t,o)}function at(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ve(e,t)?e:t}function st(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var o=e(t,r,n);return ve(t,o)?t:o}}function ct(e,t,r){return 0===(r=r.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var n=t?function(r,n){e.update(n,b,(function(e){return e===b?r:t(e,r,n)}))}:function(t,r){e.set(r,t)},o=0;o<r.length;o++)r[o].forEach(n)})):e.constructor(r[0])}function lt(e,t,r,n){var o=e===b,i=t.next();if(i.done){var a=o?r:e,s=n(a);return s===a?e:s}be(o||e&&e.set,"invalid keyPath");var c=i.value,l=o?b:e.get(c,b),u=lt(l,t,r,n);return u===l?e:u===b?e.remove(c):(o?et():e).set(c,u)}function ut(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function pt(e,t,r,n){var o=n?e:C(e);return o[t]=r,o}Ge[qe]=!0,Ge[g]=Ge.remove,Ge.removeIn=Ge.deleteIn,We.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ve(r,o[i][0]))return o[i][1];return n},We.prototype.update=function(e,t,r,n,o,i,a){for(var s=o===b,c=this.entries,l=0,u=c.length;l<u&&!ve(n,c[l][0]);l++);var p=l<u;if(p?c[l][1]===o:s)return this;if(k(a),(s||!p)&&k(i),!s||1!==c.length){if(!p&&!s&&c.length>=ht)return function(e,t,r,n){e||(e=new E);for(var o=new Je(e,Ie(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,c,n,o);var h=e&&e===this.ownerID,d=h?c:C(c);return p?s?l===u-1?d.pop():d[l]=d.pop():d[l]=[n,o]:d.push([n,o]),h?(this.entries=d,this):new We(e,d)}},Ve.prototype.get=function(e,t,r,n){void 0===t&&(t=Ie(r));var o=1<<((0===e?t:t>>>e)&m),i=this.bitmap;return 0==(i&o)?n:this.nodes[ut(i&o-1)].get(e+v,t,r,n)},Ve.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ie(n));var s=(0===t?r:r>>>t)&m,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&o===b)return this;var p=ut(l&c-1),h=this.nodes,d=u?h[p]:void 0,f=rt(d,e,t+v,r,n,o,i,a);if(f===d)return this;if(!u&&f&&h.length>=dt)return function(e,t,r,n,o){for(var i=0,a=new Array(y),s=0;0!==r;s++,r>>>=1)a[s]=1&r?t[i++]:void 0;return a[n]=o,new He(e,i+1,a)}(e,h,l,s,f);if(u&&!f&&2===h.length&&nt(h[1^p]))return h[1^p];if(u&&f&&1===h.length&&nt(f))return f;var g=e&&e===this.ownerID,_=u?f?l:l^c:l|c,w=u?f?pt(h,p,f,g):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(h,p,g):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=r,a=-1):i[s]=e[s+a];return i}(h,p,f,g);return g?(this.bitmap=_,this.nodes=w,this):new Ve(e,_,w)},He.prototype.get=function(e,t,r,n){void 0===t&&(t=Ie(r));var o=(0===e?t:t>>>e)&m,i=this.nodes[o];return i?i.get(e+v,t,r,n):n},He.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ie(n));var s=(0===t?r:r>>>t)&m,c=o===b,l=this.nodes,u=l[s];if(c&&!u)return this;var p=rt(u,e,t+v,r,n,o,i,a);if(p===u)return this;var h=this.count;if(u){if(!p&&--h<ft)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==n&&(o|=c,a[i++]=u)}return new Ve(e,o,a)}(e,l,h,s)}else h++;var d=e&&e===this.ownerID,f=pt(l,s,p,d);return d?(this.count=h,this.nodes=f,this):new He(e,h,f)},Ze.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ve(r,o[i][0]))return o[i][1];return n},Ze.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ie(n));var s=o===b;if(r!==this.keyHash)return s?this:(k(a),k(i),ot(this,e,t,r,[n,o]));for(var c=this.entries,l=0,u=c.length;l<u&&!ve(n,c[l][0]);l++);var p=l<u;if(p?c[l][1]===o:s)return this;if(k(a),(s||!p)&&k(i),s&&2===u)return new Je(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,d=h?c:C(c);return p?s?l===u-1?d.pop():d[l]=d.pop():d[l]=[n,o]:d.push([n,o]),h?(this.entries=d,this):new Ze(e,this.keyHash,d)},Je.prototype.get=function(e,t,r,n){return ve(r,this.entry[0])?this.entry[1]:n},Je.prototype.update=function(e,t,r,n,o,i,a){var s=o===b,c=ve(n,this.entry[0]);return(c?o===this.entry[1]:s)?this:(k(a),s?void k(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new Je(e,this.keyHash,[n,o]):(k(i),ot(this,e,t,Ie(n),[n,o])))},We.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},Ve.prototype.iterate=He.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},Je.prototype.iterate=function(e,t){return e(this.entry)},t(Xe,z),Xe.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,o=t.index++;if(n.entry){if(0===o)return Ye(e,n.entry)}else if(n.entries){if(o<=(r=n.entries.length-1))return Ye(e,n.entries[this._reverse?r-o:o])}else if(o<=(r=n.nodes.length-1)){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return Ye(e,i.entry);t=this._stack=Qe(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ht=y/4,dt=y/2,ft=y/4;function gt(e){var t=Ct();if(null==e)return t;if(vt(e))return e;var r=o(e),n=r.size;return 0===n?t:(ze(n),n>0&&n<y?Et(0,n,v,null,new bt(r.toArray())):t.withMutations((function(e){e.setSize(n),r.forEach((function(t,r){return e.set(r,t)}))})))}function vt(e){return!(!e||!e[yt])}t(gt,ke),gt.of=function(){return this(arguments)},gt.prototype.toString=function(){return this.__toString("List [","]")},gt.prototype.get=function(e,t){if((e=I(this,e))>=0&&e<this.size){var r=Dt(this,e+=this._origin);return r&&r.array[e&m]}return t},gt.prototype.set=function(e,t){return function(e,t,r){if((t=I(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ot(e,t).set(0,r):Ot(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i=S(w);return t>=Lt(e._capacity)?n=xt(n,e.__ownerID,0,t,r,i):o=xt(o,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Et(e._origin,e._capacity,e._level,o,n):e}(this,e,t)},gt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},gt.prototype.insert=function(e,t){return this.splice(e,0,t)},gt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ct()},gt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Ot(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},gt.prototype.pop=function(){return Ot(this,0,-1)},gt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ot(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},gt.prototype.shift=function(){return Ot(this,1)},gt.prototype.merge=function(){return Bt(this,void 0,arguments)},gt.prototype.mergeWith=function(t){return Bt(this,t,e.call(arguments,1))},gt.prototype.mergeDeep=function(){return Bt(this,at,arguments)},gt.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return Bt(this,st(t),r)},gt.prototype.setSize=function(e){return Ot(this,0,e)},gt.prototype.slice=function(e,t){var r=this.size;return O(e,t,r)?this:Ot(this,B(e,r),L(t,r))},gt.prototype.__iterator=function(e,t){var r=0,n=kt(this,t);return new z((function(){var t=n();return t===St?{value:void 0,done:!0}:P(e,r++,t)}))},gt.prototype.__iterate=function(e,t){for(var r,n=0,o=kt(this,t);(r=o())!==St&&!1!==e(r,n++,this););return n},gt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Et(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},gt.isList=vt;var yt="@@__IMMUTABLE_LIST__@@",mt=gt.prototype;function bt(e,t){this.array=e,this.ownerID=t}mt[yt]=!0,mt[g]=mt.remove,mt.setIn=Ge.setIn,mt.deleteIn=mt.removeIn=Ge.removeIn,mt.update=Ge.update,mt.updateIn=Ge.updateIn,mt.mergeIn=Ge.mergeIn,mt.mergeDeepIn=Ge.mergeDeepIn,mt.withMutations=Ge.withMutations,mt.asMutable=Ge.asMutable,mt.asImmutable=Ge.asImmutable,mt.wasAltered=Ge.wasAltered,bt.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&m;if(n>=this.array.length)return new bt([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-v,r))===a&&i)return this}if(i&&!o)return this;var s=It(this,e);if(!i)for(var c=0;c<n;c++)s.array[c]=void 0;return o&&(s.array[n]=o),s},bt.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&m;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-v,r))===i&&o===this.array.length-1)return this}var a=It(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var _t,wt,St={};function kt(e,t){var r=e._origin,n=e._capacity,o=Lt(n),i=e._tail;return a(e._root,e._level,0);function a(e,s,c){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,c=a>r?0:r-a,l=n-a;return l>y&&(l=y),function(){if(c===l)return St;var e=t?--l:c++;return s&&s[e]}}(e,c):function(e,o,i){var s,c=e&&e.array,l=i>r?0:r-i>>o,u=1+(n-i>>o);return u>y&&(u=y),function(){for(;;){if(s){var e=s();if(e!==St)return e;s=null}if(l===u)return St;var r=t?--u:l++;s=a(c&&c[r],o-v,i+(r<<o))}}}(e,s,c)}}function Et(e,t,r,n,o,i,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Ct(){return _t||(_t=Et(0,0,v))}function xt(e,t,r,n,o,i){var a,s=n>>>r&m,c=e&&s<e.array.length;if(!c&&void 0===o)return e;if(r>0){var l=e&&e.array[s],u=xt(l,t,r-v,n,o,i);return u===l?e:((a=It(e,t)).array[s]=u,a)}return c&&e.array[s]===o?e:(k(i),a=It(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function It(e,t){return t&&e&&t===e.ownerID?e:new bt(e?e.array.slice():[],t)}function Dt(e,t){if(t>=Lt(e._capacity))return e._tail;if(t<1<<e._level+v){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&m],n-=v;return r}}function Ot(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new E,o=e._origin,i=e._capacity,a=o+t,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new bt(l&&l.array.length?[void 0,l]:[],n),u+=1<<(c+=v);u&&(a+=u,o+=u,s+=u,i+=u);for(var p=Lt(i),h=Lt(s);h>=1<<c+v;)l=new bt(l&&l.array.length?[l]:[],n),c+=v;var d=e._tail,f=h<p?Dt(e,s-1):h>p?new bt([],n):d;if(d&&h>p&&a<i&&d.array.length){for(var g=l=It(l,n),y=c;y>v;y-=v){var b=p>>>y&m;g=g.array[b]=It(g.array[b],n)}g.array[p>>>v&m]=d}if(s<i&&(f=f&&f.removeAfter(n,0,s)),a>=h)a-=h,s-=h,c=v,l=null,f=f&&f.removeBefore(n,0,a);else if(a>o||h<p){for(u=0;l;){var _=a>>>c&m;if(_!==h>>>c&m)break;_&&(u+=(1<<c)*_),c-=v,l=l.array[_]}l&&a>o&&(l=l.removeBefore(n,c,a-u)),l&&h<p&&(l=l.removeAfter(n,c,h-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Et(a,s,c,l,f)}function Bt(e,t,r){for(var n=[],i=0,s=0;s<r.length;s++){var c=r[s],l=o(c);l.size>i&&(i=l.size),a(c)||(l=l.map((function(e){return he(e)}))),n.push(l)}return i>e.size&&(e=e.setSize(i)),ct(e,t,n)}function Lt(e){return e<y?0:e-1>>>v<<v}function Mt(e){return null==e?Rt():At(e)?e:Rt().withMutations((function(t){var r=n(e);ze(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function At(e){return Fe(e)&&u(e)}function Tt(e,t,r,n){var o=Object.create(Mt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o}function Rt(){return wt||(wt=Tt(et(),Ct()))}function Nt(e,t,r){var n,o,i=e._map,a=e._list,s=i.get(t),c=void 0!==s;if(r===b){if(!c)return e;a.size>=y&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(r===a.get(s)[1])return e;n=i,o=a.set(s,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e):Tt(n,o)}function Kt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function jt(e){this._iter=e,this.size=e.size}function zt(e){this._iter=e,this.size=e.size}function Pt(e){this._iter=e,this.size=e.size}function Ft(e){var t=rr(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=nr,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===R){var n=e.__iterator(t,r);return new z((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===T?A:T,r)},t}function Ut(e,t,r){var n=rr(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,b);return i===b?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(R,o);return new z((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return P(n,s,t.call(r,a[1],s,e),o)}))},n}function qt(e,t){var r=rr(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Ft(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=nr,r.__iterate=function(t,r){var n=this;return e.__iterate((function(e,r){return t(e,r,n)}),!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function Gt(e,t,r,n){var o=rr(e);return n&&(o.has=function(n){var o=e.get(n,b);return o!==b&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,b);return i!==b&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,c){if(t.call(r,e,i,c))return s++,o(e,n?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(R,i),s=0;return new z((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,l=c[0],u=c[1];if(t.call(r,u,l,e))return P(o,n?l:s++,u,i)}}))},o}function Wt(e,t,r,n){var o=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r|=0),O(t,r,o))return e;var i=B(t,o),a=L(r,o);if(i!=i||a!=a)return Wt(e.toSeq().cacheResult(),t,r,n);var s,c=a-i;c==c&&(s=c<0?0:c);var l=rr(e);return l.size=0===s?s:e.size&&s||void 0,!n&&ie(e)&&s>=0&&(l.get=function(t,r){return(t=I(this,t))>=0&&t<s?e.get(t+i,r):r}),l.__iterateUncached=function(t,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,c=!0,l=0;return e.__iterate((function(e,r){if(!c||!(c=a++<i))return l++,!1!==t(e,n?r:l-1,o)&&l!==s})),l},l.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);var o=0!==s&&e.__iterator(t,r),a=0,c=0;return new z((function(){for(;a++<i;)o.next();if(++c>s)return{value:void 0,done:!0};var e=o.next();return n||t===T?e:P(t,c-1,t===A?void 0:e.value[1],e)}))},l}function Vt(e,t,r,n){var o=rr(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return e.__iterate((function(e,i,l){if(!s||!(s=t.call(r,e,i,l)))return c++,o(e,n?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(R,i),c=!0,l=0;return new z((function(){var e,i,u;do{if((e=s.next()).done)return n||o===T?e:P(o,l++,o===A?void 0:e.value[1],e);var p=e.value;i=p[0],u=p[1],c&&(c=t.call(r,u,i,a))}while(c);return o===R?e:P(o,i,u,e)}))},o}function Ht(e,t,r){var n=rr(e);return n.__iterateUncached=function(n,o){var i=0,s=!1;return function e(c,l){var u=this;c.__iterate((function(o,c){return(!t||l<t)&&a(o)?e(o,l+1):!1===n(o,r?c:i++,u)&&(s=!0),!s}),o)}(e,0),i},n.__iteratorUncached=function(n,o){var i=e.__iterator(n,o),s=[],c=0;return new z((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(n===R&&(l=l[1]),t&&!(s.length<t)||!a(l))return r?e:P(n,c++,l,e);s.push(i),i=l.__iterator(n,o)}else i=s.pop()}return{value:void 0,done:!0}}))},n}function Zt(e,t,r){t||(t=or);var n=s(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?Z(i):c(e)?J(i):X(i)}function Jt(e,t,r){if(t||(t=or),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return Xt(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return Xt(t,e,r)?r:e}))}function Xt(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function Yt(e,t,n){var o=rr(e);return o.size=new te(n).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(T,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map((function(e){return e=r(e),G(o?e.reverse():e)})),a=0,s=!1;return new z((function(){var r;return s||(r=i.map((function(e){return e.next()})),s=r.some((function(e){return e.done}))),s?{value:void 0,done:!0}:P(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function Qt(e,t){return ie(e)?t:e.constructor(t)}function $t(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function er(e){return ze(e.size),x(e)}function tr(e){return s(e)?n:c(e)?o:i}function rr(e){return Object.create((s(e)?Z:c(e)?J:X).prototype)}function nr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):H.prototype.cacheResult.call(this)}function or(e,t){return e>t?1:e<t?-1:0}function ir(e){var t=G(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=G(r(e))}return t}function ar(e,t){var r,n=function(i){if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(e);(function(e,t){try{t.forEach(ur.bind(void 0,e))}catch(e){}})(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Pe(i)},o=n.prototype=Object.create(sr);return o.constructor=n,n}t(Mt,Pe),Mt.of=function(){return this(arguments)},Mt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Mt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Mt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Rt()},Mt.prototype.set=function(e,t){return Nt(this,e,t)},Mt.prototype.remove=function(e){return Nt(this,e,b)},Mt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Mt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},Mt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Mt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?Tt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Mt.isOrderedMap=At,Mt.prototype[f]=!0,Mt.prototype[g]=Mt.prototype.remove,t(Kt,Z),Kt.prototype.get=function(e,t){return this._iter.get(e,t)},Kt.prototype.has=function(e){return this._iter.has(e)},Kt.prototype.valueSeq=function(){return this._iter.valueSeq()},Kt.prototype.reverse=function(){var e=this,t=qt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Kt.prototype.map=function(e,t){var r=this,n=Ut(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},Kt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?er(this):0,function(o){return e(o,t?--r:r++,n)}),t)},Kt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(T,t),n=t?er(this):0;return new z((function(){var o=r.next();return o.done?o:P(e,t?--n:n++,o.value,o)}))},Kt.prototype[f]=!0,t(jt,J),jt.prototype.includes=function(e){return this._iter.includes(e)},jt.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate((function(t){return e(t,n++,r)}),t)},jt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(T,t),n=0;return new z((function(){var t=r.next();return t.done?t:P(e,n++,t.value,t)}))},t(zt,X),zt.prototype.has=function(e){return this._iter.includes(e)},zt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},zt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(T,t);return new z((function(){var t=r.next();return t.done?t:P(e,t.value,t.value,t)}))},t(Pt,Z),Pt.prototype.entrySeq=function(){return this._iter.toSeq()},Pt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){$t(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},Pt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(T,t);return new z((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){$t(n);var o=a(n);return P(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},jt.prototype.cacheResult=Kt.prototype.cacheResult=zt.prototype.cacheResult=Pt.prototype.cacheResult=nr,t(ar,Se),ar.prototype.toString=function(){return this.__toString(lr(this)+" {","}")},ar.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},ar.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},ar.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=cr(this,et()))},ar.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+lr(this));var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:cr(this,r)},ar.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:cr(this,t)},ar.prototype.wasAltered=function(){return this._map.wasAltered()},ar.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterator(e,t)},ar.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterate(e,t)},ar.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?cr(this,t,e):(this.__ownerID=e,this._map=t,this)};var sr=ar.prototype;function cr(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function lr(e){return e._name||e.constructor.name||"Record"}function ur(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function pr(e){return null==e?mr():hr(e)&&!u(e)?e:mr().withMutations((function(t){var r=i(e);ze(r.size),r.forEach((function(e){return t.add(e)}))}))}function hr(e){return!(!e||!e[fr])}sr[g]=sr.remove,sr.deleteIn=sr.removeIn=Ge.removeIn,sr.merge=Ge.merge,sr.mergeWith=Ge.mergeWith,sr.mergeIn=Ge.mergeIn,sr.mergeDeep=Ge.mergeDeep,sr.mergeDeepWith=Ge.mergeDeepWith,sr.mergeDeepIn=Ge.mergeDeepIn,sr.setIn=Ge.setIn,sr.update=Ge.update,sr.updateIn=Ge.updateIn,sr.withMutations=Ge.withMutations,sr.asMutable=Ge.asMutable,sr.asImmutable=Ge.asImmutable,t(pr,Ee),pr.of=function(){return this(arguments)},pr.fromKeys=function(e){return this(n(e).keySeq())},pr.prototype.toString=function(){return this.__toString("Set {","}")},pr.prototype.has=function(e){return this._map.has(e)},pr.prototype.add=function(e){return vr(this,this._map.set(e,!0))},pr.prototype.remove=function(e){return vr(this,this._map.remove(e))},pr.prototype.clear=function(){return vr(this,this._map.clear())},pr.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var r=0;r<t.length;r++)i(t[r]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},pr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.every((function(e){return e.includes(r)}))||e.remove(r)}))}))},pr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.some((function(e){return e.includes(r)}))&&e.remove(r)}))}))},pr.prototype.merge=function(){return this.union.apply(this,arguments)},pr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},pr.prototype.sort=function(e){return br(Zt(this,e))},pr.prototype.sortBy=function(e,t){return br(Zt(this,t,e))},pr.prototype.wasAltered=function(){return this._map.wasAltered()},pr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t,n){return e(n,n,r)}),t)},pr.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},pr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},pr.isSet=hr;var dr,fr="@@__IMMUTABLE_SET__@@",gr=pr.prototype;function vr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function yr(e,t){var r=Object.create(gr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function mr(){return dr||(dr=yr(et()))}function br(e){return null==e?Er():_r(e)?e:Er().withMutations((function(t){var r=i(e);ze(r.size),r.forEach((function(e){return t.add(e)}))}))}function _r(e){return hr(e)&&u(e)}gr[fr]=!0,gr[g]=gr.remove,gr.mergeDeep=gr.merge,gr.mergeDeepWith=gr.mergeWith,gr.withMutations=Ge.withMutations,gr.asMutable=Ge.asMutable,gr.asImmutable=Ge.asImmutable,gr.__empty=mr,gr.__make=yr,t(br,pr),br.of=function(){return this(arguments)},br.fromKeys=function(e){return this(n(e).keySeq())},br.prototype.toString=function(){return this.__toString("OrderedSet {","}")},br.isOrderedSet=_r;var wr,Sr=br.prototype;function kr(e,t){var r=Object.create(Sr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Er(){return wr||(wr=kr(Rt()))}function Cr(e){return null==e?Lr():xr(e)?e:Lr().unshiftAll(e)}function xr(e){return!(!e||!e[Dr])}Sr[f]=!0,Sr.__empty=Er,Sr.__make=kr,t(Cr,ke),Cr.of=function(){return this(arguments)},Cr.prototype.toString=function(){return this.__toString("Stack [","]")},Cr.prototype.get=function(e,t){var r=this._head;for(e=I(this,e);r&&e--;)r=r.next;return r?r.value:t},Cr.prototype.peek=function(){return this._head&&this._head.value},Cr.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Br(e,t)},Cr.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;ze(e.size);var t=this.size,r=this._head;return e.reverse().forEach((function(e){t++,r={value:e,next:r}})),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Br(t,r)},Cr.prototype.pop=function(){return this.slice(1)},Cr.prototype.unshift=function(){return this.push.apply(this,arguments)},Cr.prototype.unshiftAll=function(e){return this.pushAll(e)},Cr.prototype.shift=function(){return this.pop.apply(this,arguments)},Cr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Lr()},Cr.prototype.slice=function(e,t){if(O(e,t,this.size))return this;var r=B(e,this.size);if(L(t,this.size)!==this.size)return ke.prototype.slice.call(this,e,t);for(var n=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):Br(n,o)},Cr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Br(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Cr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},Cr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new z((function(){if(n){var t=n.value;return n=n.next,P(e,r++,t)}return{value:void 0,done:!0}}))},Cr.isStack=xr;var Ir,Dr="@@__IMMUTABLE_STACK__@@",Or=Cr.prototype;function Br(e,t,r,n){var o=Object.create(Or);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Lr(){return Ir||(Ir=Br(0))}function Mr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}Or[Dr]=!0,Or.withMutations=Ge.withMutations,Or.asMutable=Ge.asMutable,Or.asImmutable=Ge.asImmutable,Or.wasAltered=Ge.wasAltered,r.Iterator=z,Mr(r,{toArray:function(){ze(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,r){e[r]=t})),e},toIndexedSeq:function(){return new jt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Kt(this,!0)},toMap:function(){return Pe(this.toKeyedSeq())},toObject:function(){ze(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e},toOrderedMap:function(){return Mt(this.toKeyedSeq())},toOrderedSet:function(){return br(s(this)?this.valueSeq():this)},toSet:function(){return pr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new zt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Cr(s(this)?this.valueSeq():this)},toList:function(){return gt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return Qt(this,function(e,t){var r=s(e),o=[e].concat(t).map((function(e){return a(e)?r&&(e=n(e)):e=r?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||r&&s(i)||c(e)&&c(i))return i}var l=new te(o);return r?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),l}(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ve(t,e)}))},entries:function(){return this.__iterator(R)},every:function(e,t){ze(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return Qt(this,Gt(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},findEntry:function(e,t){var r;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1})),r},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return ze(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ze(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(A)},map:function(e,t){return Qt(this,Ut(this,e,t))},reduce:function(e,t,r){var n,o;return ze(this.size),arguments.length<2?o=!0:n=t,this.__iterate((function(t,i,a){o?(o=!1,n=t):n=e.call(r,n,t,i,a)})),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Qt(this,qt(this,!0))},slice:function(e,t){return Qt(this,Wt(this,e,t,!0))},some:function(e,t){return!this.every(Kr(e),t)},sort:function(e){return Qt(this,Zt(this,e))},values:function(){return this.__iterator(T)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return x(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Pe().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(Nr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Kr(e),t)},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},first:function(){return this.find(D)},flatMap:function(e,t){return Qt(this,function(e,t,r){var n=tr(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Qt(this,Ht(this,e,!0))},fromEntrySeq:function(){return new Pt(this)},get:function(e,t){return this.find((function(t,r){return ve(r,e)}),void 0,t)},getIn:function(e,t){for(var r,n=this,o=ir(e);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,b):b)===b)return t}return n},groupBy:function(e,t){return function(e,t,r){var n=s(e),o=(u(e)?Mt():Pe()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=tr(e);return o.map((function(t){return Qt(e,i(t))}))}(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Rr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Jt(this,e)},maxBy:function(e,t){return Jt(this,t,e)},min:function(e){return Jt(this,e?jr(e):Fr)},minBy:function(e,t){return Jt(this,t?jr(t):Fr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Qt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Qt(this,Vt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Kr(e),t)},sortBy:function(e,t){return Qt(this,Zt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Qt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Qt(this,function(e,t,r){var n=rr(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,s){return t.call(r,e,o,s)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(R,o),s=!0;return new z((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,c=o[0],l=o[1];return t.call(r,l,c,i)?n===R?e:P(n,c,l,e):(s=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Kr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=u(e),r=s(e),n=t?1:0;return function(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),xe((t=Ce(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+Ur(Ie(e),Ie(t))|0}:function(e,t){n=n+Ur(Ie(e),Ie(t))|0}:t?function(e){n=31*n+Ie(e)|0}:function(e){n=n+Ie(e)|0}),n)}(this))}});var Ar=r.prototype;Ar[p]=!0,Ar[j]=Ar.values,Ar.__toJS=Ar.toArray,Ar.__toStringMapper=zr,Ar.inspect=Ar.toSource=function(){return this.toString()},Ar.chain=Ar.flatMap,Ar.contains=Ar.includes,function(){try{Object.defineProperty(Ar,"length",{get:function(){if(!r.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Mr(n,{flip:function(){return Qt(this,Ft(this))},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ve(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ve(t,e)}))},mapEntries:function(e,t){var r=this,n=0;return Qt(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Qt(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var Tr=n.prototype;function Rr(e,t){return t}function Nr(e,t){return[t,e]}function Kr(e){return function(){return!e.apply(this,arguments)}}function jr(e){return function(){return-e.apply(this,arguments)}}function zr(e){return"string"==typeof e?JSON.stringify(e):e}function Pr(){return C(arguments)}function Fr(e,t){return e<t?1:e>t?-1:0}function Ur(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Tr[h]=!0,Tr[j]=Ar.entries,Tr.__toJS=Ar.toObject,Tr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+zr(e)},Mr(o,{toKeyedSeq:function(){return new Kt(this,!1)},filter:function(e,t){return Qt(this,Gt(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Qt(this,qt(this,!1))},slice:function(e,t){return Qt(this,Wt(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=B(e,e<0?this.count():this.size);var n=this.slice(0,e);return Qt(this,1===r?n:n.concat(C(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.toKeyedSeq().findLastKey(e,t);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(e){return Qt(this,Ht(this,e,!1))},get:function(e,t){return(e=I(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=I(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Qt(this,function(e,t){var r=rr(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e,n){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(T,n),a=0;return new z((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?P(r,a++,t):P(r,a++,o.value,o)}))},r}(this,e))},interleave:function(){var e=[this].concat(C(arguments)),t=Yt(this.toSeq(),J.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Qt(this,r)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Qt(this,Vt(this,e,t,!1))},zip:function(){return Qt(this,Yt(this,Pr,[this].concat(C(arguments))))},zipWith:function(e){var t=C(arguments);return t[0]=this,Qt(this,Yt(this,e,t))}}),o.prototype[d]=!0,o.prototype[f]=!0,Mr(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Ar.includes,Mr(Z,n.prototype),Mr(J,o.prototype),Mr(X,i.prototype),Mr(Se,n.prototype),Mr(ke,o.prototype),Mr(Ee,i.prototype),{Iterable:r,Seq:H,Collection:we,Map:Pe,OrderedMap:Mt,List:gt,Stack:Cr,Set:pr,OrderedSet:br,Record:ar,Range:_e,Repeat:me,is:ve,fromJS:he}}()},4891:(e,t,r)=>{"use strict";var n=r(1006),o=r(9825),i=r(139),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=function(){function e(e){this.data=e,this.types=e.types?o(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),r=0;r<t.length;r++){var o=t[r].type;if(!n.isImage(o))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(i.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=l},5399:e=>{"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},1006:e=>{"use strict";var t={isImage:function(e){return"image"===r(e)[0]},isJpeg:function(e){var n=r(e);return t.isImage(e)&&("jpeg"===n[1]||"pjpeg"===n[1])}};function r(e){return e.split("/")}e.exports=t},5994:e=>{"use strict";function t(e,t){return!!t&&(e===t.documentElement||e===t.body)}var r={getTop:function(e){var r=e.ownerDocument;return t(e,r)?r.body.scrollTop||r.documentElement.scrollTop:e.scrollTop},setTop:function(e,r){var n=e.ownerDocument;t(e,n)?n.body.scrollTop=n.documentElement.scrollTop=r:e.scrollTop=r},getLeft:function(e){var r=e.ownerDocument;return t(e,r)?r.body.scrollLeft||r.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,r){var n=e.ownerDocument;t(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=r:e.scrollLeft=r}};e.exports=r},9051:(e,t,r)=>{"use strict";function n(e,t){var r=o.get(e,t);return"auto"===r||"scroll"===r}var o={get:r(5466),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(n(e,"overflow")||n(e,"overflowY")||n(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=o},5724:e=>{"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;-----------]"}}},1425:e=>{"use strict";var t=function(){function e(e){var t,r;r=void 0,(t="_uri")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=t},4191:(e,t,r)=>{"use strict";var n=r(6633),o=r(3759),i="----------------------",a="------------------------------",s=new RegExp("[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"+i+a+"]"),c=new RegExp("["+i+a+"]");function l(e){var t=s.exec(e);return null==t?null:t[0]}function u(e){var t=l(e);return null==t?n.NEUTRAL:c.exec(t)?n.RTL:n.LTR}function p(e,t){if(t=t||n.NEUTRAL,!e.length)return t;var r=u(e);return r===n.NEUTRAL?t:r}function h(e,t){return t||(t=n.getGlobalDir()),n.isStrong(t)||o(!1),p(e,t)}var d={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:p,getDirection:h,isDirectionLTR:function(e,t){return h(e,t)===n.LTR},isDirectionRTL:function(e,t){return h(e,t)===n.RTL}};e.exports=d},6633:(e,t,r)=>{"use strict";var n=r(3759),o="LTR",i="RTL",a=null;function s(e){return e===o||e===i}function c(e){return s(e)||n(!1),e===o?"ltr":"rtl"}function l(e){a=e}var u={NEUTRAL:"NEUTRAL",LTR:o,RTL:i,isStrong:s,getHTMLDir:c,getHTMLDirIfDifferent:function(e,t){return s(e)||n(!1),s(t)||n(!1),e===t?null:c(e)},setGlobalDir:l,initGlobalDir:function(){l(o)},getGlobalDir:function(){return a||this.initGlobalDir(),a||n(!1),a}};e.exports=u},7902:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(4191),i=r(6633),a=r(3759),s=function(){function e(e){n(this,"_defaultDir",void 0),n(this,"_lastDir",void 0),e?i.isStrong(e)||a(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},8935:(e,t,r)=>{"use strict";var n=r(3759),o=55296,i=57343,a=/[\uD800-\uDFFF]/;function s(e){return o<=e&&e<=i}function c(e){return a.test(e)}function l(e,t){return 1+s(e.charCodeAt(t))}function u(e,t,r){if(t=t||0,r=void 0===r?1/0:r||0,!c(e))return e.substr(t,r);var n=e.length;if(n<=0||t>n||r<=0)return"";var o=0;if(t>0){for(;t>0&&o<n;t--)o+=l(e,o);if(o>=n)return""}else if(t<0){for(o=n;t<0&&0<o;t++)o-=l(e,o-1);o<0&&(o=0)}var i=n;if(r<n)for(i=o;r>0&&i<n;r--)i+=l(e,i);return e.substring(o,i)}var p={getCodePoints:function(e){for(var t=[],r=0;r<e.length;r+=l(e,r))t.push(e.codePointAt(r));return t},getUTF16Length:l,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||n(!1),t+1===e.length)return!1;var r=e.charCodeAt(t),a=e.charCodeAt(t+1);return o<=r&&r<=56319&&56320<=a&&a<=i},strlen:function(e){if(!c(e))return e.length;for(var t=0,r=0;r<e.length;r+=l(e,r))t++;return t},substring:function(e,t,r){(t=t||0)<0&&(t=0),(r=void 0===r?1/0:r||0)<0&&(r=0);var n=Math.abs(r-t);return u(e,t=t<r?t:r,n)},substr:u};e.exports=p},4856:(e,t,r)=>{"use strict";var n=r(5845),o=r(9859),i=r(9467),a=r(1767);function s(e,t,r,n){if(e===r)return!0;if(!r.startsWith(e))return!1;var i=r.slice(e.length);return!!t&&(i=n?n(i):i,o.contains(i,t))}function c(e){return"Windows"===n.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return s(n.browserName,n.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(n.browserArchitecture,null,e)},isDevice:function(e){return s(n.deviceName,null,e)},isEngine:function(e){return s(n.engineName,n.engineVersion,e)},isPlatform:function(e){return s(n.platformName,n.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(n.platformArchitecture,null,e)}};e.exports=i(l,a)},5845:(e,t,r)=>{"use strict";var n,o="Unknown",i=(new(r(2238))).getResult(),a=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(i.browser.version),s={browserArchitecture:i.cpu.architecture||o,browserFullVersion:i.browser.version||o,browserMinorVersion:a.minor||o,browserName:i.browser.name||o,browserVersion:i.browser.major||o,deviceName:i.device.model||o,engineName:i.engine.name||o,engineVersion:i.engine.version||o,platformArchitecture:i.cpu.architecture||o,platformName:(n=i.os.name,{"Mac OS":"Mac OS X"}[n]||n||o),platformVersion:i.os.version||o,platformFullVersion:i.os.version||o};e.exports=s},9859:(e,t,r)=>{"use strict";var n=r(3759),o=/\./,i=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){if(""===(e=e.trim()))return!0;var r,n=t.split(o),i=h(e),a=i.modifier,s=i.rangeComponents;switch(a){case"<":return u(n,s);case"<=":return-1===(r=m(n,s))||0===r;case">=":return p(n,s);case">":return 1===m(n,s);case"~":case"~>":return function(e,t){var r=t.slice(),n=t.slice();n.length>1&&n.pop();var o=n.length-1,i=parseInt(n[o],10);return d(i)&&(n[o]=i+1+""),p(e,r)&&u(e,n)}(n,s);default:return function(e,t){return 0===m(e,t)}(n,s)}}function u(e,t){return-1===m(e,t)}function p(e,t){var r=m(e,t);return 1===r||0===r}function h(e){var t=e.split(o),r=t[0].match(s);return r||n(!1),{modifier:r[1],rangeComponents:[r[2]].concat(t.slice(1))}}function d(e){return!isNaN(e)&&isFinite(e)}function f(e){return!h(e).modifier}function g(e,t){for(var r=e.length;r<t;r++)e[r]="0"}function v(e,t){var r=e.match(c)[1],n=t.match(c)[1],o=parseInt(r,10),i=parseInt(n,10);return d(o)&&d(i)&&o!==i?y(o,i):y(e,t)}function y(e,t){return typeof e!=typeof t&&n(!1),e>t?1:e<t?-1:0}function m(e,t){for(var r=function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var r=0;r<t.length;r++){var n=t[r].match(/^[x*]$/i);if(n&&(t[r]=e[r]="0","*"===n[0]&&r===t.length-1))for(var o=r;o<e.length;o++)e[o]="0"}return g(t,e.length),[e,t]}(e,t),n=r[0],o=r[1],i=0;i<o.length;i++){var a=v(n[i],o[i]);if(a)return a}return 0}var b={contains:function(e,t){return function(e,t){var r=e.split(i);return r.length>1?r.some((function(e){return b.contains(e,t)})):function(e,t){var r=e.split(a);if(r.length>0&&r.length<=2||n(!1),1===r.length)return l(r[0],t);var o=r[0],i=r[1];return f(o)&&f(i)||n(!1),l(">="+o,t)&&l("<="+i,t)}(e=r[0].trim(),t)}(e.trim(),t.trim())}};e.exports=b},2297:e=>{"use strict";var t=/-(.)/g;e.exports=function(e){return e.replace(t,(function(e,t){return t.toUpperCase()}))}},7476:(e,t,r)=>{"use strict";var n=r(2334);e.exports=function e(t,r){return!(!t||!r)&&(t===r||!n(t)&&(n(r)?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}},9825:(e,t,r)=>{"use strict";var n=r(3759);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&n(!1),"number"!=typeof t&&n(!1),0===t||t-1 in e||n(!1),"function"==typeof e.callee&&n(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}(e):[e]}},2620:e=>{"use strict";function t(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}},139:e=>{"use strict";function t(e){return function(){return e}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},1003:e=>{"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},5179:e=>{"use strict";var t="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:t||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},5258:(e,t,r)=>{"use strict";var n=r(3123);e.exports=function(e){var t=n(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},3123:(e,t,r)=>{"use strict";var n=r(7476);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!n(t,e))return{left:0,right:0,top:0,bottom:0};var r=e.getBoundingClientRect();return{left:Math.round(r.left)-t.clientLeft,right:Math.round(r.right)-t.clientLeft,top:Math.round(r.top)-t.clientTop,bottom:Math.round(r.bottom)-t.clientTop}}},9749:(e,t,r)=>{"use strict";var n=r(5179),o=r(787);e.exports=function(e){var t=n(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var r=o(e),i=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-i.clientWidth,s=e.scrollHeight-i.clientHeight;return r.x=Math.max(0,Math.min(r.x,a)),r.y=Math.max(0,Math.min(r.y,s)),r}},5466:(e,t,r)=>{"use strict";var n=r(2297),o=r(9349);function i(e){return null==e?e:String(e)}e.exports=function(e,t){var r;if(window.getComputedStyle&&(r=window.getComputedStyle(e,null)))return i(r.getPropertyValue(o(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(r=document.defaultView.getComputedStyle(e,null))return i(r.getPropertyValue(o(t)));if("display"===t)return"none"}return e.currentStyle?i("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[n(t)]):i(e.style&&e.style[n(t)])}},787:e=>{"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},746:e=>{"use strict";function t(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function r(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function n(){return{width:window.innerWidth||t(),height:window.innerHeight||r()}}n.withoutScrollbars=function(){return{width:t(),height:r()}},e.exports=n},9349:e=>{"use strict";var t=/([A-Z])/g;e.exports=function(e){return e.replace(t,"-$1").toLowerCase()}},3759:e=>{"use strict";e.exports=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return String(n[a++])})))).name="Invariant Violation"}throw i.framesToPop=1,i}}},901:e=>{"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},2334:(e,t,r)=>{"use strict";var n=r(901);e.exports=function(e){return n(e)&&3==e.nodeType}},1108:e=>{"use strict";e.exports=function(e){var t=e||"",r=arguments.length;if(r>1)for(var n=1;n<r;n++){var o=arguments[n];o&&(t=(t?t+" ":"")+o)}return t}},9467:e=>{"use strict";var t=Object.prototype.hasOwnProperty;e.exports=function(e,r,n){if(!e)return null;var o={};for(var i in e)t.call(e,i)&&(o[i]=r.call(n,e[i],i,e));return o}},1767:e=>{"use strict";e.exports=function(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}},2045:e=>{"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},6926:(e,t,r)=>{"use strict";r(4889),e.exports=r.g.setImmediate},3620:(e,t,r)=>{"use strict";var n=r(139);e.exports=n},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(s[l]=i[l]);if(t){a=t(i);for(var u=0;u<a.length;u++)n.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},2113:(e,t,r)=>{"use strict";t.sJ=void 0;var n=r(655),o=(0,n.__importStar)(r(9196)),i=function(e){function t(t){var r=e.call(this,t)||this;return r.outerRef=null,r.handleRef=function(e){if(r.outerRef=e,r.props.forwardedRef)if("function"==typeof r.props.forwardedRef)r.props.forwardedRef(e);else{if("object"!=typeof r.props.forwardedRef)throw new Error("Invalid forwardedRef ".concat(r.props.forwardedRef));r.props.forwardedRef.current=e}},r.handleTransitionEnd=function(e){e.target===r.outerRef&&"height"===e.propertyName&&(r.state.childrenLeaving?r.setState({children:null,childrenLeaving:!1},(function(){return r.endTransition()})):r.endTransition())},r.state={children:t.children,childrenLeaving:!1},r}return(0,n.__extends)(t,e),t.prototype.componentDidMount=function(){this.outerRef&&(this.props.closed||!this.props.children?(this.outerRef.classList.add("closed"),this.outerRef.style.height="0px"):this.props.transitionOnAppear?this.startTransition("0px"):this.outerRef.style.height="auto")},t.prototype.getSnapshotBeforeUpdate=function(){return this.outerRef?this.outerRef.getBoundingClientRect().height+"px":null},t.getDerivedStateFromProps=function(e,t){return e.children?{children:e.children,childrenLeaving:!1}:t.children?{children:t.children,childrenLeaving:!0}:null},t.prototype.componentDidUpdate=function(e,t,r){this.outerRef&&this.startTransition(r)},t.prototype.startTransition=function(e){var t="0px";this.props.closed||this.state.childrenLeaving||!this.state.children||(this.outerRef.classList.remove("closed"),this.outerRef.style.height="auto",t=getComputedStyle(this.outerRef).height),parseFloat(t).toFixed(2)!==parseFloat(e).toFixed(2)&&(this.outerRef.classList.add("transitioning"),this.outerRef.style.height=e,this.outerRef.offsetHeight,this.outerRef.style.transitionProperty="height",this.outerRef.style.height=t)},t.prototype.endTransition=function(){this.outerRef.classList.remove("transitioning"),this.outerRef.style.transitionProperty="none",this.outerRef.style.height=this.props.closed?"0px":"auto",!this.props.closed&&this.state.children||this.outerRef.classList.add("closed")},t.prototype.render=function(){var e=this.props,t=e.as,r=void 0===t?"div":t,i=(e.children,e.className),a=(e.closed,e.transitionOnAppear,e.forwardedRef,(0,n.__rest)(e,["as","children","className","closed","transitionOnAppear","forwardedRef"])),s=i?"react-slidedown "+i:"react-slidedown";return o.default.createElement(r,(0,n.__assign)({ref:this.handleRef,className:s,onTransitionEnd:this.handleTransitionEnd},a),this.state.children)},t.defaultProps={transitionOnAppear:!0,closed:!1},t}(o.Component);t.sJ=(0,o.forwardRef)((function(e,t){return o.default.createElement(i,(0,n.__assign)({},e,{forwardedRef:t}))})),t.sJ},4889:function(e,t,r){!function(e,t){"use strict";if(!e.setImmediate){var r,n,o,i,a,s=1,c={},l=!1,u=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(i="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&d(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(d,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[s]=o,r(s),s++},p.clearImmediate=h}function h(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(undefined,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)},655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>i,__asyncDelegator:()=>C,__asyncGenerator:()=>E,__asyncValues:()=>x,__await:()=>k,__awaiter:()=>f,__classPrivateFieldGet:()=>L,__classPrivateFieldIn:()=>A,__classPrivateFieldSet:()=>M,__createBinding:()=>v,__decorate:()=>s,__esDecorate:()=>l,__exportStar:()=>y,__extends:()=>o,__generator:()=>g,__importDefault:()=>B,__importStar:()=>O,__makeTemplateObject:()=>I,__metadata:()=>d,__param:()=>c,__propKey:()=>p,__read:()=>b,__rest:()=>a,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>_,__spreadArray:()=>S,__spreadArrays:()=>w,__values:()=>m});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function s(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,d=r.length-1;d>=0;d--){var f={};for(var g in n)f[g]="access"===g?{}:n[g];for(var g in n.access)f.access[g]=n.access[g];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var v=(0,r[d])("accessor"===c?{get:p.get,set:p.set}:p[l],f);if("accessor"===c){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(s=a(v.get))&&(p.get=s),(s=a(v.set))&&(p.set=s),(s=a(v.init))&&o.push(s)}else(s=a(v))&&("field"===c?o.push(s):p[l]=s)}u&&Object.defineProperty(u,n.name,p),h=!0}function u(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function p(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function g(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var v=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||v(t,e,r)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function S(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function E(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=o[e](t)).value instanceof k?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function C(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:k(e[n](t)),done:!1}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=m(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&v(t,e,r);return D(t,e),t}function B(e){return e&&e.__esModule?e:{default:e}}function L(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function M(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function A(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},2238:function(e,t,r){var n;!function(o,i){"use strict";var a="function",s="undefined",c="object",l="string",u="major",p="model",h="name",d="type",f="vendor",g="version",v="architecture",y="console",m="mobile",b="tablet",_="smarttv",w="wearable",S="embedded",k="Amazon",E="Apple",C="ASUS",x="BlackBerry",I="Browser",D="Chrome",O="Firefox",B="Google",L="Huawei",M="LG",A="Microsoft",T="Motorola",R="Opera",N="Samsung",K="Sharp",j="Sony",z="Xiaomi",P="Zebra",F="Facebook",U="Chromium OS",q="Mac OS",G=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===l&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},Z=function(e,t){for(var r,n,o,s,l,u,p=0;p<t.length&&!l;){var h=t[p],d=t[p+1];for(r=n=0;r<h.length&&!l&&h[r];)if(l=h[r++].exec(e))for(o=0;o<d.length;o++)u=l[++n],typeof(s=d[o])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):i:this[s[0]]=u?s[1].call(this,u,s[2]):i:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):i):this[s]=u||i;p+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(W(t[r][n],e))return"?"===r?i:r}else if(W(t[r],e))return"?"===r?i:r;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,g],[/opios[\/ ]+([\w\.]+)/i],[g,[h,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[h,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[h,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[h,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[h,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[h,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[h,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[h,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+I],g],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[h,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,D+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[h,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[g,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[h,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,g],[/(cobalt)\/([\w\.]+)/i],[h,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,V]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[f,N],[d,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[f,N],[d,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[f,E],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[f,E],[d,b]],[/(macintosh);/i],[p,[f,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[f,K],[d,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[f,L],[d,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[f,L],[d,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[f,z],[d,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[f,z],[d,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[f,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[f,"Vivo"],[d,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[f,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[f,T],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[f,T],[d,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[f,M],[d,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[f,M],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[f,"Lenovo"],[d,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[f,"Nokia"],[d,m]],[/(pixel c)\b/i],[p,[f,B],[d,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[f,B],[d,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[f,j],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[f,j],[d,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[f,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[f,k],[d,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[f,k],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[p,f,[d,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[f,x],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[f,C],[d,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[f,C],[d,m]],[/(nexus 9)/i],[p,[f,"HTC"],[d,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[p,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[f,"Acer"],[d,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[f,"Meizu"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,p,[d,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,p,[d,b]],[/(surface duo)/i],[p,[f,A],[d,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[f,"Fairphone"],[d,m]],[/(u304aa)/i],[p,[f,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[p,[f,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[p,[f,"RCA"],[d,b]],[/\b(venue[\d ]{2,7}) b/i],[p,[f,"Dell"],[d,b]],[/\b(q(?:mv|ta)\w+) b/i],[p,[f,"Verizon"],[d,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[f,"Barnes & Noble"],[d,b]],[/\b(tm\d{3}\w+) b/i],[p,[f,"NuVision"],[d,b]],[/\b(k88) b/i],[p,[f,"ZTE"],[d,b]],[/\b(nx\d{3}j) b/i],[p,[f,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[p,[f,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[p,[f,"Swiss"],[d,b]],[/\b((zeki)?tb.*\b) b/i],[p,[f,"Zeki"],[d,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],p,[d,b]],[/\b(ns-?\w{0,9}) b/i],[p,[f,"Insignia"],[d,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[f,"NextBook"],[d,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],p,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],p,[d,m]],[/\b(ph-1) /i],[p,[f,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[f,"Envizen"],[d,b]],[/\b(trio[-\w\. ]+) b/i],[p,[f,"MachSpeed"],[d,b]],[/\btu_(1491) b/i],[p,[f,"Rotor"],[d,b]],[/(shield[\w ]+) b/i],[p,[f,"Nvidia"],[d,b]],[/(sprint) (\w+)/i],[f,p,[d,m]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[f,A],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[f,P],[d,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[f,P],[d,m]],[/smart-tv.+(samsung)/i],[f,[d,_]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[f,N],[d,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,M],[d,_]],[/(apple) ?tv/i],[f,[p,E+" TV"],[d,_]],[/crkey/i],[[p,D+"cast"],[f,B],[d,_]],[/droid.+aft(\w)( bui|\))/i],[p,[f,k],[d,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[f,K],[d,_]],[/(bravia[\w ]+)( bui|\))/i],[p,[f,j],[d,_]],[/(mitv-\w{5}) bui/i],[p,[f,z],[d,_]],[/Hbbtv.*(technisat) (.*);/i],[f,p,[d,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,H],[p,H],[d,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,p,[d,y]],[/droid.+; (shield) bui/i],[p,[f,"Nvidia"],[d,y]],[/(playstation [345portablevi]+)/i],[p,[f,j],[d,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[f,A],[d,y]],[/((pebble))app/i],[f,p,[d,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[f,E],[d,w]],[/droid.+; (glass) \d/i],[p,[f,B],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[p,[f,P],[d,w]],[/(quest( 2| pro)?)/i],[p,[f,F],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[d,S]],[/(aeobc)\b/i],[p,[f,k],[d,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[d,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[g,J,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[g,J,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,q],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,g],[/\(bb(10);/i],[g,[h,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[h,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[h,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,U],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,g],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,g]]},Q=function(e,t){if(typeof e===c&&(t=e,e=i),!(this instanceof Q))return new Q(e,t).getResult();var r=typeof o!==s&&o.navigator?o.navigator:i,n=e||(r&&r.userAgent?r.userAgent:""),y=r&&r.userAgentData?r.userAgentData:i,_=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(Y,t):Y,w=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=i,t[g]=i,Z.call(t,n,_.browser),t[u]=typeof(e=t[g])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[v]=i,Z.call(e,n,_.cpu),e},this.getDevice=function(){var e={};return e[f]=i,e[p]=i,e[d]=i,Z.call(e,n,_.device),w&&!e[d]&&y&&y.mobile&&(e[d]=m),w&&"Macintosh"==e[p]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[p]="iPad",e[d]=b),e},this.getEngine=function(){var e={};return e[h]=i,e[g]=i,Z.call(e,n,_.engine),e},this.getOS=function(){var e={};return e[h]=i,e[g]=i,Z.call(e,n,_.os),w&&!e[h]&&y&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,U).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>350?H(e,350):e,this},this.setUA(n),this};Q.VERSION="0.7.35",Q.BROWSER=G([h,g,u]),Q.CPU=G([v]),Q.DEVICE=G([p,f,d,y,m,_,b,w,S]),Q.ENGINE=Q.OS=G([h,g]),typeof t!==s?(e.exports&&(t=e.exports=Q),t.UAParser=Q):r.amdO?(n=function(){return Q}.call(t,r,t,e))===i||(e.exports=n):typeof o!==s&&(o.UAParser=Q);var $=typeof o!==s&&(o.jQuery||o.Zepto);if($&&!$.ua){var ee=new Q;$.ua=ee.getResult(),$.ua.get=function(){return ee.getUA()},$.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)$.ua[r]=t[r]}}}("object"==typeof window?window:this)},9196:e=>{"use strict";e.exports=window.React},1850:e=>{"use strict";e.exports=window.ReactDOM}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.wp.element,t=window.wp.compose,n=window.wp.data,o=window.wp.blockEditor,i=window.wp.components;class a{constructor(e){this._blockInstance=e,document.location.hash=`${this._blockInstance.getId()}`}renderTitle(){return this._blockInstance.renderTitle?.()}renderTools(){return this._blockInstance.renderTools?.()}renderFooter(){return this._blockInstance.renderFooter?.()}render(){return[]}getExtraClassName(){var e="block";return this._blockInstance.isReusable()&&(e+=" is-reusable"),e}}const s=window.wp.blocks;class c extends e.Component{static _instance;static getInstance(){return this._instance}constructor(e){super(e),this.state={currentDevice:null},this.constructor._instance=this,this.mediaQueries={},this.defaultMediaQuery=null}componentDidMount(){GLOBAL_LOCALIZED.theme_spec?.media?.queries&&"object"==typeof GLOBAL_LOCALIZED.theme_spec.media.queries?(this.mediaQueries=this.sortMediaQueries(GLOBAL_LOCALIZED.theme_spec.media.queries),(null==this.getCurrentDevice()||GLOBAL_LOCALIZED.theme_spec?.media?.defaultMedia&&void 0!==this.mediaQueries[GLOBAL_LOCALIZED.theme_spec.media.defaultMedia])&&(this.defaultMediaQuery=GLOBAL_LOCALIZED.theme_spec.media.defaultMedia,this.setCurrentDevice(GLOBAL_LOCALIZED.theme_spec.media.defaultMedia))):(this.mediaQueries={desktop:{minWidth:null,maxWidth:null}},this.defaultMediaQuery="desktop",this.setCurrentDevice("desktop"))}sortMediaQueries(e){for(var t={};Object.keys(e).length>0;){var r=0,n=null;Object.keys(e).forEach((t=>{(null==n||e[t].minWidth<r)&&(n=t,r=e[t].minWidth)})),t[n]=e[n],delete e[n]}return t}getCurrentDevice(){return this.state.currentDevice}getDefaultDevice(){return this.defaultMediaQuery}setCurrentDevice(e){this.setState({currentDevice:e});var t=document.querySelector("#editor"),r=document.querySelector(".is-root-container");t&&r&&(r.style.margin="auto",void 0!==this.getMediaQueries()[e]&&(null!=this.getMediaQueries()[e].maxWidth&&this.getMediaQueries()[e].maxWidth<=t.offsetWidth?r.style.width=this.getMediaQueries()[e].maxWidth+"px":r.style.removeProperty("width"))),Fa.getInstance().setCurrentDevice(e)}getMediaQueries(){return this.mediaQueries}getButtonGroup(){const t=this.getCurrentDevice(),r=this.getDefaultDevice();return void 0===this.getMediaQueries()[t]?null:(0,e.createElement)("div",{id:"devicesButtonGroupContainer"},(0,e.createElement)(i.ButtonGroup,{key:"devicesButtonGroup",className:"devicesButtonGroup"},Object.keys(this.getMediaQueries()).map((n=>{const o=r==n?"default":null;return(0,e.createElement)(i.Button,{key:"layoutButton_"+n,isPressed:t==n,className:o,onMouseDown:()=>{this.setCurrentDevice(n)}},Oa.getDeviceLabel(n))})),(0,e.createElement)(i.Button,{key:"layoutButton_open",href:GLOBAL_LOCALIZED.post_url,className:"is-secondary",target:"_blank"},"View page")))}render(){return(0,e.createPortal)(this.getButtonGroup(),document.querySelector(".o-editor"))}}function l(t){let{id:r,label:n,options:o,value:a,onChange:s}=t;return o.map((t=>{let n=!1;return null!=a&&"object"==typeof a&&a.forEach((e=>{e.value!=t.value||(n=!0)})),(0,e.createElement)(i.CheckboxControl,{key:r+"-checkbox-"+t.value,label:t.name,help:null,checked:n,onChange:e=>{const r=[];e?(null!=a&&"object"==typeof a&&a.forEach((e=>{r.push(e)})),r.push({value:t.value})):null!=a&&"object"==typeof a&&a.forEach((e=>{e.value!=t.value&&r.push(e)})),s(r)}})}))}function u(t){let{id:r,label:n,value:o,onChange:a}=t;return(0,e.createElement)("div",{key:r+"-ColorPickerComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:r+"-ColorPickerComponentsBaseControlField",className:"components-base-control__field"},Oa.label(r,n),(0,e.createElement)(i.ColorPicker,{color:""!=o?o:null,label:n,onChange:e=>a(e),enableAlpha:!0})))}function p(t){let{id:r,label:n,value:o,type:a,onChange:s}=t;switch(a){case"date":return(0,e.createElement)(i.DatePicker,{key:r,currentDate:o,onChange:e=>s(e),__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0});case"time":return(0,e.createElement)(i.TimePicker,{key:r,currentDate:o,onChange:e=>s(e),is12Hour:!1,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0});default:return(0,e.createElement)(i.DateTimePicker,{key:r,currentDate:o,onChange:e=>s(e),is12Hour:!1,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0})}return null}const h=window.wp.apiFetch;var d=r.n(h);const f=window.wp.url;function g(t){let{id:r,value:n,onChange:o,multiple:a=!1}=t;const[s,c]=(0,e.useState)(null);return(0,e.useEffect)((()=>{"number"==typeof n?function(t){c(!0);const n={include:[t]};d()({path:(0,f.addQueryArgs)("/wp/v2/media",n)}).then((t=>{if("object"==typeof t&&Array.isArray(t)&&t.length>0){const n=[];if(t.forEach((t=>{if("object"==typeof t&&null!=t&&null!=typeof t.media_type)switch(t.media_type){case"image":case"file":n.push((0,e.createElement)("img",{key:r+"-imagePreview",alt:"Edit image",title:"Edit image",className:"edit-image-preview",src:t.media_details.sizes.medium.source_url}))}})),n.length>0)return void c(n)}c(!1)}))}(n):c(null)}),[n]),!0===s?(0,e.createElement)(v,{key:r+"-PreviewContainer",id:r,isEmpty:!0},(0,e.createElement)("span",{className:"inner"},(0,e.createElement)("div",{className:"o-loader"}))):s?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{key:r+"-removeMedia",variant:"secondary",className:"is-destructive",onMouseDown:()=>o(void 0)},(0,e.createElement)(i.Dashicon,{icon:"trash"})," Remove"),(0,e.createElement)(v,{key:r+"-PreviewContainer",id:r},s)):null}function v(t){let{children:r,id:n,isEmpty:o=!1}=t;return(0,e.createElement)("div",{key:n+"-mediaPreviewContainer",className:"media-preview-container"+(o?" empty":"")},r)}function y(t){let{id:r,value:n,onChange:i,multiple:a=!1}=t;return(0,e.createElement)(o.MediaPlaceholder,{key:r+"-MediaPlaceholder",onSelect:e=>{if(a){const t=[];e.forEach((e=>{void 0!==e.id&&t.push(e.id)})),i(t)}else void 0!==e.id&&i(e.id)},value:{id:n},multiple:a,addToGallery:a,disableDropZone:!0,labels:{title:null,instructions:null}},(0,e.createElement)(g,{id:r,value:n,onChange:e=>i(e),multiple:a}))}function m(t){let{id:r,label:n,value:o,onChange:i,multiple:a=!1}=t;return(0,e.createElement)(y,{id:r,value:o,onChange:e=>i(e),multiple:a})}function b(t){let{id:r,label:n,type:o,value:a,onChange:s}=t;return(0,e.createElement)(i.TextControl,{key:r,label:n,type:o,value:a,onChange:e=>s(e)})}const _=t=>{const[r,n]=(0,e.useState)(!0),o=["wpe-modal","o-editor"];return void 0!==t.type&&o.push("modal-"+t.type),(0,e.createElement)(e.Fragment,null,r&&(0,e.createElement)(i.Modal,{key:t.id+"-modal",title:t.title,onRequestClose:()=>{n(!1),t.onClose()},className:o.join(" "),shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0},(0,e.createElement)("div",{className:"components-modal__body"},t.children)))};function w(t){let{id:r,label:n,description:o,value:i,props:a,onChange:s}=t;return(0,e.createElement)("div",{key:r+"-WpeLinkControlComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:r+"-WpeLinkControlComponentsBaseControlField",className:"components-base-control__field"},Oa.label(r,n,o),(0,e.createElement)(S,{key:r+"-WpeLinkControlComponents",id:r+"-WpeLinkControlComponents",label:n,value:i,onChange:s,extraContent:a})))}function S(t){let{id:r,label:n,value:a,onChange:s,extraContent:c}=t;const[l,u]=(0,e.useState)(!1),[p,h]=(0,e.useState)(null!=a&&"object"==typeof a&&"object"==typeof a.link?a.link:null),d=function(){u(!1)}.bind();function f(e){h(e),s({...a,link:null!=e?e:void 0},!0)}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.ButtonGroup,{key:r+"-LinkControl-ButtonGroup",className:"wpe-link-control"},(0,e.createElement)(i.Button,{variant:null!=p&&"object"==typeof p?"primary":"secondary",onClick:()=>u(!0)},(0,e.createElement)(i.Dashicon,{icon:"admin-links"})," ",null!=p&&"object"==typeof p?`Edit${p?.text?' "'+p.text+'" ':" "}link`:"Add link")),l&&(0,e.createElement)(_,{key:r+"-linkWpeModal",id:r+"-linkWpeModal",title:null!=p&&"object"==typeof p?"Edit link":"Add link",onClose:d,type:"wpe-link-control"},Oa.tabPanelComponent(r+"-LinkControl-TabPanel",[{name:"link",title:"Link",value:"link"},{name:"extra",title:"Extra",value:"extra"}],(t=>"link"==t.value?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{key:r+"-LinkControl-text",id:r+"-LinkControl-text",label:Oa.innerLabel(r+"-LinkControl-text","Title"),type:"text",value:null!=p&&"object"==typeof p&&p?.text?p.text:"",onChange:e=>f(null!=p&&"object"==typeof p?{...p,text:e}:{text:e})}),(0,e.createElement)(o.__experimentalLinkControl,{key:r+"-LinkControl",className:"wp-block-navigation-link__inline-link-input",value:null!=p&&"object"==typeof p?p:{},onChange:e=>{"string"==typeof e.url&&f(null!=p&&"object"==typeof p?{...p,url:e.url,opensInNewTab:e.opensInNewTab}:{url:e.url,opensInNewTab:e.opensInNewTab})},onRemove:()=>f(null)})):c),null,null,"wpe-link-control-tabpanel")))}var k=r(2113);const E={componentInstances:{}},C=t=>{const r=[];return t.blocksList.forEach((n=>{void 0!==n.attributes._node&&void 0!==t.isChildren||r.push((0,e.createElement)(e.Fragment,{key:"o-inspector-blockContainer-"+n.clientId},(0,e.createElement)(x,{block:n,selectBlock:t.selectBlock}),(0,e.createElement)("li",{className:"separator"})))})),r.length>0?void 0!==t.isChildren&&t.isChildren?(0,e.createElement)(k.sJ,{className:"ul-slidedown"},t.isOpen?(0,e.createElement)("ul",{className:"block-list"},(0,e.createElement)("div",{className:"separator"}),r):null):(0,e.createElement)("ul",{className:"block-list"},r):null},x=t=>{let{block:r,selectBlock:n}=t;const[o,a]=(0,e.useState)(!1),[c,l]=(0,e.useState)(!1),[u,p]=(0,e.useState)(null),h=r.attributes?.anchor,d=void 0!==h&&null==h.match(/^[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+$/),f=document.querySelector("#block-"+r.clientId);f&&(f.addEventListener("mouseover",(()=>{l(!0)})),f.addEventListener("mouseleave",(()=>{l(!1)})));const g=[];var v=f;if(null!=v)for(;!(v=v.parentNode).classList.contains("is-root-container");)v.classList.contains("block-editor-block-list__block")&&g.push(v);let y="core/block"==r.name&&void 0!==r.postName?r.postName+" ("+(0,s.getBlockType)(r.name).title+")":(0,s.getBlockType)(r.name).title;if("object"==typeof E.componentInstances&&void 0!==E.componentInstances[r.clientId]&&"object"==typeof E.componentInstances[r.clientId].state.error&&null!=E.componentInstances[r.clientId].state.error&&Object.keys(E.componentInstances[r.clientId].state.error).length>0){let t=0,n=0;for(var m in E.componentInstances[r.clientId].state.error)void 0!==E.componentInstances[r.clientId].state.error[m].error&&t++,void 0!==E.componentInstances[r.clientId].state.error[m].warning&&n++;t>0&&(y=(0,e.createElement)(e.Fragment,null,y,(0,e.createElement)("span",{className:"error-attributes"},t)))}let b=!1;return r.innerBlocks.length>0&&r.innerBlocks.forEach((e=>{void 0!==e.attributes._node||(b=!0)})),(0,e.createElement)("li",{key:"o-inspector-block-"+r.clientId,className:c?"is-hover":"",onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)}},(0,e.createElement)(i.ButtonGroup,{className:"inspectorBlockListButtonGroup"},(r.innerBlocks.length>0&&b||void 0!==r.children)&&(0,e.createElement)(e.Fragment,null,o&&(0,e.createElement)(i.Dashicon,{icon:"arrow-down-alt2"}),!o&&(0,e.createElement)(i.Dashicon,{icon:"arrow-right-alt2"})),(0,e.createElement)(i.Button,{variant:"tertiary",onMouseOver:()=>{p(window.setTimeout((()=>{for(var e in f?.scrollIntoView({behavior:"smooth",block:"center"}),f?.classList.add("is-pre-selected"),g)g[e].classList.add("has-child-pre-selected")}),400))},onMouseOut:()=>{for(var e in clearTimeout(u),f?.classList.remove("is-pre-selected"),g)g[e].classList.remove("has-child-pre-selected")},onMouseDown:()=>{n(r.clientId)}},y,d&&(0,e.createElement)("span",{className:"anchor"},"#",h))),r.innerBlocks.length>0&&(0,e.createElement)(C,{blocksList:r.innerBlocks,selectBlock:n,isChildren:!0,isOpen:o}),void 0!==r.children&&(0,e.createElement)(C,{blocksList:r.children,selectBlock:n,isChildren:!0,isOpen:o}))};function I(t){let{id:r,label:n,keys:o,componentInstance:a}=t;return(0,e.createElement)("div",{key:r+"-NodeListComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:r+"-NodeListComponentsBaseControlField",className:"components-base-control__field"},Oa.label(r,n),(0,e.createElement)("div",{className:"nodeListComponentsContainer"},(0,e.createElement)(C,{blocksList:a.props.blocksList,selectBlock:a.props.selectBlock}),(0,e.createElement)(i.ButtonGroup,{className:"inspectorButtonInsertNew"},(0,e.createElement)(Aa,{rootClientId:a.props.clientId,extraAttributes:{_node:o.join("|")},buttonDashicon:"insert"})))))}function D(e){let{id:t,label:r,description:n,props:o,keys:i,valueProp:a,componentInstance:s,error:c}=e,l=[];for(const[e,t]of Object.entries(o)){const r=!(!c||"object"!=typeof c||null==c||"object"!=typeof c.props||void 0===c.props[e])&&c.props[e];l.push(Da.renderProp(t,i.concat(e),a,s,r))}return null==r?l:Oa.panelComponent(t,r,l,!1,"",n)}function O(t){let{id:r,label:n,options:o,value:a,onChange:s}=t;return void 0===o||null==o?null:(0,e.createElement)("div",{key:r+"-RadioControlComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:r+"-RadioControlComponentsBaseControlField",className:"components-base-control__field"},(0,e.createElement)("div",{key:r+"-RadioControlContainer",className:"radio-control-container"},(0,e.createElement)(i.RadioControl,{key:r,label:n,selected:a,options:o.map((function(e){return{label:e.name,value:e.value.toString()}})),onChange:e=>s(e)}))))}function B(t){let{id:r,label:n,entity:o,relations:a,value:s,onChange:c}=t;return void 0===o||void 0===a||null==a||0==Object.keys(a).length?null:(0,e.createElement)(i.SelectControl,{key:r,label:n,value:s,options:[{label:"--Please choose a "+o+" --",value:""}].concat(a.map((function(e){return{label:e.title.raw,value:e.id}}))),onChange:e=>{""==e&&(e=void 0),c(e)}})}function L(t){let{id:r,label:n,options:o,value:a,onChange:s}=t;if(void 0===o||null==o)return null;for(var c in o)null==o[c].value&&delete o[c];return(0,e.createElement)(i.SelectControl,{key:r,label:n,value:a,options:[{label:"--Please choose an option--",value:""}].concat(o.map((function(e){return{label:e.name,value:e.value}}))),onChange:e=>{""==e&&(e=void 0),s(e)}})}function M(t){let{id:r,label:n,description:o,value:a,onChange:s}=t;const c="object"==typeof a&&"object"==typeof a.padding?{top:void 0!==a.padding.top?a.padding.top:void 0,left:void 0!==a.padding.left?a.padding.left:void 0,right:void 0!==a.padding.right?a.padding.right:void 0,bottom:void 0!==a.padding.bottom?a.padding.bottom:void 0}:{top:void 0,left:void 0,right:void 0,bottom:void 0},l="object"==typeof a&&"object"==typeof a.margin?{top:void 0!==a.margin.top?a.margin.top:void 0,left:void 0!==a.margin.left?a.margin.left:void 0,right:void 0!==a.margin.right?a.margin.right:void 0,bottom:void 0!==a.margin.bottom?a.margin.bottom:void 0}:{top:void 0,left:void 0,right:void 0,bottom:void 0};return Oa.panelComponent(r,n,(0,e.createElement)(e.Fragment,null,Oa.fieldContainer(r+"_spaces_padding",(0,e.createElement)("div",{key:r+"-SpacesPaddingComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:r+"-SpacesPaddingComponentsBaseControlField",className:"components-base-control__field"},(0,e.createElement)("div",{key:r+"-SpacesPaddingContainer",className:"spaces-control-container"},(0,e.createElement)(i.__experimentalBoxControl,{key:r+"-padding",id:r+"-padding",label:Oa.innerLabel(r,"Padding"),values:c,onChange:e=>{s({padding:e,margin:l})}}))))),Oa.fieldContainer(r+"_spaces_margin",(0,e.createElement)("div",{key:r+"-SpacesMarginComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:r+"-SpacesMarginComponentsBaseControlField",className:"components-base-control__field"},(0,e.createElement)("div",{key:r+"-SpacesMarginContainer",className:"spaces-control-container"},(0,e.createElement)(i.__experimentalBoxControl,{key:r+"-margin",id:r+"-margin",label:Oa.innerLabel(r,"Margin"),values:l,onChange:e=>{s({padding:c,margin:e})}})))))),!0,"",o)}function A(t){let{id:r,label:n,value:o,onChange:a}=t;return(0,e.createElement)(i.TextareaControl,{key:r,label:n,value:o,onChange:e=>a(e)})}function T(t){let{id:r,label:n,help:o,value:a,onChange:s}=t;const c="object"==typeof o&&Array.isArray(o)&&2==o.length?a?o[1]:o[0]:null;return(0,e.createElement)(i.ToggleControl,{key:r,label:c,checked:a,onChange:e=>s(e)})}var R=r(9196),N=r.n(R);function K(t){let{id:r,label:n,description:o,value:a,onChange:s}=t;const c=[];return c.push({name:"file",title:"File",content:(0,e.createElement)(m,{key:r,id:r,label:n,value:a?.file?a.file:null,onChange:e=>{e={file:e},a?.embed&&(e.embed=a.embed),s(e)}})}),c.push({name:"embed",title:"Embed",content:Oa.fieldContainer(r+"_embed",(0,e.createElement)(i.TextControl,{key:r+"-embedLink",label:"Embed link",type:"text",value:a?.embed?a.embed:"",onChange:e=>{e={embed:e},a?.file&&(e.file=a.file),s(e)}}))}),(0,e.createElement)(R.Fragment,{key:r+"-fragment"},(0,e.createElement)("div",{key:r+"-instructions"},"Upload a media file or pick one from your media library."),Oa.tabPanelComponent(r+"-videoType",c,(function(e){return e.content}),null,null,"videoType",o))}var j=r(9041),z="delete",P=5,F=1<<P,U=F-1,q={};function G(e){e&&(e.value=!0)}function W(){}function V(e){return void 0===e.size&&(e.size=e.__iterate(Z)),e.size}function H(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?V(e)+t:t}function Z(){return!0}function J(e,t,r){return(0===e&&!$(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function X(e,t){return Q(e,t,0)}function Y(e,t){return Q(e,t,t)}function Q(e,t,r){return void 0===e?r:$(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function $(e){return e<0||0===e&&1/e==-1/0}var ee="@@__IMMUTABLE_ITERABLE__@@";function te(e){return Boolean(e&&e[ee])}var re="@@__IMMUTABLE_KEYED__@@";function ne(e){return Boolean(e&&e[re])}var oe="@@__IMMUTABLE_INDEXED__@@";function ie(e){return Boolean(e&&e[oe])}function ae(e){return ne(e)||ie(e)}var se=function(e){return te(e)?e:Ae(e)},ce=function(e){function t(e){return ne(e)?e:Te(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(se),le=function(e){function t(e){return ie(e)?e:Re(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(se),ue=function(e){function t(e){return te(e)&&!ae(e)?e:Ne(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(se);se.Keyed=ce,se.Indexed=le,se.Set=ue;var pe="@@__IMMUTABLE_SEQ__@@";function he(e){return Boolean(e&&e[pe])}var de="@@__IMMUTABLE_RECORD__@@";function fe(e){return Boolean(e&&e[de])}function ge(e){return te(e)||fe(e)}var ve="@@__IMMUTABLE_ORDERED__@@";function ye(e){return Boolean(e&&e[ve])}var me=0,be=1,_e=2,we="function"==typeof Symbol&&Symbol.iterator,Se="@@iterator",ke=we||Se,Ee=function(e){this.next=e};function Ce(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function xe(){return{value:void 0,done:!0}}function Ie(e){return!!Array.isArray(e)||!!Be(e)}function De(e){return e&&"function"==typeof e.next}function Oe(e){var t=Be(e);return t&&t.call(e)}function Be(e){var t=e&&(we&&e[we]||e[Se]);if("function"==typeof t)return t}Ee.prototype.toString=function(){return"[Iterator]"},Ee.KEYS=me,Ee.VALUES=be,Ee.ENTRIES=_e,Ee.prototype.inspect=Ee.prototype.toSource=function(){return this.toString()},Ee.prototype[ke]=function(){return this};var Le=Object.prototype.hasOwnProperty;function Me(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var Ae=function(e){function t(e){return null==e?Fe():ge(e)?e.toSeq():function(e){var t,r,n=Ge(e);if(n)return(r=Be(t=e))&&r===t.entries?n.fromEntrySeq():function(e){var t=Be(e);return t&&t===e.keys}(e)?n.toSetSeq():n;if("object"==typeof e)return new je(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,o=0;o!==n;){var i=r[t?n-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,o=0;return new Ee((function(){if(o===n)return{value:void 0,done:!0};var i=r[t?n-++o:o++];return Ce(e,i[0],i[1])}))}return this.__iteratorUncached(e,t)},t}(se),Te=function(e){function t(e){return null==e?Fe().toKeyedSeq():te(e)?ne(e)?e.toSeq():e.fromEntrySeq():fe(e)?e.toSeq():Ue(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Ae),Re=function(e){function t(e){return null==e?Fe():te(e)?ne(e)?e.entrySeq():e.toIndexedSeq():fe(e)?e.toSeq().entrySeq():qe(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Ae),Ne=function(e){function t(e){return(te(e)&&!ae(e)?e:Re(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Ae);Ae.isSeq=he,Ae.Keyed=Te,Ae.Set=Ne,Ae.Indexed=Re,Ae.prototype[pe]=!0;var Ke=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[H(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,o=0;o!==n;){var i=t?n-++o:o++;if(!1===e(r[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,o=0;return new Ee((function(){if(o===n)return{value:void 0,done:!0};var i=t?n-++o:o++;return Ce(e,i,r[i])}))},t}(Re),je=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Le.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length,i=0;i!==o;){var a=n[t?o-++i:i++];if(!1===e(r[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length,i=0;return new Ee((function(){if(i===o)return{value:void 0,done:!0};var a=n[t?o-++i:i++];return Ce(e,a,r[a])}))},t}(Te);je.prototype[ve]=!0;var ze,Pe=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=Oe(this._collection),n=0;if(De(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=Oe(this._collection);if(!De(r))return new Ee(xe);var n=0;return new Ee((function(){var t=r.next();return t.done?t:Ce(e,n++,t.value)}))},t}(Re);function Fe(){return ze||(ze=new Ke([]))}function Ue(e){var t=Ge(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new je(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function qe(e){var t=Ge(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Ge(e){return Me(e)?new Ke(e):Ie(e)?new Pe(e):void 0}var We="@@__IMMUTABLE_MAP__@@";function Ve(e){return Boolean(e&&e[We])}function He(e){return Ve(e)&&ye(e)}function Ze(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function Je(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(Ze(e)&&Ze(t)&&e.equals(t))}var Xe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Ye(e){return e>>>1&1073741824|3221225471&e}var Qe=Object.prototype.valueOf;function $e(e){if(null==e)return et(e);if("function"==typeof e.hashCode)return Ye(e.hashCode(e));var t,r,n,o=(t=e).valueOf!==Qe&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==o)return et(o);switch(typeof o){case"boolean":return o?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return Ye(t)}(o);case"string":return o.length>ut?(void 0===(n=dt[r=o])&&(n=tt(r),ht===pt&&(ht=0,dt={}),ht++,dt[r]=n),n):tt(o);case"object":case"function":return function(e){var t;if(at&&void 0!==(t=it.get(e)))return t;if(void 0!==(t=e[lt]))return t;if(!nt){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[lt]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=ot(),at)it.set(e,t);else{if(void 0!==rt&&!1===rt(e))throw new Error("Non-extensible objects are not allowed as keys.");if(nt)Object.defineProperty(e,lt,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[lt]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[lt]=t}}return t}(o);case"symbol":return function(e){var t=st[e];return void 0!==t||(t=ot(),st[e]=t),t}(o);default:if("function"==typeof o.toString)return tt(o.toString());throw new Error("Value type "+typeof o+" cannot be hashed.")}}function et(e){return null===e?1108378658:1108378659}function tt(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Ye(t)}var rt=Object.isExtensible,nt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function ot(){var e=++ct;return 1073741824&ct&&(ct=0),e}var it,at="function"==typeof WeakMap;at&&(it=new WeakMap);var st=Object.create(null),ct=0,lt="__immutablehash__";"function"==typeof Symbol&&(lt=Symbol(lt));var ut=16,pt=255,ht=0,dt={},ft=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=_t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=bt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Te);ft.prototype[ve]=!0;var gt=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&V(this),this._iter.__iterate((function(o){return e(o,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(be,t),o=0;return t&&V(this),new Ee((function(){var i=n.next();return i.done?i:Ce(e,t?r.size-++o:o++,i.value,i)}))},t}(Re),vt=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(be,t);return new Ee((function(){var t=r.next();return t.done?t:Ce(e,t.value,t.value,t)}))},t}(Ne),yt=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){Bt(t);var n=te(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(be,t);return new Ee((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Bt(n);var o=te(n);return Ce(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},t}(Te);function mt(e){var t=Mt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=At,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===_e){var n=e.__iterator(t,r);return new Ee((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===be?me:be,r)},t}function bt(e,t,r){var n=Mt(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,q);return i===q?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(_e,o);return new Ee((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return Ce(n,s,t.call(r,a[1],s,e),o)}))},n}function _t(e,t){var r=this,n=Mt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=mt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=At,n.__iterate=function(r,n){var o=this,i=0;return n&&V(e),e.__iterate((function(e,a){return r(e,t?a:n?o.size-++i:i++,o)}),!n)},n.__iterator=function(n,o){var i=0;o&&V(e);var a=e.__iterator(_e,!o);return new Ee((function(){var e=a.next();if(e.done)return e;var s=e.value;return Ce(n,t?s[0]:o?r.size-++i:i++,s[1],e)}))},n}function wt(e,t,r,n){var o=Mt(e);return n&&(o.has=function(n){var o=e.get(n,q);return o!==q&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,q);return i!==q&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,c){if(t.call(r,e,i,c))return s++,o(e,n?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(_e,i),s=0;return new Ee((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,l=c[0],u=c[1];if(t.call(r,u,l,e))return Ce(o,n?l:s++,u,i)}}))},o}function St(e,t,r,n){var o=e.size;if(J(t,r,o))return e;var i=X(t,o),a=Y(r,o);if(i!=i||a!=a)return St(e.toSeq().cacheResult(),t,r,n);var s,c=a-i;c==c&&(s=c<0?0:c);var l=Mt(e);return l.size=0===s?s:e.size&&s||void 0,!n&&he(e)&&s>=0&&(l.get=function(t,r){return(t=H(this,t))>=0&&t<s?e.get(t+i,r):r}),l.__iterateUncached=function(t,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,c=!0,l=0;return e.__iterate((function(e,r){if(!c||!(c=a++<i))return l++,!1!==t(e,n?r:l-1,o)&&l!==s})),l},l.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);if(0===s)return new Ee(xe);var o=e.__iterator(t,r),a=0,c=0;return new Ee((function(){for(;a++<i;)o.next();if(++c>s)return{value:void 0,done:!0};var e=o.next();return n||t===be||e.done?e:Ce(t,c-1,t===me?void 0:e.value[1],e)}))},l}function kt(e,t,r,n){var o=Mt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return e.__iterate((function(e,i,l){if(!s||!(s=t.call(r,e,i,l)))return c++,o(e,n?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(_e,i),c=!0,l=0;return new Ee((function(){var e,i,u;do{if((e=s.next()).done)return n||o===be?e:Ce(o,l++,o===me?void 0:e.value[1],e);var p=e.value;i=p[0],u=p[1],c&&(c=t.call(r,u,i,a))}while(c);return o===_e?e:Ce(o,i,u,e)}))},o}function Et(e,t,r){var n=Mt(e);return n.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function e(c,l){c.__iterate((function(i,c){return(!t||l<t)&&te(i)?e(i,l+1):(a++,!1===o(i,r?c:a-1,n)&&(s=!0)),!s}),i)}(e,0),a},n.__iteratorUncached=function(n,o){if(o)return this.cacheResult().__iterator(n,o);var i=e.__iterator(n,o),a=[],s=0;return new Ee((function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(n===_e&&(c=c[1]),t&&!(a.length<t)||!te(c))return r?e:Ce(n,s++,c,e);a.push(i),i=c.__iterator(n,o)}else i=a.pop()}return{value:void 0,done:!0}}))},n}function Ct(e,t,r){t||(t=Tt);var n=ne(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).valueSeq().toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?Te(i):ie(e)?Re(i):Ne(i)}function xt(e,t,r){if(t||(t=Tt),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return It(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return It(t,e,r)?r:e}))}function It(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function Dt(e,t,r,n){var o=Mt(e),i=new Ke(r).map((function(e){return e.size}));return o.size=n?i.max():i.min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(be,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=se(e),Oe(o?e.reverse():e)})),a=0,s=!1;return new Ee((function(){var r;return s||(r=i.map((function(e){return e.next()})),s=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),s?{value:void 0,done:!0}:Ce(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function Ot(e,t){return e===t?e:he(e)?t:e.constructor(t)}function Bt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Lt(e){return ne(e)?ce:ie(e)?le:ue}function Mt(e){return Object.create((ne(e)?Te:ie(e)?Re:Ne).prototype)}function At(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ae.prototype.cacheResult.call(this)}function Tt(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Rt(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function Nt(e,t){if(!e)throw new Error(t)}function Kt(e){Nt(e!==1/0,"Cannot perform this action with an infinite size.")}function jt(e){if(Me(e)&&"string"!=typeof e)return e;if(ye(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}gt.prototype.cacheResult=ft.prototype.cacheResult=vt.prototype.cacheResult=yt.prototype.cacheResult=At;var zt=Object.prototype.toString;function Pt(e){return"object"==typeof e&&(ge(e)||Array.isArray(e)||function(e){if(!e||"object"!=typeof e||"[object Object]"!==zt.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}(e))}function Ft(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function Ut(e,t,r){return ge(e)?e.get(t,r):function(e,t){return ge(e)?e.has(t):Pt(e)&&Le.call(e,t)}(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function qt(e){if(Array.isArray(e))return Rt(e);var t={};for(var r in e)Le.call(e,r)&&(t[r]=e[r]);return t}function Gt(e,t,r,n){n||(n=r,r=void 0);var o=Wt(ge(e),e,jt(t),0,r,n);return o===q?r:o}function Wt(e,t,r,n,o,i){var a=t===q;if(n===r.length){var s=a?o:t,c=i(s);return c===s?t:c}if(!a&&!Pt(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Ft)+"]: "+t);var l=r[n],u=a?q:Ut(t,l,q),p=Wt(u===q?e:ge(u),u,r,n+1,o,i);return p===u?t:p===q?function(e,t){if(!Pt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ge(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Le.call(e,t))return e;var r=qt(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}(t,l):function(e,t,r){if(!Pt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ge(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Le.call(e,t)&&r===e[t])return e;var n=qt(e);return n[t]=r,n}(a?e?Sr():{}:t,l,p)}function Vt(e,t){return function(e,t,r){return Gt(e,t,q,(function(){return r}))}(this,e,t)}function Ht(e){return function(e,t){return Gt(e,t,(function(){return q}))}(this,e)}function Zt(e,t,r,n){return Gt(e,[t],r,n)}function Jt(e,t,r){return 1===arguments.length?e(this):Zt(this,e,t,r)}function Xt(e,t,r){return Gt(this,e,t,r)}function Yt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return $t(this,e)}function Qt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return $t(this,t,e)}function $t(e,t,r){for(var n=[],o=0;o<t.length;o++){var i=ce(t[o]);0!==i.size&&n.push(i)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){Zt(e,n,q,(function(e){return e===q?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},o=0;o<n.length;o++)n[o].forEach(t)})):e.constructor(n[0])}function er(e,t,r){return tr(e,t,function(e){return function t(r,n,o){return Pt(r)&&Pt(n)&&(i=n,a=Ae(r),s=Ae(i),ie(a)===ie(s)&&ne(a)===ne(s))?tr(r,[n],t):e?e(r,n,o):n;var i,a,s}}(r))}function tr(e,t,r){if(!Pt(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ge(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),o=e,i=n?le:ce,a=n?function(t){o===e&&(o=qt(o)),o.push(t)}:function(t,n){var i=Le.call(o,n),a=i&&r?r(o[n],t,n):t;i&&a===o[n]||(o===e&&(o=qt(o)),o[n]=a)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function rr(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return er(this,e)}function nr(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return er(this,t,e)}function or(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Gt(this,e,Sr(),(function(e){return tr(e,t)}))}function ir(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Gt(this,e,Sr(),(function(e){return er(e,t)}))}function ar(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function sr(){return this.__ownerID?this:this.__ensureOwner(new W)}function cr(){return this.__ensureOwner()}function lr(){return this.__altered}var ur=function(e){function t(t){return null==t?Sr():Ve(t)&&!ye(t)?t:Sr().withMutations((function(r){var n=e(t);Kt(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Sr().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return kr(this,e,t)},t.prototype.remove=function(e){return kr(this,e,q)},t.prototype.deleteAll=function(e){var t=se(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Sr()},t.prototype.sort=function(e){return Zr(Ct(this,e))},t.prototype.sortBy=function(e,t){return Zr(Ct(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(o,i){n.set(i,e.call(t,o,i,r))}))}))},t.prototype.__iterator=function(e,t){return new mr(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wr(this.size,this._root,e,this.__hash):0===this.size?Sr():(this.__ownerID=e,this.__altered=!1,this)},t}(ce);ur.isMap=Ve;var pr=ur.prototype;pr[We]=!0,pr[z]=pr.remove,pr.removeAll=pr.deleteAll,pr.setIn=Vt,pr.removeIn=pr.deleteIn=Ht,pr.update=Jt,pr.updateIn=Xt,pr.merge=pr.concat=Yt,pr.mergeWith=Qt,pr.mergeDeep=rr,pr.mergeDeepWith=nr,pr.mergeIn=or,pr.mergeDeepIn=ir,pr.withMutations=ar,pr.wasAltered=lr,pr.asImmutable=cr,pr["@@transducer/init"]=pr.asMutable=sr,pr["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},pr["@@transducer/result"]=function(e){return e.asImmutable()};var hr=function(e,t){this.ownerID=e,this.entries=t};hr.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Je(r,o[i][0]))return o[i][1];return n},hr.prototype.update=function(e,t,r,n,o,i,a){for(var s=o===q,c=this.entries,l=0,u=c.length;l<u&&!Je(n,c[l][0]);l++);var p=l<u;if(p?c[l][1]===o:s)return this;if(G(a),(s||!p)&&G(i),!s||1!==c.length){if(!p&&!s&&c.length>=Or)return function(e,t,r,n){e||(e=new W);for(var o=new vr(e,$e(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,c,n,o);var h=e&&e===this.ownerID,d=h?c:Rt(c);return p?s?l===u-1?d.pop():d[l]=d.pop():d[l]=[n,o]:d.push([n,o]),h?(this.entries=d,this):new hr(e,d)}};var dr=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};dr.prototype.get=function(e,t,r,n){void 0===t&&(t=$e(r));var o=1<<((0===e?t:t>>>e)&U),i=this.bitmap;return 0==(i&o)?n:this.nodes[Ir(i&o-1)].get(e+P,t,r,n)},dr.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=$e(n));var s=(0===t?r:r>>>t)&U,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&o===q)return this;var p=Ir(l&c-1),h=this.nodes,d=u?h[p]:void 0,f=Er(d,e,t+P,r,n,o,i,a);if(f===d)return this;if(!u&&f&&h.length>=Br)return function(e,t,r,n,o){for(var i=0,a=new Array(F),s=0;0!==r;s++,r>>>=1)a[s]=1&r?t[i++]:void 0;return a[n]=o,new fr(e,i+1,a)}(e,h,l,s,f);if(u&&!f&&2===h.length&&Cr(h[1^p]))return h[1^p];if(u&&f&&1===h.length&&Cr(f))return f;var g=e&&e===this.ownerID,v=u?f?l:l^c:l|c,y=u?f?Dr(h,p,f,g):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(h,p,g):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=r,a=-1):i[s]=e[s+a];return i}(h,p,f,g);return g?(this.bitmap=v,this.nodes=y,this):new dr(e,v,y)};var fr=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};fr.prototype.get=function(e,t,r,n){void 0===t&&(t=$e(r));var o=(0===e?t:t>>>e)&U,i=this.nodes[o];return i?i.get(e+P,t,r,n):n},fr.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=$e(n));var s=(0===t?r:r>>>t)&U,c=o===q,l=this.nodes,u=l[s];if(c&&!u)return this;var p=Er(u,e,t+P,r,n,o,i,a);if(p===u)return this;var h=this.count;if(u){if(!p&&--h<Lr)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==n&&(o|=c,a[i++]=u)}return new dr(e,o,a)}(e,l,h,s)}else h++;var d=e&&e===this.ownerID,f=Dr(l,s,p,d);return d?(this.count=h,this.nodes=f,this):new fr(e,h,f)};var gr=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};gr.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Je(r,o[i][0]))return o[i][1];return n},gr.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=$e(n));var s=o===q;if(r!==this.keyHash)return s?this:(G(a),G(i),xr(this,e,t,r,[n,o]));for(var c=this.entries,l=0,u=c.length;l<u&&!Je(n,c[l][0]);l++);var p=l<u;if(p?c[l][1]===o:s)return this;if(G(a),(s||!p)&&G(i),s&&2===u)return new vr(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,d=h?c:Rt(c);return p?s?l===u-1?d.pop():d[l]=d.pop():d[l]=[n,o]:d.push([n,o]),h?(this.entries=d,this):new gr(e,this.keyHash,d)};var vr=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};vr.prototype.get=function(e,t,r,n){return Je(r,this.entry[0])?this.entry[1]:n},vr.prototype.update=function(e,t,r,n,o,i,a){var s=o===q,c=Je(n,this.entry[0]);return(c?o===this.entry[1]:s)?this:(G(a),s?void G(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new vr(e,this.keyHash,[n,o]):(G(i),xr(this,e,t,$e(n),[n,o])))},hr.prototype.iterate=gr.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},dr.prototype.iterate=fr.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},vr.prototype.iterate=function(e,t){return e(this.entry)};var yr,mr=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&_r(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,o=void 0;if(r.entry){if(0===n)return br(e,r.entry)}else if(r.entries){if(n<=(o=r.entries.length-1))return br(e,r.entries[this._reverse?o-n:n])}else if(n<=(o=r.nodes.length-1)){var i=r.nodes[this._reverse?o-n:n];if(i){if(i.entry)return br(e,i.entry);t=this._stack=_r(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(Ee);function br(e,t){return Ce(e,t[0],t[1])}function _r(e,t){return{node:e,index:0,__prev:t}}function wr(e,t,r,n){var o=Object.create(pr);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Sr(){return yr||(yr=wr(0))}function kr(e,t,r){var n,o;if(e._root){var i={value:!1},a={value:!1};if(n=Er(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===q?-1:1:0)}else{if(r===q)return e;o=1,n=new hr(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?wr(o,n):Sr()}function Er(e,t,r,n,o,i,a,s){return e?e.update(t,r,n,o,i,a,s):i===q?e:(G(s),G(a),new vr(t,n,[o,i]))}function Cr(e){return e.constructor===vr||e.constructor===gr}function xr(e,t,r,n,o){if(e.keyHash===n)return new gr(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&U,s=(0===r?n:n>>>r)&U,c=a===s?[xr(e,t,r+P,n,o)]:(i=new vr(t,n,o),a<s?[e,i]:[i,e]);return new dr(t,1<<a|1<<s,c)}function Ir(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function Dr(e,t,r,n){var o=n?e:Rt(e);return o[t]=r,o}var Or=F/4,Br=F/2,Lr=F/4,Mr="@@__IMMUTABLE_LIST__@@";function Ar(e){return Boolean(e&&e[Mr])}var Tr=function(e){function t(t){var r=Fr();if(null==t)return r;if(Ar(t))return t;var n=e(t),o=n.size;return 0===o?r:(Kt(o),o>0&&o<F?Pr(0,o,P,null,new Nr(n.toArray())):r.withMutations((function(e){e.setSize(o),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=H(this,e))>=0&&e<this.size){var r=Gr(this,e+=this._origin);return r&&r.array[e&U]}return t},t.prototype.set=function(e,t){return function(e,t,r){if((t=H(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Wr(e,t).set(0,r):Wr(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i={value:!1};return t>=Vr(e._capacity)?n=Ur(n,e.__ownerID,0,t,r,i):o=Ur(o,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Pr(e._origin,e._capacity,e._level,o,n):e}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=P,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Fr()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Wr(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return Wr(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Wr(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return Wr(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var o=t[n],i=e("string"!=typeof o&&Ie(o)?o:[o]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return Wr(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var o=0;o<r.size;o++)n.set(o,e.call(t,n.get(o),o,r))}))},t.prototype.slice=function(e,t){var r=this.size;return J(e,t,r)?this:Wr(this,X(e,r),Y(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=zr(this,t);return new Ee((function(){var o=n();return o===jr?{value:void 0,done:!0}:Ce(e,t?--r:r++,o)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,o=zr(this,t);(r=o())!==jr&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?Fr():(this.__ownerID=e,this.__altered=!1,this)},t}(le);Tr.isList=Ar;var Rr=Tr.prototype;Rr[Mr]=!0,Rr[z]=Rr.remove,Rr.merge=Rr.concat,Rr.setIn=Vt,Rr.deleteIn=Rr.removeIn=Ht,Rr.update=Jt,Rr.updateIn=Xt,Rr.mergeIn=or,Rr.mergeDeepIn=ir,Rr.withMutations=ar,Rr.wasAltered=lr,Rr.asImmutable=cr,Rr["@@transducer/init"]=Rr.asMutable=sr,Rr["@@transducer/step"]=function(e,t){return e.push(t)},Rr["@@transducer/result"]=function(e){return e.asImmutable()};var Nr=function(e,t){this.array=e,this.ownerID=t};Nr.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&U;if(n>=this.array.length)return new Nr([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-P,r))===a&&i)return this}if(i&&!o)return this;var s=qr(this,e);if(!i)for(var c=0;c<n;c++)s.array[c]=void 0;return o&&(s.array[n]=o),s},Nr.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&U;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-P,r))===i&&o===this.array.length-1)return this}var a=qr(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var Kr,jr={};function zr(e,t){var r=e._origin,n=e._capacity,o=Vr(n),i=e._tail;return function e(a,s,c){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,c=a>r?0:r-a,l=n-a;return l>F&&(l=F),function(){if(c===l)return jr;var e=t?--l:c++;return s&&s[e]}}(a,c):function(o,i,a){var s,c=o&&o.array,l=a>r?0:r-a>>i,u=1+(n-a>>i);return u>F&&(u=F),function(){for(;;){if(s){var r=s();if(r!==jr)return r;s=null}if(l===u)return jr;var n=t?--u:l++;s=e(c&&c[n],i-P,a+(n<<i))}}}(a,s,c)}(e._root,e._level,0)}function Pr(e,t,r,n,o,i,a){var s=Object.create(Rr);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Fr(){return Kr||(Kr=Pr(0,0,P))}function Ur(e,t,r,n,o,i){var a,s=n>>>r&U,c=e&&s<e.array.length;if(!c&&void 0===o)return e;if(r>0){var l=e&&e.array[s],u=Ur(l,t,r-P,n,o,i);return u===l?e:((a=qr(e,t)).array[s]=u,a)}return c&&e.array[s]===o?e:(i&&G(i),a=qr(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function qr(e,t){return t&&e&&t===e.ownerID?e:new Nr(e?e.array.slice():[],t)}function Gr(e,t){if(t>=Vr(e._capacity))return e._tail;if(t<1<<e._level+P){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&U],n-=P;return r}}function Wr(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new W,o=e._origin,i=e._capacity,a=o+t,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Nr(l&&l.array.length?[void 0,l]:[],n),u+=1<<(c+=P);u&&(a+=u,o+=u,s+=u,i+=u);for(var p=Vr(i),h=Vr(s);h>=1<<c+P;)l=new Nr(l&&l.array.length?[l]:[],n),c+=P;var d=e._tail,f=h<p?Gr(e,s-1):h>p?new Nr([],n):d;if(d&&h>p&&a<i&&d.array.length){for(var g=l=qr(l,n),v=c;v>P;v-=P){var y=p>>>v&U;g=g.array[y]=qr(g.array[y],n)}g.array[p>>>P&U]=d}if(s<i&&(f=f&&f.removeAfter(n,0,s)),a>=h)a-=h,s-=h,c=P,l=null,f=f&&f.removeBefore(n,0,a);else if(a>o||h<p){for(u=0;l;){var m=a>>>c&U;if(m!==h>>>c&U)break;m&&(u+=(1<<c)*m),c-=P,l=l.array[m]}l&&a>o&&(l=l.removeBefore(n,c,a-u)),l&&h<p&&(l=l.removeAfter(n,c,h-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pr(a,s,c,l,f)}function Vr(e){return e<F?0:e-1>>>P<<P}var Hr,Zr=function(e){function t(e){return null==e?Xr():He(e)?e:Xr().withMutations((function(t){var r=ce(e);Kt(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Xr()},t.prototype.set=function(e,t){return Yr(this,e,t)},t.prototype.remove=function(e){return Yr(this,e,q)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?Jr(t,r,e,this.__hash):0===this.size?Xr():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(ur);function Jr(e,t,r,n){var o=Object.create(Zr.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Xr(){return Hr||(Hr=Jr(Sr(),Fr()))}function Yr(e,t,r){var n,o,i=e._map,a=e._list,s=i.get(t),c=void 0!==s;if(r===q){if(!c)return e;a.size>=F&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(r===a.get(s)[1])return e;n=i,o=a.set(s,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e.__altered=!0,e):Jr(n,o)}Zr.isOrderedMap=He,Zr.prototype[ve]=!0,Zr.prototype[z]=Zr.prototype.remove;var Qr="@@__IMMUTABLE_STACK__@@";function $r(e){return Boolean(e&&e[Qr])}var en=function(e){function t(e){return null==e?on():$r(e)?e:on().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=H(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):nn(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&$r(t))return t;Kt(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):nn(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):on()},t.prototype.slice=function(t,r){if(J(t,r,this.size))return this;var n=X(t,this.size);if(Y(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):nn(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?nn(this.size,this._head,e,this.__hash):0===this.size?on():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new Ke(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,o=this._head;o&&!1!==e(o.value,n++,this);)o=o.next;return n},t.prototype.__iterator=function(e,t){if(t)return new Ke(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new Ee((function(){if(n){var t=n.value;return n=n.next,Ce(e,r++,t)}return{value:void 0,done:!0}}))},t}(le);en.isStack=$r;var tn,rn=en.prototype;function nn(e,t,r,n){var o=Object.create(rn);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function on(){return tn||(tn=nn(0))}rn[Qr]=!0,rn.shift=rn.pop,rn.unshift=rn.push,rn.unshiftAll=rn.pushAll,rn.withMutations=ar,rn.wasAltered=lr,rn.asImmutable=cr,rn["@@transducer/init"]=rn.asMutable=sr,rn["@@transducer/step"]=function(e,t){return e.unshift(t)},rn["@@transducer/result"]=function(e){return e.asImmutable()};var an="@@__IMMUTABLE_SET__@@";function sn(e){return Boolean(e&&e[an])}function cn(e){return sn(e)&&ye(e)}function ln(e,t){if(e===t)return!0;if(!te(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||ne(e)!==ne(t)||ie(e)!==ie(t)||ye(e)!==ye(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!ae(e);if(ye(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&Je(o[1],e)&&(r||Je(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate((function(t,n){if(r?!e.has(t):o?!Je(t,e.get(n,q)):!Je(e.get(n,q),t))return a=!1,!1}));return a&&e.size===s}function un(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function pn(e){if(!e||"object"!=typeof e)return e;if(!te(e)){if(!Pt(e))return e;e=Ae(e)}if(ne(e)){var t={};return e.__iterate((function(e,r){t[r]=pn(e)})),t}var r=[];return e.__iterate((function(e){r.push(pn(e))})),r}var hn=function(e){function t(t){return null==t?yn():sn(t)&&!ye(t)?t:yn().withMutations((function(r){var n=e(t);Kt(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(ce(e).keySeq())},t.intersect=function(e){return(e=se(e).toArray()).length?fn.intersect.apply(t(e.pop()),e):yn()},t.union=function(e){return(e=se(e).toArray()).length?fn.union.apply(t(e.pop()),e):yn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return gn(this,this._map.set(e,e))},t.prototype.remove=function(e){return gn(this,this._map.remove(e))},t.prototype.clear=function(){return gn(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,o=gn(this,this._map.mapEntries((function(o){var i=o[1],a=e.call(t,i,i,r);return a!==i&&(n=!0),[a,a]}),t));return n?o:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return Nn(Ct(this,e))},t.prototype.sortBy=function(e,t){return Nn(Ct(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(ue);hn.isSet=sn;var dn,fn=hn.prototype;function gn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function vn(e,t){var r=Object.create(fn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function yn(){return dn||(dn=vn(Sr()))}fn[an]=!0,fn[z]=fn.remove,fn.merge=fn.concat=fn.union,fn.withMutations=ar,fn.asImmutable=cr,fn["@@transducer/init"]=fn.asMutable=sr,fn["@@transducer/step"]=function(e,t){return e.add(t)},fn["@@transducer/result"]=function(e){return e.asImmutable()},fn.__empty=yn,fn.__make=vn;var mn,bn=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(Nt(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(mn)return mn;mn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+H(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return J(e,r,this.size)?this:(e=X(e,this.size),(r=Y(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;i!==r&&!1!==e(o,t?r-++i:i++,this);)o+=t?-n:n;return i},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;return new Ee((function(){if(i===r)return{value:void 0,done:!0};var a=o;return o+=t?-n:n,Ce(e,t?r-++i:i++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:ln(this,e)},t}(Re);function wn(e,t,r){for(var n=jt(t),o=0;o!==n.length;)if((e=Ut(e,n[o++],q))===q)return r;return e}function Sn(e,t){return wn(this,e,t)}function kn(){Kt(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}se.isIterable=te,se.isKeyed=ne,se.isIndexed=ie,se.isAssociative=ae,se.isOrdered=ye,se.Iterator=Ee,un(se,{toArray:function(){Kt(this.size);var e=new Array(this.size||0),t=ne(this),r=0;return this.__iterate((function(n,o){e[r++]=t?[o,n]:n})),e},toIndexedSeq:function(){return new gt(this)},toJS:function(){return pn(this)},toKeyedSeq:function(){return new ft(this,!0)},toMap:function(){return ur(this.toKeyedSeq())},toObject:kn,toOrderedMap:function(){return Zr(this.toKeyedSeq())},toOrderedSet:function(){return Nn(ne(this)?this.valueSeq():this)},toSet:function(){return hn(ne(this)?this.valueSeq():this)},toSetSeq:function(){return new vt(this)},toSeq:function(){return ie(this)?this.toIndexedSeq():ne(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return en(ne(this)?this.valueSeq():this)},toList:function(){return Tr(ne(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ot(this,function(e,t){var r=ne(e),n=[e].concat(t).map((function(e){return te(e)?r&&(e=ce(e)):e=r?Ue(e):qe(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var o=n[0];if(o===e||r&&ne(o)||ie(e)&&ie(o))return o}var i=new Ke(n);return r?i=i.toKeyedSeq():ie(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),i}(this,e))},includes:function(e){return this.some((function(t){return Je(t,e)}))},entries:function(){return this.__iterator(_e)},every:function(e,t){Kt(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return Ot(this,wt(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=ne(e),o=[[],[]];e.__iterate((function(i,a){o[t.call(r,i,a,e)?1:0].push(n?[a,i]:i)}));var i=Lt(e);return o.map((function(t){return Ot(e,i(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return Kt(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Kt(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(me)},map:function(e,t){return Ot(this,bt(this,e,t))},reduce:function(e,t,r){return Dn(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return Dn(this,e,t,r,arguments.length<2,!0)},reverse:function(){return Ot(this,_t(this,!0))},slice:function(e,t){return Ot(this,St(this,e,t,!0))},some:function(e,t){return!this.every(Ln(e),t)},sort:function(e){return Ot(this,Ct(this,e))},values:function(){return this.__iterator(be)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return V(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=ur().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return ln(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Ke(e._cache);var t=e.toSeq().map(Bn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Ln(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(Z,null,e)},flatMap:function(e,t){return Ot(this,function(e,t,r){var n=Lt(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Ot(this,Et(this,e,!0))},fromEntrySeq:function(){return new yt(this)},get:function(e,t){return this.find((function(t,r){return Je(r,e)}),void 0,t)},getIn:Sn,groupBy:function(e,t){return function(e,t,r){var n=ne(e),o=(ye(e)?Zr():ur()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=Lt(e);return o.map((function(t){return Ot(e,i(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,q)!==q},hasIn:function(e){return wn(this,e,q)!==q},isSubset:function(e){return e="function"==typeof e.includes?e:se(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:se(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return Je(t,e)}))},keySeq:function(){return this.toSeq().map(On).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return xt(this,e)},maxBy:function(e,t){return xt(this,t,e)},min:function(e){return xt(this,e?Mn(e):Tn)},minBy:function(e,t){return xt(this,t?Mn(t):Tn,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Ot(this,kt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Ln(e),t)},sortBy:function(e,t){return Ot(this,Ct(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Ot(this,function(e,t,r){var n=Mt(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,s){return t.call(r,e,o,s)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(_e,o),s=!0;return new Ee((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,c=o[0],l=o[1];return t.call(r,l,c,i)?n===_e?e:Ce(n,c,l,e):(s=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Ln(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=ye(e),r=ne(e),n=t?1:0;return function(e,t){return t=Xe(t,3432918353),t=Xe(t<<15|t>>>-15,461845907),t=Xe(t<<13|t>>>-13,5),t=Xe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ye((t=Xe(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+Rn($e(e),$e(t))|0}:function(e,t){n=n+Rn($e(e),$e(t))|0}:t?function(e){n=31*n+$e(e)|0}:function(e){n=n+$e(e)|0}),n)}(this))}});var En=se.prototype;En[ee]=!0,En[ke]=En.values,En.toJSON=En.toArray,En.__toStringMapper=Ft,En.inspect=En.toSource=function(){return this.toString()},En.chain=En.flatMap,En.contains=En.includes,un(ce,{flip:function(){return Ot(this,mt(this))},mapEntries:function(e,t){var r=this,n=0;return Ot(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Ot(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var Cn=ce.prototype;Cn[re]=!0,Cn[ke]=En.entries,Cn.toJSON=kn,Cn.__toStringMapper=function(e,t){return Ft(t)+": "+Ft(e)},un(le,{toKeyedSeq:function(){return new ft(this,!1)},filter:function(e,t){return Ot(this,wt(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ot(this,_t(this,!1))},slice:function(e,t){return Ot(this,St(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=X(e,e<0?this.count():this.size);var n=this.slice(0,e);return Ot(this,1===r?n:n.concat(Rt(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Ot(this,Et(this,e,!1))},get:function(e,t){return(e=H(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=H(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ot(this,function(e,t){var r=Mt(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(be,n),a=0;return new Ee((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?Ce(r,a++,t):Ce(r,a++,o.value,o)}))},r}(this,e))},interleave:function(){var e=[this].concat(Rt(arguments)),t=Dt(this.toSeq(),Re.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Ot(this,r)},keySeq:function(){return bn(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Ot(this,kt(this,e,t,!1))},zip:function(){return Ot(this,Dt(this,An,[this].concat(Rt(arguments))))},zipAll:function(){return Ot(this,Dt(this,An,[this].concat(Rt(arguments)),!0))},zipWith:function(e){var t=Rt(arguments);return t[0]=this,Ot(this,Dt(this,e,t))}});var xn=le.prototype;xn[oe]=!0,xn[ve]=!0,un(ue,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var In=ue.prototype;function Dn(e,t,r,n,o,i){return Kt(e.size),e.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),i),r}function On(e,t){return t}function Bn(e,t){return[t,e]}function Ln(e){return function(){return!e.apply(this,arguments)}}function Mn(e){return function(){return-e.apply(this,arguments)}}function An(){return Rt(arguments)}function Tn(e,t){return e<t?1:e>t?-1:0}function Rn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}In.has=En.includes,In.contains=In.includes,In.keys=In.values,un(Te,Cn),un(Re,xn),un(Ne,In);var Nn=function(e){function t(e){return null==e?Pn():cn(e)?e:Pn().withMutations((function(t){var r=ue(e);Kt(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(ce(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(hn);Nn.isOrderedSet=cn;var Kn,jn=Nn.prototype;function zn(e,t){var r=Object.create(jn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Pn(){return Kn||(Kn=zn(Xr()))}jn[ve]=!0,jn.zip=xn.zip,jn.zipWith=xn.zipWith,jn.zipAll=xn.zipAll,jn.__empty=Pn,jn.__make=zn;var Fn=function(e,t){var r;!function(e){if(fe(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ge(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(i){var a=this;if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var s=Object.keys(e),c=o._indices={};o._name=t,o._keys=s,o._defaultValues=e;for(var l=0;l<s.length;l++){var u=s[l];c[u]=l,o[u]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Gn(this)+' with property "'+u+'" since that property name is part of the Record API.'):Vn(o,u)}}return this.__ownerID=void 0,this._values=Tr().withMutations((function(e){e.setSize(a._keys.length),ce(i).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},o=n.prototype=Object.create(Un);return o.constructor=n,t&&(n.displayName=t),n};Fn.prototype.toString=function(){for(var e,t=Gn(this)+" { ",r=this._keys,n=0,o=r.length;n!==o;n++)t+=(n?", ":"")+(e=r[n])+": "+Ft(this.get(e));return t+" }"},Fn.prototype.equals=function(e){return this===e||fe(e)&&Wn(this).equals(Wn(e))},Fn.prototype.hashCode=function(){return Wn(this).hashCode()},Fn.prototype.has=function(e){return this._indices.hasOwnProperty(e)},Fn.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},Fn.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return qn(this,r)}return this},Fn.prototype.remove=function(e){return this.set(e)},Fn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:qn(this,e)},Fn.prototype.wasAltered=function(){return this._values.wasAltered()},Fn.prototype.toSeq=function(){return Wn(this)},Fn.prototype.toJS=function(){return pn(this)},Fn.prototype.entries=function(){return this.__iterator(_e)},Fn.prototype.__iterator=function(e,t){return Wn(this).__iterator(e,t)},Fn.prototype.__iterate=function(e,t){return Wn(this).__iterate(e,t)},Fn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?qn(this,t,e):(this.__ownerID=e,this._values=t,this)},Fn.isRecord=fe,Fn.getDescriptiveName=Gn;var Un=Fn.prototype;function qn(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Gn(e){return e.constructor.displayName||e.constructor.name||"Record"}function Wn(e){return Ue(e._keys.map((function(t){return[t,e.get(t)]})))}function Vn(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Nt(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}Un[de]=!0,Un[z]=Un.remove,Un.deleteIn=Un.removeIn=Ht,Un.getIn=Sn,Un.hasIn=En.hasIn,Un.merge=Yt,Un.mergeWith=Qt,Un.mergeIn=or,Un.mergeDeep=rr,Un.mergeDeepWith=nr,Un.mergeDeepIn=ir,Un.setIn=Vt,Un.update=Jt,Un.updateIn=Xt,Un.withMutations=ar,Un.asMutable=sr,Un.asImmutable=cr,Un[ke]=Un.entries,Un.toJSON=Un.toObject=En.toObject,Un.inspect=Un.toSource=function(){return this.toString()};class Hn extends e.Component{constructor(){super(...arguments),this.state={isListOpen:!1,headerTitle:this.props.headerTitle},this.handleClickOutside=this.handleClickOutside.bind(this)}toggle=e=>{e.preventDefault(),this.setState((e=>({isListOpen:!e.isListOpen})))};close=()=>{this.setState({isListOpen:!1})};handleClick(e,t){this.props.onToggle(e)}componentDidMount(){this.wrapperRef=(0,e.createRef)(),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this?.wrapperRef?.current&&!this.wrapperRef.current.contains(e.target)&&this.close()}renderListItems(){let t=[];return this.props.items.forEach((r=>{if(r.children){let n=[];r.children.forEach((t=>{n.push((0,e.createElement)("div",{key:this.props.id+"item-"+t.style,className:"wpe-dropdown-list-item",onMouseDown:e=>this.handleClick(t.style,e)},(0,e.createElement)("div",{className:"wpe-dropdown-list-item-inner",style:t.buttonStyle},t.label)))})),t.push((0,e.createElement)("div",{key:this.props.id+"item-"+r.style,className:"wpe-dropdown-list-item-parent"},(0,e.createElement)("div",{className:"wpe-dropdown-list-item-cat"},r.label),(0,e.createElement)("div",{className:"wpe-dropdown-list-item-children-list"},n)))}else t.push((0,e.createElement)("div",{key:this.props.id+"item-"+r.style,className:"wpe-dropdown-list-item",onMouseDown:e=>this.handleClick(r.style,e)},(0,e.createElement)("div",{className:"wpe-dropdown-list-item-inner",style:r.buttonStyle},r.label)))})),t}render(){return(0,e.createElement)("div",{id:"dropdown-"+this.props.id,className:"wpe-dropdown-container"},(0,e.createElement)("div",{ref:this.wrapperRef,key:this.props.id,className:"wpe-dropdown-wrapper"},(0,e.createElement)("div",{className:"wpe-dropdown-header",onMouseDown:this.toggle},(0,e.createElement)("div",{className:"wpe-dropdown-header-title"},this.state.headerTitle),this.state.isListOpen?(0,e.createElement)(i.Icon,{icon:"arrow-up"}):(0,e.createElement)(i.Icon,{icon:"arrow-down"})),this.state.isListOpen&&(0,e.createElement)("div",{key:this.props.id+"items",className:"wpe-dropdown-list"},this.renderListItems())))}}class Zn extends e.Component{constructor(){super(...arguments),this.state={},this.isValid=!1,this.editionMode=!1,this.close=this._close.bind(this),this.confirmLink=this._confirmLink.bind(this),this.removeLink=this._removeLink.bind(this)}componentDidUpdate(){const e=this.props.editorState.getSelection(),t=e.getAnchorKey(),r=this.props.editorState.getCurrentContent(),n=r.getBlockForKey(t),o=e.getStartOffset(),i=n.getEntityAt(o),a=i?r.getEntity(i).getData():null;this.editionMode=!(!a||!a.url)}initValue(){const e=this.props.editorState.getSelection(),t=e.getAnchorKey(),r=this.props.editorState.getCurrentContent(),n=r.getBlockForKey(t),o=e.getStartOffset(),i=e.getEndOffset(),a=n.getText().slice(o,i),s=n.getEntityAt(o),c=s?r.getEntity(s).getData():null;this.setState({isOpen:!0,url:c&&c.url?c.url:"",openInNewTab:!(!c||!c.openInNewTab)}),this.editionMode||""!=a?this.isValid=!0:this.isValid=!1}open=()=>{this.initValue()};_close(){this.setState({isOpen:!1,url:"",openInNewTab:!1})}getUrl(){return this.state.url}setUrl(e){this.setState({url:e})}isTargetBlank(){return this.state.openInNewTab}toggleTarget(){this.setState({openInNewTab:!this.isTargetBlank()})}_confirmLink(){this.props.onSubmit({url:this.getUrl(),openInNewTab:this.isTargetBlank()}),this._close()}_removeLink(){this.props.onRemove(),this._close()}getContent(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.__experimentalInputControl,{label:"Url",value:this.getUrl(),onChange:e=>this.setUrl(e)}),(0,e.createElement)(i.ToggleControl,{label:"Open in new tab",checked:this.isTargetBlank(),onChange:()=>this.toggleTarget()}))}getFooter(){return this.editionMode?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{variant:"primary",onMouseDown:this.confirmLink},(0,e.createElement)(i.Dashicon,{icon:"saved"}),"Save"),(0,e.createElement)(i.Button,{variant:"tertiary",onMouseDown:this.removeLink},(0,e.createElement)(i.Dashicon,{icon:"trash"}),"Remove")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{variant:"primary",onMouseDown:this.confirmLink},(0,e.createElement)(i.Dashicon,{icon:"saved"}),"Save"))}render(){const t=this.editionMode?"Edit link":"Add link";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{variant:"tertiary",className:this.editionMode?"is-active":"",onClick:this.open},(0,e.createElement)(i.Dashicon,{icon:"admin-links"})),this.isValid&&this.state.isOpen&&(0,e.createElement)(_,{key:this.props.clientId+"-linkWpeModal",id:this.props.clientId+"-linkWpeModal",title:t,onClose:this.close},this.getContent(),(0,e.createElement)("div",{className:"bouttonGroup"},this.getFooter())))}}class Jn extends e.Component{constructor(e){if(super(e),this.rawDraftContentState=e?.initialContent?e.initialContent:null,null!=this.rawDraftContentState)if("string"==typeof this.rawDraftContentState){const e=(0,j.convertFromHTML)(this.rawDraftContentState),t=j.ContentState.createFromBlockArray(e.contentBlocks,e.entityMap);this.state={editorState:j.EditorState.createWithContent(t)}}else this.state={editorState:j.EditorState.createWithContent((0,j.convertFromRaw)(this.rawDraftContentState),new j.CompositeDecorator([{strategy:this.findLinkEntities,component:this.Link}]))};else this.state={editorState:j.EditorState.createEmpty(new j.CompositeDecorator([{strategy:this.findLinkEntities,component:this.Link}]))};this.onChange=e=>this.handleChange(e),this.toggleBlockType=this._toggleBlockType.bind(this),this.toggleInlineStyle=this._toggleInlineStyle.bind(this),this.toggleColorStyle=this._toggleColorStyle.bind(this),this.handleKeyCommand=this.handleKeyCommand.bind(this),this.defineBlocks(),this.defineInlineStyles(),this.confirmLink=this._confirmLink.bind(this),this.removeLink=this._removeLink.bind(this)}Link=t=>{const{url:r}=t.contentState.getEntity(t.entityKey).getData();return(0,e.createElement)("a",{href:r,style:this.props.tools.a.style},t.children)};_confirmLink(e){if(e&&"object"==typeof e)if(""!=e.url){const{editorState:t}=this.state,r=t.getSelection(),n=r.getAnchorKey(),o=t.getCurrentContent(),i=o.getBlockForKey(n).getEntityAt(r.getStartOffset()),a=i?o.replaceEntityData(i,e):o.createEntity("LINK","MUTABLE",e),s=a.getLastCreatedEntityKey(),c=j.EditorState.set(t,{currentContent:a});this.onChange(j.RichUtils.toggleLink(c,r,s))}else this._removeLink()}_removeLink(){const{editorState:e}=this.state,t=e.getSelection(),r=t.getAnchorKey();var n=e.getCurrentContent();const o=n.getBlockForKey(r),i=o.getEntityAt(t.getStartOffset());o.findEntityRanges((e=>{const t=e.getEntity();return!!t&&t===i}),((e,t)=>{const r=new j.SelectionState({anchorKey:o.getKey(),focusKey:o.getKey(),anchorOffset:e,focusOffset:t});n=j.Modifier.applyEntity(n,r,null)}));const a=j.EditorState.set(e,{currentContent:n});this.onChange(j.RichUtils.toggleLink(a,t,null))}findLinkEntities(e,t,r){e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"LINK"===r.getEntity(t).getType()}),t)}defineBlocks(){this.blockTypes={},this.blockRenderMap={};for(const[t,r]of Object.entries(this.props.typo)){if(!r.isBlock)continue;let n=[];if(r?.editor&&"object"==typeof r.editor)for(const[e,t]of Object.entries(r.editor))n[e]=t;if(r.isDefault)this.blockRenderMap.unstyled={element:"div",wrapper:(0,e.createElement)(Yn,{id:this.props.id+"-WrapperBlockRendering-"+t,key:this.props.id+"-WrapperBlockRendering-"+t,style:n})};else{let o="null"==r.group?"default":r.group;"object"!=typeof this.blockTypes[o]&&(this.blockTypes[o]=[]),this.blockTypes[o].push({label:r.label,style:t}),this.blockRenderMap[t]={wrapper:(0,e.createElement)(Yn,{id:this.props.id+"-WrapperBlockRendering-"+t,key:this.props.id+"-WrapperBlockRendering-"+t,style:n})}}}this.blockRenderMap=ur(this.blockRenderMap),this.blockRenderMap=j.DefaultDraftBlockRenderMap.merge(this.blockRenderMap)}defineInlineStyles(){this.inlineStyles={},this.colorOptions=[],this.styleMap={};for(const[e,t]of Object.entries(this.props.typo)){if(t.isBlock)continue;let r=[];if(t?.editor&&"object"==typeof t.editor){for(const[e,n]of Object.entries(t.editor))r[e]=n;this.styleMap[e]=r}if("color"!=t.type){let n="null"==t.group?"default":t.group;"object"!=typeof this.inlineStyles[n]&&(this.inlineStyles[n]=[]),this.inlineStyles[n].push({label:t.label,style:e,buttonStyle:r})}else this.colorOptions.push({label:t.label,style:e,buttonStyle:r})}}handleSoftNewLine(e){return 13===e.keyCode&&e.shiftKey?"soft-new-line":(0,j.getDefaultKeyBinding)(e)}handleChange(e){this.setState({editorState:e});let t=e.getCurrentContent();this.rawDraftContentState=(0,j.convertToRaw)(t),this.props.onChange(this.rawDraftContentState)}_toggleBlockType(e){this.onChange(j.RichUtils.toggleBlockType(this.state.editorState,e))}_toggleInlineStyle(e){this.onChange(j.RichUtils.toggleInlineStyle(this.state.editorState,e))}_toggleColorStyle(e){let t=this.state.editorState;const r=t.getCurrentInlineStyle();for(const[n,o]of Object.entries(this.props.typo))o.isBlock||"color"!=o.type||n==e||r.has(n)&&(t=j.RichUtils.toggleInlineStyle(t,n));const n=j.RichUtils.toggleInlineStyle(t,e);this.onChange(n)}handleKeyCommand(e,t){return"soft-new-line"===e?(this.handleChange(j.RichUtils.insertSoftNewline(t)),"handled"):"not-handled"}render(){return(0,e.createElement)(e.Fragment,{key:this.props.id+"-draftEditor"},(0,e.createElement)("div",{className:"DraftEditor-Container"},(0,e.createElement)("div",{key:"DraftEditor-controls-row-line1",className:"DraftEditor-controls-row"},(0,e.createElement)("div",{className:"DraftEditor-controls-row-inner"},(0,e.createElement)((t=>{const r=t.editorState.getSelection(),n=t.editorState.getCurrentContent().getBlockForKey(r.getStartKey()).getType();let o="Default",i=[];for(const[e,t]of Object.entries(this.blockTypes)){let r=[];t.forEach((e=>{o=n==e.style?e.label:o,r.push({label:e.label,style:e.style,buttonStyle:null})})),i.push({label:e,style:e,children:r})}return(0,e.createElement)(Hn,{key:this.props.id+"-DropDown-BlockStyle",id:this.props.id+"-DropDown-BlockStyle",label:"Block style",headerTitle:o,items:i,onToggle:this.toggleBlockType})}),{editorState:this.state.editorState,onToggle:this.toggleBlockType}),(0,e.createElement)((t=>{const r=t.editorState.getCurrentInlineStyle();let n="Choose color...",o=[];return this.colorOptions.forEach((function(e){n=r.has(e.style)?e.label:n,o.push({label:e.label,style:e.style,buttonStyle:e.buttonStyle})})),(0,e.createElement)(Hn,{key:this.props.id+"-DropDown-Color",id:this.props.id+"-DropDown-Color",label:"Color",headerTitle:n,items:o,onToggle:t.onToggle})}),{editorState:this.state.editorState,onToggle:this.toggleColorStyle}),(0,e.createElement)("div",{className:"toolbox"},(0,e.createElement)("div",{className:"title"},"Tools :"),(0,e.createElement)(Zn,{editorState:this.state.editorState,onSubmit:this.confirmLink,onRemove:this.removeLink})))),(0,e.createElement)("div",{key:"DraftEditor-controls-row-line2",className:"DraftEditor-controls-row"},(0,e.createElement)("div",{className:"DraftEditor-controls-row-inner"},(0,e.createElement)((t=>{const r=t.editorState.getCurrentInlineStyle();let n=[];for(const[o,i]of Object.entries(this.inlineStyles))n.push((0,e.createElement)("div",{key:this.props.id+"-inlineStylesContainer",className:"border-style"},i.map((n=>(0,e.createElement)(Xn,{key:this.props.id+"-StyleButton-inlineStyles-"+n.style,id:this.props.id+"-StyleButton-inlineStyles-"+n.style,active:r.has(n.style),label:n.label,onToggle:t.onToggle,style:n.style,buttonStyle:n.buttonStyle})))));return n}),{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}))),(0,e.createElement)(j.Editor,{editorState:this.state.editorState,onChange:this.onChange,blockRenderMap:this.blockRenderMap,customStyleMap:this.styleMap,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.handleSoftNewLine,onBlur:this.props.onBlur})))}}class Xn extends e.Component{constructor(){super(...arguments),this.onToggle=e=>{e.preventDefault(),this.props.onToggle(this.props.style)}}render(){let t="DraftEditor-styleButton";return this.props.active&&(t+=" DraftEditor-activeButton"),(0,e.createElement)("span",{key:this.props.id,className:t,onMouseDown:this.onToggle,style:this.props.buttonStyle},this.props.label)}}class Yn extends e.Component{constructor(){super(...arguments)}render(){return(0,e.createElement)("div",{key:this.props.id,style:this.props.style},this.props.children)}}class Qn extends e.Component{constructor(e){super(e),this.onChange=e=>this.handleChange(e)}handleChange(e){Da.updateAttributes(this.props.keys,this.props.valueProp,e,!1,this.props.componentInstance)}getTypo(){let e={};if(console.log(this.props.componentInstance.props.theme_spec.editor.typo),this.props?.componentInstance?.props?.theme_spec?.editor?.typo&&"object"==typeof this.props.componentInstance.props.theme_spec.editor.typo)for(const[t,r]of Object.entries(this.props.componentInstance.props.theme_spec.editor.typo)){if("a"==t)continue;let n=!1,o=null;if(r?.style&&"object"==typeof r.style){o={};for(const[e,t]of Object.entries(r.style))"display"!=e?o[e]=t:"block"==t&&(n=!0)}if(r?.editorStyle&&"object"==typeof r.editorStyle)for(const[e,t]of Object.entries(r.editorStyle))"display"!=e?o[e]=t:"block"==t&&(n=!0);e[t]={label:r.label,isBlock:n,editor:o,group:r?.group?r.group:null,type:r?.type?r.type:null,isDefault:!(!r?.default||!r.default)}}return e}getTools(){let e={a:{style:{textDecoration:"underline"}}};if(this.props?.componentInstance?.props?.theme_spec?.editor?.typo&&"object"==typeof this.props.componentInstance.props.theme_spec.editor.typo)for(const[t,r]of Object.entries(this.props.componentInstance.props.theme_spec.editor.typo)){let n=null;if("a"==t){if(r?.style&&"object"==typeof r.style){n={};for(const[e,t]of Object.entries(r.style))"display"!=e&&(n[e]=t)}if(r?.editorStyle&&"object"==typeof r.editorStyle)for(const[e,t]of Object.entries(r.editorStyle))"display"!=e&&(n[e]=t);e.a={style:n}}}return e}render(){var{id:t,label:r,keys:n,valueProp:o,objectValue:i,repeatable:a=!1}=this.props;return a&&(r=(0,e.createElement)(e.Fragment,null,r,Oa.buttonRemoveRepeatableElt(t,(()=>{Da.removeEltRepeatable(n,o,this.props.componentInstance)})))),(0,e.createElement)("div",{key:t+"-WysiwygComponentsBaseControl",className:"components-base-control"},(0,e.createElement)("div",{key:t+"-WysiwygComponentsBaseControlField",className:"components-base-control__field"},(0,e.createElement)("div",{key:t+"-WysiwygContainer",className:"wysiwyg-container"},Oa.label(t,r),(0,e.createElement)(Jn,{id:t,initialContent:i,onChange:this.onChange,typo:this.getTypo(),tools:this.getTools(),onBlur:()=>this.props.componentInstance.updatePreview()}))))}}const $n=Qn;function eo(t){function r(e){t.onChange(e)}function n(){switch(t.type){case"string":case"number":case"integer":return(0,e.createElement)(b,{key:t.id,id:t.id,label:t.label,type:t.args.isNumber?"number":"text",value:null!=t.value?t.value:"",onChange:e=>r(e)});case"select":return(0,e.createElement)(L,{key:t.id,id:t.id,label:t.label,options:t.args.options,value:null!=t.value?t.value:void 0,onChange:e=>r(e)});case"spaces":return(0,e.createElement)(M,{key:t.id,id:t.id,label:t.label,description:void 0!==t.description?t.description:null,value:null!=t.value?t.value:"",onChange:e=>r(e)});case"color":return void 0!==t.args.options&&null!=t.args.options?(0,e.createElement)(L,{key:t.id,id:t.id,label:t.label,options:t.args.options,value:null!=t.value?t.value:void 0,onChange:e=>r(e)}):(0,e.createElement)(u,{key:t.id,id:t.id,label:t.label,value:null!=t.value?t.value:"",onChange:e=>r(e)});case"checkbox":return(0,e.createElement)(l,{key:t.id,id:t.id,label:t.label,options:t.args.options,value:t.value,onChange:e=>r(e)});case"boolean":case"switch":return(0,e.createElement)(T,{key:t.id,id:t.id,label:t.label,help:t.args.help,value:null!=t.value&&t.value,onChange:e=>r(e)});case"date":case"datetime":return(0,e.createElement)(p,{key:t.id,id:t.id,label:t.label,type:t.args.type,value:t.value,onChange:e=>r(e)});case"image":case"file":return(0,e.createElement)(m,{key:t.id,id:t.id,label:t.label,value:null!=t.value?t.value:void 0,onChange:e=>r(e)});case"gallery":return(0,e.createElement)(m,{key:t.id,id:t.id,label:t.label,value:null!=t.value?t.value:void 0,multiple:!0,onChange:e=>r(e)});case"video":return(0,e.createElement)(K,{key:t.id,id:t.id,label:t.label,description:void 0!==t.description?t.description:null,value:null!=t.value?t.value:void 0,onChange:e=>r(e)});case"object":return(0,e.createElement)(D,{key:t.id,id:t.id,label:t.label,description:void 0!==t.description?t.description:null,keys:t.keys,valueProp:t.valueProp,props:t.args.props,onChange:e=>r(e),componentInstance:t.componentInstance,error:t.error});case"richText":case"wysiwyg":return(0,e.createElement)($n,{key:t.id,id:t.id,label:t.label,keys:t.keys,valueProp:t.valueProp,objectValue:null!=t.value?t.value:"",componentInstance:t.componentInstance});case"text":return(0,e.createElement)(A,{key:t.id,id:t.id,label:t.label,value:null!=t.value?t.value:"",onChange:e=>r(e)});case"link":return(0,e.createElement)(w,{key:t.id,id:t.id,label:t.label,description:void 0!==t.description?t.description:null,value:t.value,props:void 0!==t.args.props?(0,e.createElement)(D,{key:t.id+"-extraProps",id:t.id+"-extraProps",label:null,description:null,keys:t.keys,valueProp:t.valueProp,props:t.args.props,onChange:e=>r(e),componentInstance:t.componentInstance,error:t.error}):null,onChange:e=>r(e)});case"radio":return(0,e.createElement)(O,{key:t.id,id:t.id,label:t.label,options:t.args.options,value:t.value,onChange:e=>r(e)});case"relation":case"form":return(0,e.createElement)(B,{key:t.id,id:t.id,label:t.label,entity:t.args.entity,relations:t.componentInstance.props.relations[t.args.entity],value:null!=t.value?t.value:void 0,onChange:e=>r(e)});case"node":return(0,e.createElement)(I,{key:t.id,id:t.id,label:t.label,keys:t.keys,componentInstance:t.componentInstance})}return null}return["file","video","gallery","image","datetime","checkbox","boolean","switch"].includes(t.type)?(0,e.createElement)(e.Fragment,{key:t.id+"-fragment"},(0,e.createElement)("label",{className:"components-base-control__forced_label",key:t.id+"-label"},t.label),n()):n()}var to=r(1850);const ro="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function no(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function oo(e){return"nodeType"in e}function io(e){var t,r;return e?no(e)?e:oo(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function ao(e){const{Document:t}=io(e);return e instanceof t}function so(e){return!no(e)&&e instanceof io(e).HTMLElement}function co(e){return e?no(e)?e.document:oo(e)?ao(e)?e:so(e)?e.ownerDocument:document:document:document}const lo=ro?R.useLayoutEffect:R.useEffect;function uo(e){const t=(0,R.useRef)(e);return lo((()=>{t.current=e})),(0,R.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)}),[])}function po(e,t){void 0===t&&(t=[e]);const r=(0,R.useRef)(e);return lo((()=>{r.current!==e&&(r.current=e)}),t),r}function ho(e,t){const r=(0,R.useRef)();return(0,R.useMemo)((()=>{const t=e(r.current);return r.current=t,t}),[...t])}function fo(e){const t=uo(e),r=(0,R.useRef)(null),n=(0,R.useCallback)((e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e}),[]);return[r,n]}function go(e){const t=(0,R.useRef)();return(0,R.useEffect)((()=>{t.current=e}),[e]),t.current}let vo={};function yo(e,t){return(0,R.useMemo)((()=>{if(t)return t;const r=null==vo[e]?0:vo[e]+1;return vo[e]=r,e+"-"+r}),[e,t])}function mo(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce(((t,r)=>{const n=Object.entries(r);for(const[r,o]of n){const n=t[r];null!=n&&(t[r]=n+e*o)}return t}),{...t})}}const bo=mo(1),_o=mo(-1);function wo(e){if(!e)return!1;const{KeyboardEvent:t}=io(e.target);return t&&e instanceof t}function So(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=io(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const ko=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ko.Translate.toString(e),ko.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Eo="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Co(e){return e.matches(Eo)?e:e.querySelector(Eo)}const xo={display:"none"};function Io(e){let{id:t,value:r}=e;return N().createElement("div",{id:t,style:xo},r)}const Do={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function Oo(e){let{id:t,announcement:r}=e;return N().createElement("div",{id:t,style:Do,role:"status","aria-live":"assertive","aria-atomic":!0},r)}const Bo=(0,R.createContext)(null),Lo={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Mo={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ao(e){let{announcements:t=Mo,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=Lo}=e;const{announce:i,announcement:a}=function(){const[e,t]=(0,R.useState)("");return{announce:(0,R.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),s=yo("DndLiveRegion"),[c,l]=(0,R.useState)(!1);if((0,R.useEffect)((()=>{l(!0)}),[]),function(e){const t=(0,R.useContext)(Bo);(0,R.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,R.useMemo)((()=>({onDragStart(e){let{active:r}=e;i(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&i(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;i(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;i(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;i(t.onDragCancel({active:r,over:n}))}})),[i,t])),!c)return null;const u=N().createElement(N().Fragment,null,N().createElement(Io,{id:n,value:o.draggable}),N().createElement(Oo,{id:s,announcement:a}));return r?(0,to.createPortal)(u,r):u}var To;function Ro(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(To||(To={}));const No=Object.freeze({x:0,y:0});function Ko(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function jo(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function zo(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}const Po=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=zo(t,t.left,t.top),i=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=(a=zo(n),s=o,Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2)));i.push({id:t,data:{droppableContainer:e,value:r}})}}var a,s;return i.sort(Ko)};function Fo(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-n,s=i-r;if(n<o&&r<i){const r=t.width*t.height,n=e.width*e.height,o=a*s;return Number((o/(r+n-o)).toFixed(4))}return 0}const Uo=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const e of n){const{id:n}=e,i=r.get(n);if(i){const r=Fo(i,t);r>0&&o.push({id:n,data:{droppableContainer:e,value:r}})}}return o.sort(jo)};function qo(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:No}function Go(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce(((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x})),{...t})}}const Wo=Go(1);const Vo={ignoreTransform:!1};function Ho(e,t){void 0===t&&(t=Vo);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:n}=io(e).getComputedStyle(e);t&&(r=function(e,t,r){const n=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;const{scaleX:o,scaleY:i,x:a,y:s}=n,c=e.left-a-(1-o)*parseFloat(r),l=e.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),u=o?e.width/o:e.width,p=i?e.height/i:e.height;return{width:u,height:p,top:l,right:c+u,bottom:l+p,left:c}}(r,t,n))}const{top:n,left:o,width:i,height:a,bottom:s,right:c}=r;return{top:n,left:o,width:i,height:a,bottom:s,right:c}}function Zo(e){return Ho(e,{ignoreTransform:!0})}function Jo(e,t){const r=[];return e?function n(o){if(null!=t&&r.length>=t)return r;if(!o)return r;if(ao(o)&&null!=o.scrollingElement&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!so(o)||function(e){return e instanceof io(e).SVGElement}(o))return r;if(r.includes(o))return r;const i=io(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=io(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const n=t[e];return"string"==typeof n&&r.test(n)}))}(o,i)&&r.push(o),function(e,t){return void 0===t&&(t=io(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?r:n(o.parentNode)}(e):r}function Xo(e){const[t]=Jo(e,1);return null!=t?t:null}function Yo(e){return ro&&e?no(e)?e:oo(e)?ao(e)||e===co(e).scrollingElement?window:so(e)?e:null:null:null}function Qo(e){return no(e)?e.scrollX:e.scrollLeft}function $o(e){return no(e)?e.scrollY:e.scrollTop}function ei(e){return{x:Qo(e),y:$o(e)}}var ti;function ri(e){return!(!ro||!e)&&e===document.scrollingElement}function ni(e){const t={x:0,y:0},r=ri(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(ti||(ti={}));const oi={x:.2,y:.2};function ii(e,t,r,n,o){let{top:i,left:a,right:s,bottom:c}=r;void 0===n&&(n=10),void 0===o&&(o=oi);const{isTop:l,isBottom:u,isLeft:p,isRight:h}=ni(e),d={x:0,y:0},f={x:0,y:0},g=t.height*o.y,v=t.width*o.x;return!l&&i<=t.top+g?(d.y=ti.Backward,f.y=n*Math.abs((t.top+g-i)/g)):!u&&c>=t.bottom-g&&(d.y=ti.Forward,f.y=n*Math.abs((t.bottom-g-c)/g)),!h&&s>=t.right-v?(d.x=ti.Forward,f.x=n*Math.abs((t.right-v-s)/v)):!p&&a<=t.left+v&&(d.x=ti.Backward,f.x=n*Math.abs((t.left+v-a)/v)),{direction:d,speed:f}}function ai(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function si(e){return e.reduce(((e,t)=>bo(e,ei(t))),No)}const ci=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Qo(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+$o(t)),0)}]];class li{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Jo(t),n=si(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of ci)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(r),a=n[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ui{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function pi(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}var hi,di,fi;function gi(e){e.preventDefault()}function vi(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(hi||(hi={})),(fi=di||(di={})).Space="Space",fi.Down="ArrowDown",fi.Right="ArrowRight",fi.Left="ArrowLeft",fi.Up="ArrowUp",fi.Esc="Escape",fi.Enter="Enter";const yi={start:[di.Space,di.Enter],cancel:[di.Esc],end:[di.Space,di.Enter]},mi=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case di.Right:return{...r,x:r.x+25};case di.Left:return{...r,x:r.x-25};case di.Down:return{...r,y:r.y+25};case di.Up:return{...r,y:r.y-25}}};class bi{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ui(co(t)),this.windowListeners=new ui(io(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hi.Resize,this.handleCancel),this.windowListeners.add(hi.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(hi.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=Ho),!e)return;const{top:r,left:n,bottom:o,right:i}=t(e);Xo(e)&&(o<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(No)}handleKeyDown(e){if(wo(e)){const{active:t,context:r,options:n}=this.props,{keyboardCodes:o=yi,coordinateGetter:i=mi,scrollBehavior:a="smooth"}=n,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:c}=r.current,l=c?{x:c.left,y:c.top}:No;this.referenceCoordinates||(this.referenceCoordinates=l);const u=i(e,{active:t,context:r.current,currentCoordinates:l});if(u){const t=_o(u,l),n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,{isTop:i,isRight:s,isLeft:c,isBottom:l,maxScroll:p,minScroll:h}=ni(r),d=ai(r),f={x:Math.min(o===di.Right?d.right-d.width/2:d.right,Math.max(o===di.Right?d.left:d.left+d.width/2,u.x)),y:Math.min(o===di.Down?d.bottom-d.height/2:d.bottom,Math.max(o===di.Down?d.top:d.top+d.height/2,u.y))},g=o===di.Right&&!s||o===di.Left&&!c,v=o===di.Down&&!l||o===di.Up&&!i;if(g&&f.x!==u.x){const e=r.scrollLeft+t.x,i=o===di.Right&&e<=p.x||o===di.Left&&e>=h.x;if(i&&!t.y)return void r.scrollTo({left:e,behavior:a});n.x=i?r.scrollLeft-e:o===di.Right?r.scrollLeft-p.x:r.scrollLeft-h.x,n.x&&r.scrollBy({left:-n.x,behavior:a});break}if(v&&f.y!==u.y){const e=r.scrollTop+t.y,i=o===di.Down&&e<=p.y||o===di.Up&&e>=h.y;if(i&&!t.x)return void r.scrollTo({top:e,behavior:a});n.y=i?r.scrollTop-e:o===di.Down?r.scrollTop-p.y:r.scrollTop-h.y,n.y&&r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,bo(_o(u,this.referenceCoordinates),n))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function _i(e){return Boolean(e&&"distance"in e)}function wi(e){return Boolean(e&&"delay"in e)}bi.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=yi,onActivation:o}=t,{active:i}=r;const{code:a}=e.nativeEvent;if(n.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class Si{constructor(e,t,r){var n;void 0===r&&(r=function(e){const{EventTarget:t}=io(e);return e instanceof t?e:co(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=co(i),this.documentListeners=new ui(this.document),this.listeners=new ui(r),this.windowListeners=new ui(io(i)),this.initialCoordinates=null!=(n=So(o))?n:No,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(hi.Resize,this.handleCancel),this.windowListeners.add(hi.DragStart,gi),this.windowListeners.add(hi.VisibilityChange,this.handleCancel),this.windowListeners.add(hi.ContextMenu,gi),this.documentListeners.add(hi.Keydown,this.handleKeydown),t){if(_i(t))return;if(wi(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(hi.Click,vi,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hi.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:n,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!n)return;const s=null!=(t=So(e))?t:No,c=_o(n,s);if(!r&&a){if(wi(a))return pi(c,a.tolerance)?this.handleCancel():void 0;if(_i(a))return null!=a.tolerance&&pi(c,a.tolerance)?this.handleCancel():pi(c,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===di.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const ki={move:{name:"pointermove"},end:{name:"pointerup"}};class Ei extends Si{constructor(e){const{event:t}=e,r=co(t.target);super(e,ki,r)}}Ei.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!(!r.isPrimary||0!==r.button||(null==n||n({event:r}),0))}}];const Ci={move:{name:"mousemove"},end:{name:"mouseup"}};var xi;!function(e){e[e.RightClick=2]="RightClick"}(xi||(xi={})),class extends Si{constructor(e){super(e,Ci,co(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==xi.RightClick&&(null==n||n({event:r}),!0)}}];const Ii={move:{name:"touchmove"},end:{name:"touchend"}};var Di,Oi;(class extends Si{constructor(e){super(e,Ii)}static setup(){return window.addEventListener(Ii.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ii.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return!(o.length>1||(null==n||n({event:r}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Di||(Di={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Oi||(Oi={}));const Bi={x:{[ti.Backward]:!1,[ti.Forward]:!1},y:{[ti.Backward]:!1,[ti.Forward]:!1}};var Li,Mi;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Li||(Li={})),function(e){e.Optimized="optimized"}(Mi||(Mi={}));const Ai=new Map;function Ti(e,t){return ho((r=>e?r||("function"==typeof t?t(e):e):null),[t,e])}function Ri(e){let{callback:t,disabled:r}=e;const n=uo(t),o=(0,R.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(n)}),[r]);return(0,R.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}function Ni(e){return new li(Ho(e),e)}function Ki(e,t,r){void 0===t&&(t=Ni);const[n,o]=(0,R.useReducer)((function(n){if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=n?n:r)?o:null;const i=t(e);return JSON.stringify(n)===JSON.stringify(i)?n:i}),null),i=function(e){let{callback:t,disabled:r}=e;const n=uo(t),o=(0,R.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(n)}),[n,r]);return(0,R.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}({callback(t){if(e)for(const r of t){const{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){o();break}}}}),a=Ri({callback:o});return lo((()=>{o(),e?(null==a||a.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==a||a.disconnect(),null==i||i.disconnect())}),[e]),n}const ji=[];function zi(e,t){void 0===t&&(t=[]);const r=(0,R.useRef)(null);return(0,R.useEffect)((()=>{r.current=null}),t),(0,R.useEffect)((()=>{const t=e!==No;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)}),[e]),r.current?_o(e,r.current):No}function Pi(e){return(0,R.useMemo)((()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null),[e])}const Fi=[];const Ui=[{sensor:Ei,options:{}},{sensor:bi,options:{}}],qi={current:{}},Gi={draggable:{measure:Zo},droppable:{measure:Zo,strategy:Li.WhileDragging,frequency:Mi.Optimized},dragOverlay:{measure:Ho}};class Wi extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const Vi={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wi,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ro},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gi,measureDroppableContainers:Ro,windowRect:null,measuringScheduled:!1},Hi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ro,draggableNodes:new Map,over:null,measureDroppableContainers:Ro},Zi=(0,R.createContext)(Hi),Ji=(0,R.createContext)(Vi);function Xi(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wi}}}function Yi(e,t){switch(t.type){case To.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case To.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case To.DragEnd:case To.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case To.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new Wi(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case To.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new Wi(e.droppable.containers);return a.set(r,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case To.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const i=new Wi(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Qi(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:o}=(0,R.useContext)(Zi),i=go(n),a=go(null==r?void 0:r.id);return(0,R.useEffect)((()=>{if(!t&&!n&&i&&null!=a){if(!wo(i))return;if(document.activeElement===i.target)return;const e=o.get(a);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame((()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=Co(e);if(t){t.focus();break}}}))}}),[n,t,o,a,i]),null}const $i=(0,R.createContext)({...No,scaleX:1,scaleY:1});var ea;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(ea||(ea={}));const ta=(0,R.memo)((function(e){var t,r,n,o;let{id:i,accessibility:a,autoScroll:s=!0,children:c,sensors:l=Ui,collisionDetection:u=Uo,measuring:p,modifiers:h,...d}=e;const f=(0,R.useReducer)(Yi,void 0,Xi),[g,v]=f,[y,m]=function(){const[e]=(0,R.useState)((()=>new Set)),t=(0,R.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]);return[(0,R.useCallback)((t=>{let{type:r,event:n}=t;e.forEach((e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)}))}),[e]),t]}(),[b,_]=(0,R.useState)(ea.Uninitialized),w=b===ea.Initialized,{draggable:{active:S,nodes:k,translate:E},droppable:{containers:C}}=g,x=S?k.get(S):null,I=(0,R.useRef)({initial:null,translated:null}),D=(0,R.useMemo)((()=>{var e;return null!=S?{id:S,data:null!=(e=null==x?void 0:x.data)?e:qi,rect:I}:null}),[S,x]),O=(0,R.useRef)(null),[B,L]=(0,R.useState)(null),[M,A]=(0,R.useState)(null),T=po(d,Object.values(d)),K=yo("DndDescribedBy",i),j=(0,R.useMemo)((()=>C.getEnabled()),[C]),z=(P=p,(0,R.useMemo)((()=>({draggable:{...Gi.draggable,...null==P?void 0:P.draggable},droppable:{...Gi.droppable,...null==P?void 0:P.droppable},dragOverlay:{...Gi.dragOverlay,...null==P?void 0:P.dragOverlay}})),[null==P?void 0:P.draggable,null==P?void 0:P.droppable,null==P?void 0:P.dragOverlay]));var P;const{droppableRects:F,measureDroppableContainers:U,measuringScheduled:q}=function(e,t){let{dragging:r,dependencies:n,config:o}=t;const[i,a]=(0,R.useState)(null),{frequency:s,measure:c,strategy:l}=o,u=(0,R.useRef)(e),p=function(){switch(l){case Li.Always:return!1;case Li.BeforeDragging:return r;default:return!r}}(),h=po(p),d=(0,R.useCallback)((function(e){void 0===e&&(e=[]),h.current||a((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[h]),f=(0,R.useRef)(null),g=ho((t=>{if(p&&!r)return Ai;if(!t||t===Ai||u.current!==e||null!=i){const t=new Map;for(let r of e){if(!r)continue;if(i&&i.length>0&&!i.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,n=e?new li(c(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t}),[e,i,r,p,c]);return(0,R.useEffect)((()=>{u.current=e}),[e]),(0,R.useEffect)((()=>{p||d()}),[r,p]),(0,R.useEffect)((()=>{i&&i.length>0&&a(null)}),[JSON.stringify(i)]),(0,R.useEffect)((()=>{p||"number"!=typeof s||null!==f.current||(f.current=setTimeout((()=>{d(),f.current=null}),s))}),[s,p,d,...n]),{droppableRects:g,measureDroppableContainers:d,measuringScheduled:null!=i}}(j,{dragging:w,dependencies:[E.x,E.y],config:z.droppable}),G=function(e,t){const r=null!==t?e.get(t):void 0,n=r?r.node.current:null;return ho((e=>{var r;return null===t?null:null!=(r=null!=n?n:e)?r:null}),[n,t])}(k,S),W=(0,R.useMemo)((()=>M?So(M):null),[M]),V=function(){const e=!1===(null==B?void 0:B.autoScrollEnabled),t="object"==typeof s?!1===s.enabled:!1===s,r=w&&!e&&!t;return"object"==typeof s?{...s,enabled:r}:{enabled:r}}(),H=function(e,t){return Ti(e,t)}(G,z.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e;const i=(0,R.useRef)(!1),{x:a,y:s}="boolean"==typeof o?{x:o,y:o}:o;lo((()=>{if(!a&&!s||!t)return void(i.current=!1);if(i.current||!n)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const o=qo(r(e),n);if(a||(o.x=0),s||(o.y=0),i.current=!0,Math.abs(o.x)>0||Math.abs(o.y)>0){const t=Xo(e);t&&t.scrollBy({top:o.y,left:o.x})}}),[t,a,s,n,r])}({activeNode:S?k.get(S):null,config:V.layoutShiftCompensation,initialRect:H,measure:z.draggable.measure});const Z=Ki(G,z.draggable.measure,H),J=Ki(G?G.parentElement:null),X=(0,R.useRef)({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:C,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=C.getNodeFor(null==(t=X.current.over)?void 0:t.id),Q=function(e){let{measure:t}=e;const[r,n]=(0,R.useState)(null),o=Ri({callback:(0,R.useCallback)((e=>{for(const{target:r}of e)if(so(r)){n((e=>{const n=t(r);return e?{...e,width:n.width,height:n.height}:n}));break}}),[t])}),i=(0,R.useCallback)((e=>{const r=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return so(t)?t:e}(e);null==o||o.disconnect(),r&&(null==o||o.observe(r)),n(r?t(r):null)}),[t,o]),[a,s]=fo(i);return(0,R.useMemo)((()=>({nodeRef:a,rect:r,setRef:s})),[r,a,s])}({measure:z.dragOverlay.measure}),$=null!=(r=Q.nodeRef.current)?r:G,ee=w?null!=(n=Q.rect)?n:Z:null,te=Boolean(Q.nodeRef.current&&Q.rect),re=qo(ne=te?null:Z,Ti(ne));var ne;const oe=Pi($?io($):null),ie=function(e){const t=(0,R.useRef)(e),r=ho((r=>e?r&&r!==ji&&e&&t.current&&e.parentNode===t.current.parentNode?r:Jo(e):ji),[e]);return(0,R.useEffect)((()=>{t.current=e}),[e]),r}(w?null!=Y?Y:G:null),ae=function(e,t){void 0===t&&(t=Ho);const[r]=e,n=Pi(r?io(r):null),[o,i]=(0,R.useReducer)((function(){return e.length?e.map((e=>ri(e)?n:new li(t(e),e))):Fi}),Fi),a=Ri({callback:i});return e.length>0&&o===Fi&&i(),lo((()=>{e.length?e.forEach((e=>null==a?void 0:a.observe(e))):(null==a||a.disconnect(),i())}),[e]),o}(ie),se=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...n})),r):r}(h,{transform:{x:E.x-re.x,y:E.y-re.y,scaleX:1,scaleY:1},activatorEvent:M,active:D,activeNodeRect:Z,containerNodeRect:J,draggingNodeRect:ee,over:X.current.over,overlayNodeRect:Q.rect,scrollableAncestors:ie,scrollableAncestorRects:ae,windowRect:oe}),ce=W?bo(W,E):null,le=function(e){const[t,r]=(0,R.useState)(null),n=(0,R.useRef)(e),o=(0,R.useCallback)((e=>{const t=Yo(e.target);t&&r((e=>e?(e.set(t,ei(t)),new Map(e)):null))}),[]);return(0,R.useEffect)((()=>{const t=n.current;if(e!==t){i(t);const a=e.map((e=>{const t=Yo(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,ei(t)]):null})).filter((e=>null!=e));r(a.length?new Map(a):null),n.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=Yo(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),(0,R.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>bo(e,t)),No):si(e):No),[e,t])}(ie),ue=zi(le),pe=zi(le,[Z]),he=bo(se,ue),de=ee?Wo(ee,se):null,fe=D&&de?u({active:D,collisionRect:de,droppableRects:F,droppableContainers:j,pointerCoordinates:ce}):null,ge=function(e,t){if(!e||0===e.length)return null;const[r]=e;return r.id}(fe),[ve,ye]=(0,R.useState)(null),me=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(te?se:bo(se,pe),null!=(o=null==ve?void 0:ve.rect)?o:null,Z),be=(0,R.useCallback)(((e,t)=>{let{sensor:r,options:n}=t;if(null==O.current)return;const o=k.get(O.current);if(!o)return;const i=e.nativeEvent,a=new r({active:O.current,activeNode:o,event:i,options:n,context:X,onStart(e){const t=O.current;if(null==t)return;const r=k.get(t);if(!r)return;const{onDragStart:n}=T.current,o={active:{id:t,data:r.data,rect:I}};(0,to.unstable_batchedUpdates)((()=>{null==n||n(o),_(ea.Initializing),v({type:To.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:o})}))},onMove(e){v({type:To.DragMove,coordinates:e})},onEnd:s(To.DragEnd),onCancel:s(To.DragCancel)});function s(e){return async function(){const{active:t,collisions:r,over:n,scrollAdjustedTranslate:o}=X.current;let a=null;if(t&&o){const{cancelDrop:s}=T.current;a={activatorEvent:i,active:t,collisions:r,delta:o,over:n},e===To.DragEnd&&"function"==typeof s&&await Promise.resolve(s(a))&&(e=To.DragCancel)}O.current=null,(0,to.unstable_batchedUpdates)((()=>{v({type:e}),_(ea.Uninitialized),ye(null),L(null),A(null);const t=e===To.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=T.current[t];null==e||e(a),y({type:t,event:a})}}))}}(0,to.unstable_batchedUpdates)((()=>{L(a),A(e.nativeEvent)}))}),[k]),_e=(0,R.useCallback)(((e,t)=>(r,n)=>{const o=r.nativeEvent,i=k.get(n);if(null!==O.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(r,t.options,a)&&(o.dndKit={capturedBy:t.sensor},O.current=n,be(r,t))}),[k,be]),we=function(e,t){return(0,R.useMemo)((()=>e.reduce(((e,r)=>{const{sensor:n}=r;return[...e,...n.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,r)})))]}),[])),[e,t])}(l,_e);!function(e){(0,R.useEffect)((()=>{if(!ro)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(l),lo((()=>{Z&&b===ea.Initializing&&_(ea.Initialized)}),[Z,b]),(0,R.useEffect)((()=>{const{onDragMove:e}=T.current,{active:t,activatorEvent:r,collisions:n,over:o}=X.current;if(!t||!r)return;const i={active:t,activatorEvent:r,collisions:n,delta:{x:he.x,y:he.y},over:o};(0,to.unstable_batchedUpdates)((()=>{null==e||e(i),y({type:"onDragMove",event:i})}))}),[he.x,he.y]),(0,R.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:o}=X.current;if(!e||null==O.current||!t||!o)return;const{onDragOver:i}=T.current,a=n.get(ge),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,c={active:e,activatorEvent:t,collisions:r,delta:{x:o.x,y:o.y},over:s};(0,to.unstable_batchedUpdates)((()=>{ye(s),null==i||i(c),y({type:"onDragOver",event:c})}))}),[ge]),lo((()=>{X.current={activatorEvent:M,active:D,activeNode:G,collisionRect:de,collisions:fe,droppableRects:F,draggableNodes:k,draggingNode:$,draggingNodeRect:ee,droppableContainers:C,over:ve,scrollableAncestors:ie,scrollAdjustedTranslate:he},I.current={initial:ee,translated:de}}),[D,G,fe,de,k,$,ee,F,C,ve,ie,he]),function(e){let{acceleration:t,activator:r=Di.Pointer,canScroll:n,draggingRect:o,enabled:i,interval:a=5,order:s=Oi.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:p,threshold:h}=e;const d=function(e){let{delta:t,disabled:r}=e;const n=go(t);return ho((e=>{if(r||!n||!e)return Bi;const o=Math.sign(t.x-n.x),i=Math.sign(t.y-n.y);return{x:{[ti.Backward]:e.x[ti.Backward]||-1===o,[ti.Forward]:e.x[ti.Forward]||1===o},y:{[ti.Backward]:e.y[ti.Backward]||-1===i,[ti.Forward]:e.y[ti.Forward]||1===i}}}),[r,t,n])}({delta:p,disabled:!i}),[f,g]=function(){const e=(0,R.useRef)(null);return[(0,R.useCallback)(((t,r)=>{e.current=setInterval(t,r)}),[]),(0,R.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),v=(0,R.useRef)({x:0,y:0}),y=(0,R.useRef)({x:0,y:0}),m=(0,R.useMemo)((()=>{switch(r){case Di.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Di.DraggableRect:return o}}),[r,o,c]),b=(0,R.useRef)(null),_=(0,R.useCallback)((()=>{const e=b.current;if(!e)return;const t=v.current.x*y.current.x,r=v.current.y*y.current.y;e.scrollBy(t,r)}),[]),w=(0,R.useMemo)((()=>s===Oi.TreeOrder?[...l].reverse():l),[s,l]);(0,R.useEffect)((()=>{if(i&&l.length&&m){for(const e of w){if(!1===(null==n?void 0:n(e)))continue;const r=l.indexOf(e),o=u[r];if(!o)continue;const{direction:i,speed:s}=ii(e,o,m,t,h);for(const e of["x","y"])d[e][i[e]]||(s[e]=0,i[e]=0);if(s.x>0||s.y>0)return g(),b.current=e,f(_,a),v.current=s,void(y.current=i)}v.current={x:0,y:0},y.current={x:0,y:0},g()}else g()}),[t,_,n,g,i,a,JSON.stringify(m),JSON.stringify(d),f,l,w,u,JSON.stringify(h)])}({...V,delta:E,draggingRect:de,pointerCoordinates:ce,scrollableAncestors:ie,scrollableAncestorRects:ae});const Se=(0,R.useMemo)((()=>({active:D,activeNode:G,activeNodeRect:Z,activatorEvent:M,collisions:fe,containerNodeRect:J,dragOverlay:Q,draggableNodes:k,droppableContainers:C,droppableRects:F,over:ve,measureDroppableContainers:U,scrollableAncestors:ie,scrollableAncestorRects:ae,measuringConfiguration:z,measuringScheduled:q,windowRect:oe})),[D,G,Z,M,fe,J,Q,k,C,F,ve,U,ie,ae,z,q,oe]),ke=(0,R.useMemo)((()=>({activatorEvent:M,activators:we,active:D,activeNodeRect:Z,ariaDescribedById:{draggable:K},dispatch:v,draggableNodes:k,over:ve,measureDroppableContainers:U})),[M,we,D,Z,v,K,k,ve,U]);return N().createElement(Bo.Provider,{value:m},N().createElement(Zi.Provider,{value:ke},N().createElement(Ji.Provider,{value:Se},N().createElement($i.Provider,{value:me},c)),N().createElement(Qi,{disabled:!1===(null==a?void 0:a.restoreFocus)})),N().createElement(Ao,{...a,hiddenTextDescribedById:K}))})),ra=(0,R.createContext)(null),na="button",oa="Droppable";const ia="Droppable",aa={timeout:25};function sa(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function ca(e,t){return e.reduce(((e,r,n)=>{const o=t.get(r);return o&&(e[n]=o),e}),Array(e.length))}function la(e){return null!==e&&e>=0}const ua=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const i=sa(t,n,r),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},pa={scaleX:1,scaleY:1},ha=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:i,overIndex:a}=e;const s=null!=(t=i[r])?t:n;if(!s)return null;if(o===r){const e=i[a];return e?{x:0,y:r<a?e.top+e.height-(s.top+s.height):e.top-s.top,...pa}:null}const c=function(e,t,r){const n=e[t],o=e[t-1],i=e[t+1];return n?r<t?o?n.top-(o.top+o.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}(i,o,r);return o>r&&o<=a?{x:0,y:-s.height-c,...pa}:o<r&&o>=a?{x:0,y:s.height+c,...pa}:{x:0,y:0,...pa}},da="Sortable",fa=N().createContext({activeIndex:-1,containerId:da,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ua,disabled:{draggable:!1,droppable:!1}});function ga(e){let{children:t,id:r,items:n,strategy:o=ua,disabled:i=!1}=e;const{active:a,dragOverlay:s,droppableRects:c,over:l,measureDroppableContainers:u}=(0,R.useContext)(Ji),p=yo(da,r),h=Boolean(null!==s.rect),d=(0,R.useMemo)((()=>n.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[n]),f=null!=a,g=a?d.indexOf(a.id):-1,v=l?d.indexOf(l.id):-1,y=(0,R.useRef)(d),m=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(d,y.current),b=-1!==v&&-1===g||m,_=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(i);lo((()=>{m&&f&&u(d)}),[m,d,f,u]),(0,R.useEffect)((()=>{y.current=d}),[d]);const w=(0,R.useMemo)((()=>({activeIndex:g,containerId:p,disabled:_,disableTransforms:b,items:d,overIndex:v,useDragOverlay:h,sortedRects:ca(d,c),strategy:o})),[g,p,_.draggable,_.droppable,b,d,v,c,h,o]);return N().createElement(fa.Provider,{value:w},t)}const va=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return sa(r,n,o).indexOf(t)},ya=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:c,transition:l}=e;return!(!l||!n||s!==i&&o===a||!r&&(a===o||t!==c))},ma={duration:200,easing:"ease"},ba="transform",_a=ko.Transition.toString({property:ba,duration:0,easing:"linear"}),wa={roleDescription:"sortable"};function Sa(e){let{animateLayoutChanges:t=ya,attributes:r,disabled:n,data:o,getNewIndex:i=va,id:a,strategy:s,resizeObserverConfig:c,transition:l=ma}=e;const{items:u,containerId:p,activeIndex:h,disabled:d,disableTransforms:f,sortedRects:g,overIndex:v,useDragOverlay:y,strategy:m}=(0,R.useContext)(fa),b=function(e,t){var r,n;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(n,d),_=u.indexOf(a),w=(0,R.useMemo)((()=>({sortable:{containerId:p,index:_,items:u},...o})),[p,o,_,u]),S=(0,R.useMemo)((()=>u.slice(u.indexOf(a))),[u,a]),{rect:k,node:E,isOver:C,setNodeRef:x}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const i=yo(ia),{active:a,dispatch:s,over:c,measureDroppableContainers:l}=(0,R.useContext)(Zi),u=(0,R.useRef)({disabled:r}),p=(0,R.useRef)(!1),h=(0,R.useRef)(null),d=(0,R.useRef)(null),{disabled:f,updateMeasurementsFor:g,timeout:v}={...aa,...o},y=po(null!=g?g:n),m=Ri({callback:(0,R.useCallback)((()=>{p.current?(null!=d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{l(Array.isArray(y.current)?y.current:[y.current]),d.current=null}),v)):p.current=!0}),[v]),disabled:f||!a}),b=(0,R.useCallback)(((e,t)=>{m&&(t&&(m.unobserve(t),p.current=!1),e&&m.observe(e))}),[m]),[_,w]=fo(b),S=po(t);return(0,R.useEffect)((()=>{m&&_.current&&(m.disconnect(),p.current=!1,m.observe(_.current))}),[_,m]),lo((()=>(s({type:To.RegisterDroppable,element:{id:n,key:i,disabled:r,node:_,rect:h,data:S}}),()=>s({type:To.UnregisterDroppable,key:i,id:n}))),[n]),(0,R.useEffect)((()=>{r!==u.current.disabled&&(s({type:To.SetDroppableDisabled,id:n,key:i,disabled:r}),u.current.disabled=r)}),[n,i,r,s]),{active:a,rect:h,isOver:(null==c?void 0:c.id)===n,node:_,over:c,setNodeRef:w}}({id:a,data:w,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:I,activatorEvent:D,activeNodeRect:O,attributes:B,setNodeRef:L,listeners:M,isDragging:A,over:T,setActivatorNodeRef:N,transform:K}=function(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const i=yo(oa),{activators:a,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:p,over:h}=(0,R.useContext)(Zi),{role:d=na,roleDescription:f="draggable",tabIndex:g=0}=null!=o?o:{},v=(null==c?void 0:c.id)===t,y=(0,R.useContext)(v?$i:ra),[m,b]=fo(),[_,w]=fo(),S=function(e,t){return(0,R.useMemo)((()=>e.reduce(((e,r)=>{let{eventName:n,handler:o}=r;return e[n]=e=>{o(e,t)},e}),{})),[e,t])}(a,t),k=po(r);return lo((()=>(p.set(t,{id:t,key:i,node:m,activatorNode:_,data:k}),()=>{const e=p.get(t);e&&e.key===i&&p.delete(t)})),[p,t]),{active:c,activatorEvent:s,activeNodeRect:l,attributes:(0,R.useMemo)((()=>({role:d,tabIndex:g,"aria-disabled":n,"aria-pressed":!(!v||d!==na)||void 0,"aria-roledescription":f,"aria-describedby":u.draggable})),[n,d,g,v,f,u.draggable]),isDragging:v,listeners:n?void 0:S,node:m,over:h,setNodeRef:b,setActivatorNodeRef:w,transform:y}}({id:a,data:w,attributes:{...wa,...r},disabled:b.draggable}),j=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,R.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(x,L),z=Boolean(I),P=z&&!f&&la(h)&&la(v),F=!y&&A,U=F&&P?K:null,q=P?null!=U?U:(null!=s?s:m)({rects:g,activeNodeRect:O,activeIndex:h,overIndex:v,index:_}):null,G=la(h)&&la(v)?i({id:a,items:u,activeIndex:h,overIndex:v}):_,W=null==I?void 0:I.id,V=(0,R.useRef)({activeId:W,items:u,newIndex:G,containerId:p}),H=u!==V.current.items,Z=t({active:I,containerId:p,isDragging:A,isSorting:z,id:a,index:_,items:u,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:l,wasDragging:null!=V.current.activeId}),J=function(e){let{disabled:t,index:r,node:n,rect:o}=e;const[i,a]=(0,R.useState)(null),s=(0,R.useRef)(r);return lo((()=>{if(!t&&r!==s.current&&n.current){const e=o.current;if(e){const t=Ho(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&a(r)}}r!==s.current&&(s.current=r)}),[t,r,n,o]),(0,R.useEffect)((()=>{i&&a(null)}),[i]),i}({disabled:!Z,index:_,node:E,rect:k});return(0,R.useEffect)((()=>{z&&V.current.newIndex!==G&&(V.current.newIndex=G),p!==V.current.containerId&&(V.current.containerId=p),u!==V.current.items&&(V.current.items=u)}),[z,G,p,u]),(0,R.useEffect)((()=>{if(W===V.current.activeId)return;if(W&&!V.current.activeId)return void(V.current.activeId=W);const e=setTimeout((()=>{V.current.activeId=W}),50);return()=>clearTimeout(e)}),[W]),{active:I,activeIndex:h,attributes:B,data:w,rect:k,index:_,newIndex:G,items:u,isOver:C,isSorting:z,isDragging:A,listeners:M,node:E,overIndex:v,over:T,setNodeRef:j,setActivatorNodeRef:N,setDroppableNodeRef:x,setDraggableNodeRef:L,transform:null!=J?J:q,transition:J||H&&V.current.newIndex===_?_a:F&&!wo(D)||!l?void 0:z||Z?ko.Transition.toString({...l,property:ba}):void 0}}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(this,arguments)}di.Down,di.Right,di.Up,di.Left;const Ea=e=>ya({...e,wasDragging:!0});function Ca(t){const{attributes:r,listeners:n,setNodeRef:o,setActivatorNodeRef:a,transform:s,transition:c}=Sa({id:t.id,animateLayoutChanges:Ea}),l={transition:c,transform:ko.Translate.toString(s)},u=t.error&&"object"==typeof t.error&&void 0!==t.error.error?"has-error":t.error&&"object"==typeof t.error&&void 0!==t.error.warning?"has-warning":"";return(0,e.createElement)("li",ka({key:t.id+"-SortableItemContainer",ref:o,style:l},r,{className:"repeatableItem "+t.type+" "+u}),(0,e.createElement)("div",{className:"sortableItemInner"},t.children),(0,e.createElement)(i.Button,ka({ref:a},n,{className:"drag",variant:"tertiary",isSmall:!0,icon:"move"})),void 0!==t.onDuplicate&&(0,e.createElement)(i.Button,{className:"duplicate",onMouseDown:()=>t.onDuplicate(t.id),variant:"tertiary",isSmall:!0,icon:"admin-page"}),void 0!==t.onRemove&&(0,e.createElement)(i.Button,{className:"remove",onMouseDown:()=>t.onRemove(t.id),variant:"tertiary",isDestructive:!0,isSmall:!0,icon:"trash"}))}function xa(t){const[r,n]=(0,e.useState)(Object.keys(t.value));function o(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.onChange(e,r)}function a(e,r){const n=[];for(var i in t.value)n.push(i==r?e:t.value[i]);o(n)}function s(e){const i=r.indexOf(e),a=i+1,s=Object.assign([],r);s.splice(a,0,r.length.toString()),n(s);const c=Object.assign([],t.value);c.splice(a,0,t.value[i]),o(c,!0)}function c(e){const i=r.indexOf(e);n(r.filter((t=>t!==e)));const a=Object.assign([],t.value);a.splice(i,1),o(a,!0)}return(0,e.createElement)(e.Fragment,{key:t.id+"-fragment"},(0,e.createElement)("label",{className:"components-base-control__forced_label",key:t.id+"-label"},t.label),(0,e.createElement)(ta,{collisionDetection:Po,onDragEnd:function(e){const{active:i,over:a}=e;if(i.id!==a.id){const e=r.indexOf(i.id),c=r.indexOf(a.id),l=sa(r,e,c);n(l);const u=[];for(var s in l)(s<c||c>e&&s==c)&&s!=e&&u.push(t.value[s]);for(var s in u.push(t.value[e]),l)(s>c||c<e&&s==c)&&s!=e&&u.push(t.value[s]);o(u,!0)}},measuring:{droppable:{strategy:Li.Always}}},(0,e.createElement)(ga,{items:r,strategy:ha},(0,e.createElement)("ul",{className:"repeatableContainer"},function(){var n=[];for(var o in r){const i=!(!t.error||"object"!=typeof t.error||null==t.error||void 0===t.error[o])&&t.error[o];let l="object"==t.type?Oa.repeatableObjectLabelFormatting(t.blockKey+"-"+o,t.value,o):null;n.push((0,e.createElement)(Ca,{key:t.blockKey+"-"+o+"-SortableItem",id:r[o],blockKey:t.blockKey,onDuplicate:s,onRemove:c,type:t.type,error:i},(0,e.createElement)(Ia,{type:t.type,componentInstance:t.componentInstance,blockKey:t.blockKey+"-"+o,label:l,keys:t.keys.concat(o),valueProp:void 0!==t.valueProp?t.valueProp:null,controllerValue:t.value[o],required_field:!1,args:void 0!==t.args?t.args:null,error:null,onChange:(e,t)=>a(e,t),sortableIndex:o})))}return n}())),void 0!==t.buttonAdd&&t.buttonAdd,void 0===t.buttonAdd&&(0,e.createElement)(i.Button,{className:"repeatableAddElt",onMouseDown:function(){n(r.concat(r.length.toString()));let e="object"==t.type?t.controllerValue:t.value;null!=e&&"object"==typeof t.controllerValue||(e=[]),o(e.concat(""),!0)},variant:"secondary"},(0,e.createElement)(i.Dashicon,{icon:"insert"})," Add")))}function Ia(t){const r=t.keys.join("-"),n=t.blockKey,o=t.label,a=void 0!==t.description?t.description:null,s=t.type,l=t.keys,u=t.valueProp,p=t.required_field,h=t.repeatable,d=t.isResponsive,f=t.args,g=t.error,v=t.componentInstance,y=void 0!==t.sortableIndex,m=!["string","number","integer","text","richText","wysiwyg","color"].includes(t.type),[b,_]=(0,e.useState)(t.controllerValue),[w,S]=(0,e.useState)(!1),[k,E]=(0,e.useState)(null);function C(){return!(k&&k==c.getInstance().getCurrentDevice()||y||h&&null!=x()&&"object"!=typeof x()||!("color"==t.type&&null==b||null==b&&null!=x())&&(!d||c.getInstance().getCurrentDevice()==c.getInstance().getDefaultDevice()||!I()||void 0!==b[c.getInstance().getCurrentDevice()]))}function x(){return d&&c.getInstance().getCurrentDevice()!=c.getInstance().getDefaultDevice()&&I()&&void 0===b[c.getInstance().getCurrentDevice()]?b[c.getInstance().getDefaultDevice()]:void 0!==f.default&&null!=f.default&&void 0!==f.default.value?f.default.value:null}function I(){return null!=b&&"object"==typeof b&&void 0!==b[c.getInstance().getDefaultDevice()]}function D(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d&&(e={...b,[c.getInstance().getCurrentDevice()]:e}),_(e),y&&void 0!==t.onChange&&t.onChange(e,[t.sortableIndex]),r||m?function(e){Da.updateAttributes(l,u,e,!1,v),v.updatePreview()}(e):S(!0)}function O(){Da.updateAttributes(l,u,b,!1,v),S(!1),v.updatePreview()}function B(){if(null==o)return null;let r=[o];return p&&null!=o&&r.push((0,e.createElement)("span",{key:L()+"-label-required",className:"o-required"},"*")),g&&"object"==typeof g&&"string"==typeof g.error&&r.push((0,e.createElement)("div",{key:L()+"-label-error",className:"error"}," ",(0,e.createElement)(i.Dashicon,{icon:"info"})," ",g.error," ")),g&&"object"==typeof g&&"string"==typeof g.warning&&r.push((0,e.createElement)("div",{key:L()+"-label-warging",className:"warning"},(0,e.createElement)(i.Dashicon,{icon:"info"}),g.warning)),null==b||["object","spaces","link","image"].includes(s)||r.push((0,e.createElement)(i.Button,{key:L()+"defaultOverlayContainer-button",onMouseDown:()=>{D(void 0,!0),E(null)},className:"resetDefault",variant:"link"},(0,e.createElement)(i.Dashicon,{icon:"editor-removeformatting"}),"Reset")),r=Oa.innerLabel(L(),r,void 0===t.description||null==t.description||""==t.description||["object","spaces"].includes(s)?null:t.description),r}function L(){let e=n;return d&&(e=e+"-"+c.getInstance().getCurrentDevice()),e}function M(){let e=Object.assign([],l);if(d){const t=c.getInstance().getCurrentDevice();e.push(t)}return e}function A(){if(C())return x();if(d){const e=c.getInstance().getCurrentDevice();return null!=b&&"object"==typeof b&&void 0!==b[e]?b[e]:""}return!h||null!=b&&"object"==typeof b&&0!=b.length?b:[""]}return(0,e.useEffect)((()=>{k&&k!=c.getInstance().getCurrentDevice()&&E(null)})),Oa.fieldContainer(L(),(0,e.createElement)(e.Fragment,null,function(){let n=[];if(h&&"node"!=s){const r=g&&"object"==typeof g&&"object"==typeof g.props&&Object.keys(g.props).length>0?g.props:null;n.push((0,e.createElement)(xa,{key:L()+"-Sortable",id:L()+"-Sortable",type:s,componentInstance:v,blockKey:L(),keys:M(),controllerValue:t.controllerValue,valueProp:u,value:A(),required_field:p,args:f,error:r,onChange:(e,t)=>D(e,t),label:B()}))}else n.push((0,e.createElement)(eo,{key:L(),keys:M(),valueProp:u,id:L(),label:B(),description:a,value:A(),type:s,args:f,error:g,onChange:e=>D(e),onSubmit:()=>O(),componentInstance:v}));if(d&&I()){const e=c.getInstance().getCurrentDevice(),t=c.getInstance().getDefaultDevice();n=Oa.responsiveTabComponent(L(),Object.keys(c.getInstance().getMediaQueries()).map((r=>({name:r,title:r.charAt(0).toUpperCase()+r.slice(1),className:"tab-"+r,active:e==r,isDefault:t==r,isValid:void 0!==b[r]}))),n,(e=>{v.setState({currentEditedProp:r}),c.getInstance().setCurrentDevice(e)}),s)}return n}(),C()||!w||y||m?null:(0,e.createElement)("div",{key:L()+"buttonsChangesContainer",className:"buttons-changes-container"},(0,e.createElement)(i.Button,{key:L()+"submitChanges-button",onMouseDown:()=>O(),variant:"primary"},(0,e.createElement)(i.Dashicon,{icon:"saved"})," Apply")),function(){const t=d&&I()?`Define ${o} for ${c.getInstance().getCurrentDevice()}`:"Override default value",r=d&&I()?"isResponsive":null;return C()&&!y?(0,e.createElement)("div",{key:L()+"defaultOverlayContainer",className:"default-overlay-container "+r},(0,e.createElement)(i.Button,{key:L()+"defaultOverlayContainer-button",onMouseDown:()=>{E(c.getInstance().getCurrentDevice())},variant:"primary"},(0,e.createElement)(i.Dashicon,{icon:"edit"}),t)):null}()),function(){const e=[];return g&&null!=g&&"object"==typeof g&&(void 0!==g.error?e.push("has-error"):void 0!==g.warning&&e.push("has-warning")),!w||y||m||e.push("updating"),e.length>0?e.join(" "):""}())}class Da{static returnStringOrNumber(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?parseInt(e,10):e}static addEltToRepeatable(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;Da.updateAttributes(e,t,r.concat(""),n,o)}static removeEltRepeatable(e,t,r){Da.updateAttributes(e,t,!1,!1,r)}static fileSizeFormat(e){return e>1e6?Math.round(e/1e4)/100+" Mo":Math.round(e/1e3)+" Ko"}static updateAttributes(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;const i=Da.recursiveUpdateObjectFromObject(e,t,r,n);o.setAttributes({[e[0]]:i[e[0]]})}static recursiveUpdateObjectFromObject(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Object.assign([],e),i=o.shift();("object"!=typeof t||null==t||Array.isArray(t)&&isNaN(i)||!Array.isArray(t)&&"number"==typeof i)&&(t=isNaN(i)?{}:[]);let a=Array.isArray(t)?[]:{};for(const[e,s]of Object.entries(t))e==i?o.length>0?a[e]=Da.recursiveUpdateObjectFromObject(o,s,r,n):a[e]=Da.returnStringOrNumber(r,n):a[e]=s;if(void 0===a[i]&&(o.length>0?a[i]=Da.recursiveUpdateObjectFromObject(o,void 0,r,n):r&&(a[i]=Da.returnStringOrNumber(r,n))),0==o.length&&!r)for(let e=0;e<a.length;e++)void 0===a[e]&&a.splice(e,1);return a}static renderProp(t,r,n,o){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=t.type.toLowerCase(),s=o.props.clientId+"-"+r.join("-"),c=!(void 0===t.repeatable||!t.repeatable),l=void 0!==t.label?t.label:void 0!==t.title?t.title:r.slice(-1),u=void 0!==t.description?t.description:null,p=!(void 0===t.required||!t.required);let h=n;r.forEach((e=>{h=null!=h&&"object"==typeof h&&h.hasOwnProperty(e)&&void 0!==h[e]?h[e]:null}));var d={default:void 0!==t.default?t.default:null};switch(a){case"text":case"richText":case"wysiwyg":case"spaces":case"node":break;case"string":case"number":d.isNumber=!1;break;case"integer":d.isNumber=!0;break;case"boolean":case"switch":d.help=void 0!==t.help?t.help:null;break;case"select":case"color":case"radio":case"checkbox":d.options=void 0!==t.options?t.options:null;break;case"relation":case"form":d.entity=void 0!==t.entity?t.entity:null;break;case"image":d.type=void 0!==t.type?t.type:null,d.args=t.image&&"object"==typeof t.image?t.image:{},t.responsive=!0;break;case"video":d.type=void 0!==t.type?t.type:null,d.args=t.video&&"object"==typeof t.video?t.video:{},t.responsive=!0;break;case"file":case"gallery":d.type=void 0!==t.type?t.type:null,t.responsive=!0;break;case"object":if("object"!=typeof t.props)return;d.props=t.props;break;case"link":"object"==typeof t.props&&(d.props=t.props);break;case"date":case"datetime":void 0!==t.format&&"YYYY-MM-DD"==t.format?d.type="date":void 0!==t.format&&"HH:mm"==t.format?d.type="time":d.type="datetime";break;default:return}return(0,e.createElement)(Ia,{key:s+"-Control",keys:r,blockKey:s,label:l,description:u,type:a,valueProp:n,controllerValue:h,required_field:p,repeatable:c,isResponsive:!(void 0===t.responsive||!t.responsive),args:d,error:i,componentInstance:o})}static initComponentAttributes(e,t){for(const[r,n]of Object.entries(t)){if("object"!=typeof n||null==n)continue;let t=void 0!==n.repeatable&&n.repeatable&&!["image","video","file","image"].includes(n.type.toLowerCase())?"array":n.type.toLowerCase();switch(t=void 0!==n.responsive&&n.responsive?"object":t,t){case"string":case"text":case"richText":case"select":case"color":case"radio":case"relation":case"date":case"datetime":case"number":case"integer":case"form":e[r]={type:"string"};break;case"object":case"link":case"image":case"video":case"file":case"gallery":case"wysiwyg":case"spaces":e[r]={type:"object"};break;case"array":case"checkbox":e[r]={type:"array"};break;case"boolean":case"switch":e[r]={type:"boolean"}}}e.editorPreviewImage={type:"boolean"}}}class Oa{static tabPanelComponent(t,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,e.createElement)(i.TabPanel,{key:t+"-tabPanel",className:"tab-panel-wpe-component "+s,activeClass:"active-tab",initialTabName:o,tabs:r,onSelect:a},n)}static panelComponent(t,r,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;var c=[];return""!=a&&c.push(a),(0,e.createElement)(i.Panel,{key:t+"-panel",className:c.join(" ")},this.panelBodyComponent(t,r,n,o,s))}static panelBodyComponent(t,r,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,e.createElement)(i.PanelBody,{key:t+"-PanelBody",title:r,initialOpen:null==r||o},(0,e.createElement)(i.PanelRow,null,null!=a&&(0,e.createElement)("div",{className:"components-panel__row__description"},a),n))}static fieldContainer(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o="basicField"+(""!=n?" "+n:"");return(0,e.createElement)("div",{key:t+"-basicContainer",className:o},r)}static label(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o="components-base-control__label"+(""!=n?" "+n:"");return(0,e.createElement)("div",{key:t+"-label",className:o},r)}static innerLabel(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{key:t+"-innerLabel",className:"inner"},r),null!=n&&(0,e.createElement)("p",{key:t+"-innerLabelDescription",className:"components-input-control__description"},n))}static buttonAddRepeatableElt(t,r,n,o,a){return(0,e.createElement)(i.Button,{key:t+"-repeatableAddElt",className:"repeatableAddElt",onMouseDown:()=>{Da.addEltToRepeatable(r,n,o,!1,a)},variant:"secondary"},(0,e.createElement)(i.Dashicon,{icon:"insert"})," Add")}static buttonRemoveRepeatableElt(t,r,n,o){return(0,e.createElement)(i.Button,{key:t+"-repeatableRemoveElt",className:"repeatableRemoveElt",onMouseDown:()=>{Da.removeEltRepeatable(r,n,o)},variant:"secondary",isSmall:!0},(0,e.createElement)(i.Dashicon,{icon:"no-alt"})," Remove")}static repeatableObjectLabelFormatting(t,r,n){var o=Da.returnStringOrNumber(n,!0)+1;o="#"+(o=o<10?"0"+o:o);var i=null;return null!=(r=r[n])&&"object"==typeof r&&Object.keys(r).length>0&&(i=[],void 0!==r.title?i.push((0,e.createElement)("li",{key:t+"-repeatableObjectLabel-key"},(0,e.createElement)("span",{className:"value"},r.title))):void 0!==r.name?i.push((0,e.createElement)("li",{key:t+"-repeatableObjectLabel-key"},(0,e.createElement)("span",{className:"value"},r.name))):void 0!==r.id&&i.push((0,e.createElement)("li",{key:t+"-repeatableObjectLabel-key"},(0,e.createElement)("span",{className:"value"},r.id))),i=(0,e.createElement)("ul",{key:t+"-repeatableObjectLabel-ul",className:"props"},i)),(0,e.createElement)("div",{key:t+"-repeatableObjectLabel",className:"repeatableObjectLabel"},(0,e.createElement)("div",{key:t+"-repeatableObjectLabel-id",className:"id"},o),i)}static responsiveTabComponent(t,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4?arguments[4]:void 0;return(0,e.createElement)("div",{key:t+"-responsiveTabPanel",className:"responsive-tab-panel-wpe-component "+a},(0,e.createElement)("div",{className:"responsive-buttons-container"},(0,e.createElement)(i.ButtonGroup,null,r.map((r=>{const n=r.isDefault?"default":r.isValid?" valid":"";return(0,e.createElement)(i.Button,{key:t+"-responsiveTabPanel-Button-"+r.name,isPressed:r.active,className:n,onMouseDown:()=>{o(r.name)}},Oa.getDeviceLabel(r.name))})))),n)}static getDeviceLabel(t){const r={mobile:"smartphone",tablet:"tablet",desktop:"laptop",wide:"desktop"};return void 0!==r[t]?(0,e.createElement)(i.Dashicon,{icon:r[t]}):t.charAt(0).toUpperCase()+t.slice(1)}}const Ba=window.wp.i18n,La=window.wp.notices,Ma=(0,t.compose)([(0,n.withDispatch)((e=>{const{createSuccessNotice:t}=e(La.store);return{createSuccessNotice:t}}))])((t=>{let{rootClientId:r,blocks:n,blockCategories:o,insertBlockFunction:i,onClose:a,createSuccessNotice:c,extraAttributes:l={}}=t;return(0,e.createElement)(_,{key:"o-editor-inspector-modal-insertNewBlock",id:"o-editor-inspector-modal-insertNewBlock",title:"Add block",onClose:()=>{a()}},Oa.tabPanelComponent("o-editor-inspector-tab-insertNewBlock",o,(t=>(0,e.createElement)("div",{className:"items"},n.map(((n,o)=>{if(n.category==t.name)return(0,e.createElement)("div",{key:"o-editor-inspector-modal-block-"+o,className:"item",onMouseDown:()=>{i((0,s.createBlock)(n.name,{...n.initialAttributes,...l}),void 0,r,!0),a(),c((0,Ba.sprintf)(/* translators: %s: block pattern title. */
(0,Ba.__)('"%s" inserted.'),n.title),{type:"snackbar",icon:""})}},(0,e.createElement)("div",{className:"previewContainer"},n?.example?.attributes?.editorPreviewImage&&(0,e.createElement)("img",{src:n.example.attributes.editorPreviewImage})),(0,e.createElement)("div",{className:"blockTitle"},n.title))})))),null,null,"panelInspectorInsertNewBlock"))})),Aa=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const r=void 0!==t.rootClientId?t.rootClientId:void 0;return{inserterItems:e("core/block-editor").getInserterItems(r),rootClientId:r}})),(0,n.withDispatch)((e=>{const{insertBlock:t}=e(o.store);return{insertBlock:t}}))])((t=>{let{inserterItems:r=null,insertBlock:n=null,rootClientId:o,extraAttributes:a={},buttonExtraClass:s=null,buttonDashicon:c=null,buttonVariant:l="primary"}=t;const[u,p]=(0,e.useState)(!1);let h=[];return r.forEach((e=>{h.includes(e.category)||h.push(e.category)})),h=h.map((e=>({name:e,title:"wpe-layout"==e?"Layout":e.charAt(0).toUpperCase()+e.slice(1)}))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{key:"o-editor-inspector-button-insertNewBlock",variant:l,onClick:()=>{p(!0)},className:s},c&&(0,e.createElement)(i.Dashicon,{icon:c}),"Add block"),u&&(0,e.createElement)(Ma,{rootClientId:o,blocks:r,blockCategories:h,insertBlockFunction:n,onClose:()=>{p(!1)},extraAttributes:a}))})),Ta=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const r=void 0!==t.rootClientId?t.rootClientId:void 0,{__experimentalGetAllowedPatterns:n,getSettings:i}=e(o.store);return{patterns:n(r),patternCategories:i().__experimentalBlockPatternCategories}})),(0,n.withDispatch)((e=>{const{createSuccessNotice:t}=e(La.store);return{createSuccessNotice:t}}))])((t=>{let{rootClientId:r,patterns:n,patternCategories:o,onClose:i,insertBlocksFunction:a,createSuccessNotice:c}=t,l=[];return n.forEach(((e,t)=>{null!=e.categories&&"object"==typeof e.categories&&0!=e.categories.length||(n[t].categories=["uncategorized"]),e.categories.forEach((e=>{l.includes(e)||l.push(e)}))})),l=l.map((e=>{let t={name:e,title:e.charAt(0).toUpperCase()+e.slice(1)};return o.forEach((r=>{r.name!=e||(t={name:r.name,title:r.label})})),t})),(0,e.createElement)(_,{key:"o-editor-inspector-modal-insertNewPattern",id:"o-editor-inspector-modal-insertNewPattern",title:"Add pattern",onClose:()=>{i()}},Oa.tabPanelComponent("o-editor-inspector-tab-insertNewPattern",l,(t=>(0,e.createElement)("div",{className:"items"},n.map(((n,o)=>{if(n.categories?.length>0&&n.categories.includes(t.name))return(0,e.createElement)("div",{key:"o-editor-inspector-modal-pattern-"+o,className:"item",onMouseDown:()=>{a((0,s.parse)(n.content),void 0,r,!0),i(),c((0,Ba.sprintf)(/* translators: %s: block pattern title. */
(0,Ba.__)('"%s" inserted.'),n.title),{type:"snackbar",icon:""})}},(0,e.createElement)("div",{className:"previewContainer"},n?.example?.attributes?.editorPreviewImage&&(0,e.createElement)("img",{src:n.example.attributes.editorPreviewImage})),(0,e.createElement)("div",{className:"blockTitle"},n.title))})))),null,null,"panelInspectorInsertNewBlock"))})),Ra=(0,t.compose)([(0,n.withSelect)(((e,t)=>({rootClientId:void 0!==t.rootClientId?t.rootClientId:void 0}))),(0,n.withDispatch)((e=>{const{insertBlocks:t}=e(o.store);return{insertBlocks:t}}))])((t=>{let{rootClientId:r,insertBlocks:n}=t;const[o,a]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{key:"o-editor-inspector-button-insertNewPattern",variant:"primary",onClick:()=>{a(!0)}},"Add pattern"),o&&(0,e.createElement)(Ta,{rootClientId:r,insertBlocksFunction:n,onClose:()=>{a(!1)}}))}));class Na{constructor(e,t){this.blocksList=e,this.selectBlock=t}renderTitle(){return(0,e.createElement)("li",{className:"breadcrumb-current"},(0,e.createElement)("h2",null,(0,e.createElement)(i.Dashicon,{icon:"screenoptions"})," All blocks"))}renderTools(){return null}render(){const t=this.blocksList&&"object"==typeof this.blocksList&&this.blocksList.length>0?(0,e.createElement)(C,{blocksList:this.blocksList,selectBlock:this.selectBlock}):(0,e.createElement)("p",null,"Empty page...");return(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(i.ButtonGroup,{className:"inspectorButtonInsertNew"},(0,e.createElement)(Aa,null),(0,e.createElement)(Ra,null)))}getExtraClassName(){return"inspector"}}class Ka extends e.Component{static getInstance(){return this._instance}constructor(e){super(e),this.state={alertReusableBlock:!0},this.constructor._instance=this}componentDidMount(){this._initUserPreference()}_initUserPreference(){const e=localStorage.getItem("ABT_PREFERENCES_USER_"+GLOBAL_LOCALIZED.user_id);if(e){let r=JSON.parse(e);if("object"==typeof r)for(var t in this.state)void 0!==r[t]&&this.setState({[t]:r[t]})}}getUserPreferences(e){return void 0!==this.state[e]?this.state[e]:null}updateUserPreferences(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=this.state,n=null!=t?t:!r[e];this.setState({[e]:n}),r[e]=n,localStorage.setItem("ABT_PREFERENCES_USER_"+GLOBAL_LOCALIZED.user_id,JSON.stringify(r))}render(){const t=[];if(void 0!==this.props.preference&&void 0!==this.props.context)switch(this.props.context){case"toggle":t.push((0,e.createElement)(i.ToggleControl,{label:void 0!==this.props.label?this.props.label:this.props.preference,checked:this.getUserPreferences(this.props.preference),onChange:()=>this.updateUserPreferences(this.props.preference)}));break;case"checkbox":t.push((0,e.createElement)(i.CheckboxControl,{label:void 0!==this.props.label?this.props.label:this.props.preference,checked:!this.getUserPreferences(this.props.preference),onChange:()=>this.updateUserPreferences(this.props.preference)}))}return t}}class ja{constructor(){}renderTitle(){return(0,e.createElement)("li",{className:"breadcrumb-current"},(0,e.createElement)("h2",null,"User preferences"))}renderFooter(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"o-flex-grow"}),(0,e.createElement)(i.Button,{key:"buttonCloseEditZone",className:"abtButtonCloseEditZone",variant:"secondary",onMouseDown:()=>Fa.getInstance().clean()},(0,e.createElement)(i.Dashicon,{icon:"no-alt"}),"Close"))}render(){return(0,e.createElement)("ul",null,(0,e.createElement)("li",null,(0,e.createElement)(Ka,{preference:"alertReusableBlock",context:"toggle",label:"Display alert while edit reusable block ?"})))}getExtraClassName(){return"settings"}}class za{constructor(){}renderTitle(){return(0,e.createElement)("li",{className:"breadcrumb-current"},(0,e.createElement)("h2",null,"Help"))}render(){return(0,e.createElement)("ul",null,(0,e.createElement)("li",null,(0,e.createElement)(i.Button,{key:"o-editor-help-settings",variant:"tertiary",onMouseDown:()=>Fa.getInstance().routeTo("settings")},(0,e.createElement)(i.Dashicon,{icon:"admin-settings"}),"User preferences")))}renderFooter(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"o-flex-grow"}),(0,e.createElement)(i.Button,{key:"buttonCloseEditZone",className:"abtButtonCloseEditZone",variant:"secondary",onMouseDown:()=>Fa.getInstance().clean()},(0,e.createElement)(i.Dashicon,{icon:"no-alt"}),"Close"))}getExtraClassName(){return"help"}}class Pa extends e.Component{static _instance;static getInstance(){return this._instance}constructor(e){super(e),this.state={alertReusableBlock:null},this.constructor._instance=this}render(){const e=[];return e.push(this.alertReusableBlock()),e}showModal(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&null!=this.state[e]||(null==Ka.getInstance().getUserPreferences(e)||Ka.getInstance().getUserPreferences(e))&&this.setState({[e]:!0})}displayModal(e){return this.state[e]}hideModal(e){this.setState({[e]:!1})}alertReusableBlock(){return this.displayModal("alertReusableBlock")?(0,e.createElement)(_,{key:"OModal-alertReusableBlock",id:"alertReusableBlockMessageWpeModal",title:"Reusable block",onClose:()=>this.hideModal("alertReusableBlock"),type:"warning"},(0,e.createElement)("p",null,"This block is part of a ",(0,e.createElement)("b",null,"reusable block")," composition.",(0,e.createElement)("br",null),"Updating this block will"," ",(0,e.createElement)("b",null,"apply the changes everywhere it is used.")),(0,e.createElement)("div",{className:"bouttonGroup"},(0,e.createElement)("div",{className:"row"},(0,e.createElement)(i.Button,{key:"alertReusableBlockMessageButton",variant:"primary",onMouseDown:()=>this.hideModal("alertReusableBlock")},(0,e.createElement)(i.Dashicon,{icon:"yes"}),"All right!")),(0,e.createElement)("div",{className:"row"},(0,e.createElement)(Ka,{preference:"alertReusableBlock",context:"checkbox",label:"Do not show this message again"})))):null}}class Fa extends e.Component{static getInstance(){return this._instance}static exists(){return void 0!==this._instance}constructor(e){super(e),this.state={route:null,needToBeMounted:!0,currentDevice:null,isOpen:!1},this.constructor._instance=this,this._$editApp=document.querySelector(".o-editor"),this._$editAppContainer=document.querySelector(".o-editor-container"),GLOBAL_LOCALIZED?.editor?.style&&this._$editApp.classList.add(GLOBAL_LOCALIZED.editor.style)}componentDidMount(){this._initShortcuts(),this._initMouseEvents(),"visual"==this.props.context.editorMode&&this.state.needToBeMounted&&this._mount()}setCurrentDevice(e){this.setState({currentDevice:e})}_mount(){this._routing(),this._hideEditorLoadingZone(),this._showEditorApp(),this.setState({needToBeMounted:!1})}_unmount(){this._showEditorLoadingZone(),this._hideEditorApp(),this.setState({needToBeMounted:!0})}componentDidUpdate(e,t,r){if("visual"==this.props.context.editorMode){for(var n in this.state.needToBeMounted&&this.props.context.blocksList.length>0&&this._mount(),E.componentInstances)E.componentInstances[n].forceUpdate();if(null!=this.props.context.selectedBlockClientId)for(var n in this.props.context.blocksList)this.props.context.blocksList[n].clientId==this.props.context.selectedBlockClientId&&void 0!==this.props.context.blocksList[n].isReusable&&this.props.context.blocksList[n].isReusable&&void 0!==this.props.context.blocksList[n].children&&this.props.context.blocksList[n].children.length>0&&this.props.context.selectBlock(this.props.context.blocksList[n].children[0].clientId)}else this.state.needToBeMounted||this._unmount()}_initMouseEvents(){}_initShortcuts(){document.addEventListener("keydown",(e=>{""===e.key&&(e.preventDefault(),this.hide())})),document.addEventListener("keyup",(e=>{""===e.key&&(e.preventDefault(),this.show())}))}_showEditorLoadingZone(){const e=document.querySelector(".o-editor-loading-zone");e&&(e.classList.remove("hide"),e.classList.remove("close"),e.classList.remove("removed"))}_hideEditorLoadingZone(){const e=document.querySelector(".o-editor-loading-zone");e&&(e.classList.add("hide"),setTimeout((()=>{e.classList.add("close"),setTimeout((()=>{e.classList.add("removed")}),500)}),1e3))}_showEditorApp(){setTimeout((()=>{this._$editAppContainer.classList.add("show")}),1200)}_hideEditorApp(){this._$editAppContainer.classList.remove("show")}_routing(){if("#settings"===document.location.hash)this.setState({route:"settings"});else if("#help"===document.location.hash)this.setState({route:"help"});else{const t=document.location.hash?.match(/^#([a-zA-Z0-9-]+)/);if(null!=t){const r=t[1];for(var e in E.componentInstances)if(E.componentInstances[e].getId()==r){this.forceSelectComponent(E.componentInstances[e]);break}}}}routeTo(e){this.clean(),this.setState({route:e}),document.location.hash=e}goInspector(){this.clean(),this.setState({route:null})}isBlockEdited(e){return null==this.state.route&&null!=this.props.context.selectedBlockClientId&&this.props.context.selectedBlockClientId==e}forceSelectComponent(e){if("string"==typeof e)for(var t in E.componentInstances)if(E.componentInstances[t].props.clientId==e){e=E.componentInstances[t];break}"string"!=typeof e&&this.props.context.selectBlock(e.props.clientId)}refreshScroll(){null!=this.props.context.selectedBlockClientId&&document.querySelector("#block-"+this.props.context.selectedBlockClientId)?.scrollIntoView({behavior:"smooth",block:"center"})}clean(){null!=this.props.context.selectedBlockClientId&&this.props.context.resetSelection(this.props.context.selectedBlockClientId,this.props.context.selectedBlockClientId,-1)}open(){this.setState({isOpen:!0})}close(){this.setState({isOpen:!1})}show(){this._$editApp.classList.remove("hide","is-updating")}hide(){this._$editApp.classList.add("hide")}renderBreadcrumb(){return null!=this.state.route||null!=this.props.context.selectedBlockClientId&&void 0!==E.componentInstances[this.props.context.selectedBlockClientId]?(0,e.createElement)("li",{className:"breadcrumb-home"},(0,e.createElement)(i.Button,{key:"breadcrumb-home",className:"breadcrumb path-element",onMouseDown:()=>this.goInspector()},(0,e.createElement)(i.Dashicon,{icon:"screenoptions"})," All blocks")):null}render(){if("visual"!=this.props.context.editorMode)return null;switch(this.state.route){case"settings":var t=new ja;break;case"help":t=new za;break;default:t=null!=this.props.context.selectedBlockClientId&&void 0!==E.componentInstances[this.props.context.selectedBlockClientId]&&E.componentInstances[this.props.context.selectedBlockClientId].isEditable()?new a(E.componentInstances[this.props.context.selectedBlockClientId]):new Na(this.props.context.blocksList,this.props.context.selectBlock)}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c,null),(0,e.createElement)("section",{key:"o-editor-app",className:`o-editor-app ${t?.getExtraClassName?.()}`},t?.renderTitle&&(0,e.createElement)(Ua,{isOpen:this.state.isOpen},(0,e.createElement)("nav",null,(0,e.createElement)("ol",null,this.renderBreadcrumb(),t.renderTitle(),t?.renderTools&&t.renderTools()))),(0,e.createElement)("div",{className:"o-editor-app_body"},t?.render?.()),t?.renderFooter&&(0,e.createElement)("div",{className:"o-editor-app_footer"},t?.renderFooter?.())),(0,e.createElement)(Ka,null),(0,e.createElement)(Pa,null))}}function Ua(t){const r=6,[n,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),[c,l]=(0,e.useState)(null),[u,p]=(0,e.useState)(null),[h,d]=(0,e.useState)(null),[f,g]=(0,e.useState)(null),v=document.querySelector(".o-editor .edit-post-visual-editor"),y=document.querySelector(".o-editor-app"),m=document.querySelector("#editor .interface-interface-skeleton__header");function b(e,t){o(y.offsetTop),s(window.innerWidth-(y.offsetLeft+y.offsetWidth)),l(y.offsetWidth),p(y.offsetHeight),d(e.clientY),g(e.clientX),y.classList.add("resizing"),y.setAttribute("marker",t)}function _(e,t,r){w(e,r),S(e,t)}function w(e,t){let n=e.clientX-f,o=c;t?(o-=n,a+o>=window.innerWidth-r&&(o=window.innerWidth-r-a)):(a-n<=window.innerWidth-v.offsetWidth+r&&(n=a-window.innerWidth+v.offsetWidth-r),o+=n,y.style.right=a-n+"px"),y.style.width=o+"px"}function S(e,t){let o=e.clientY-h,i=u;t?(n+o<=m.offsetHeight+r&&(o=m.offsetHeight+r-n),y.style.top=n+o+"px",i-=o):(i+=o,n+i>=window.innerHeight-r&&(i=window.innerHeight-r-n)),y.style.height=i+"px"}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=y.offsetTop),e=(window.innerHeight-m.offsetHeight)/2-y.offsetHeight/2+m.offsetHeight,y.style.top=e+"px"}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.isOpen?(null==e&&(e=window.innerWidth-(y.offsetLeft+y.offsetWidth)),e<=window.innerWidth-v.offsetWidth+r&&(e=window.innerWidth-v.offsetWidth+r),e+y.offsetWidth>=window.innerWidth-r&&(e=window.innerWidth-r-y.offsetWidth)):e=-y.offsetWidth,y.style.right=e+"px"}return(0,e.useEffect)((()=>{y&&!y.classList.contains("moving")&&window.setTimeout((()=>{k(),E()}))})),y&&(document.addEventListener("mouseup",(()=>{y.classList.contains("moving")&&y.classList.remove("moving"),y.classList.contains("resizing")&&(y.classList.remove("resizing"),y.removeAttribute("marker"))})),document.addEventListener("mousemove",(e=>{if(y.classList.contains("moving")&&function(e){k(n+(e.clientY-h)),E(a-(e.clientX-f))}(e),y.classList.contains("resizing"))switch(y.getAttribute("marker")){case"tl":_(e,!0,!0);break;case"t":S(e,!0);break;case"tr":_(e,!0,!1);break;case"r":w(e,!1);break;case"br":_(e,!1,!1);break;case"b":S(e,!1);break;case"bl":_(e,!1,!0);break;case"l":w(e,!0)}})),window.addEventListener("resize",(()=>{k(),E()})),y.addEventListener("mouseenter",(e=>{Fa.getInstance().open(),console.log("enter")})),y.addEventListener("mouseleave",(e=>{Fa.getInstance().close()}))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"open-marker"+(t.isOpen?" hidden":"")},(0,e.createElement)(i.Button,{variant:"primary"},(0,e.createElement)(i.Dashicon,{icon:"arrow-left"}))),(0,e.createElement)("div",{className:"resizer top-left",onMouseDown:e=>{b(e,"tl")}},(0,e.createElement)(i.Dashicon,{icon:"arrow-left-alt2"})),(0,e.createElement)("div",{className:"resizer top",onMouseDown:e=>{b(e,"t")}},(0,e.createElement)("span",{className:"fakeDashicon"})),(0,e.createElement)("div",{className:"resizer top-right",onMouseDown:e=>{b(e,"tr")}},(0,e.createElement)(i.Dashicon,{icon:"arrow-left-alt2"})),(0,e.createElement)("div",{className:"resizer right",onMouseDown:e=>{b(e,"r")}},(0,e.createElement)("span",{className:"fakeDashicon"})),(0,e.createElement)("div",{className:"resizer bottom-right",onMouseDown:e=>{b(e,"br")}},(0,e.createElement)(i.Dashicon,{icon:"arrow-left-alt2"})),(0,e.createElement)("div",{className:"resizer bottom",onMouseDown:e=>{b(e,"b")}},(0,e.createElement)("span",{className:"fakeDashicon"})),(0,e.createElement)("div",{className:"resizer bottom-left",onMouseDown:e=>{b(e,"bl")}},(0,e.createElement)(i.Dashicon,{icon:"arrow-left-alt2"})),(0,e.createElement)("div",{className:"resizer left",onMouseDown:e=>{b(e,"l")}},(0,e.createElement)("span",{className:"fakeDashicon"})),(0,e.createElement)("div",{className:"o-editor-app_header",onMouseDown:e=>{e.target!=document.querySelector(".o-editor-app_header .breadcrumb .is-link")&&(o(y.offsetTop),s(window.innerWidth-(y.offsetLeft+y.offsetWidth)),d(e.clientY),g(e.clientX),y.classList.add("moving"))}},t.children))}const qa=window.wp.primitives,Ga=(0,e.createElement)(qa.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(qa.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),Wa=(0,e.createElement)(qa.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(qa.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),Va=(0,e.createElement)(qa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(qa.Path,{d:"M7 13.8h6v-1.5H7v1.5zM18 16V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2zM5.5 16V4c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5zM7 10.5h8V9H7v1.5zm0-3.3h8V5.8H7v1.4zM20.2 6v13c0 .7-.6 1.2-1.2 1.2H8v1.5h11c1.5 0 2.7-1.2 2.7-2.8V6h-1.5z"})),Ha=(0,e.createElement)(qa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(qa.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),Za=(0,e.createElement)(qa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(qa.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));class Ja extends e.Component{constructor(){super(...arguments),this.state={modal:{removeSubmitted:!1}},this.title=void 0!==this.props.name?(0,s.getBlockType)(this.props.name).title:"Undefined...",this.reusableBlock=this.isReusableBlock(),E.componentInstances[this.props.clientId]=this,null!=this.getAttribute("anchor")&&this.setAttributes({anchor:this.props.clientId})}getAttribute(e){return void 0!==this.props.attributes[e]?this.props.attributes[e]:null}setAttributes(e){this.props.setAttributes(e)}propsExists(){return"object"==typeof this.props&&void 0!==this.props.block_spec&&"object"==typeof this.props.block_spec&&void 0!==this.props.block_spec.props&&"object"==typeof this.props.block_spec.props&&Object.keys(this.props.block_spec.props).length>0}getCurrentEditedProp(){return void 0!==this.state.currentEditedProp?this.state.currentEditedProp:null}isReusableBlock(){if("object"==typeof this.props.parentsBlock)for(var e in this.props.parentsBlock)if((0,s.isReusableBlock)(this.props.parentsBlock[e]))return this.props.parentsBlock[e].attributes.ref;return null}isEditable(){return!0}getReusableBlock(){return this.reusableBlock}descriptionMessage(){const t=[];return void 0!==this.description&&t.push((0,e.createElement)("div",{key:this.props.clientId+"-descriptionMessage-info",className:"row"},this.description)),t.length>0?(0,e.createElement)("div",{key:this.props.clientId+"-descriptionMessage",className:"description"},t):null}renderSpecificTools(){return null}renderTitle(){var t,r;const n=this.getAttribute("anchor"),o=void 0!==n&&null!=n&&null==n.match(/^[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+$/),a=[];return null!=this.props.parentsBlock&&"object"==typeof this.props.parentsBlock&&this.props.parentsBlock.length>0&&this.props.parentsBlock.forEach(((t,r)=>{a.push((0,e.createElement)("li",{key:"breadcrumb-parent-block-"+r,className:"breadcrumb-parent-block"},(0,e.createElement)(i.Button,{key:"path-button-"+t.clientId,className:"path-element",onMouseDown:()=>this.props.selectBlock(t.clientId)},(0,e.createElement)(i.Dashicon,{icon:"arrow-right-alt2"}),(0,s.getBlockType)(t.name).title)))})),(0,e.createElement)(e.Fragment,null,a,(0,e.createElement)("li",{className:"breadcrumb-current"},(0,e.createElement)("h2",null,null!==(t=null!==(r=this.props.title)&&void 0!==r?r:this.title)&&void 0!==t?t:"Editor",o&&(0,e.createElement)("span",{className:"subtitle"},"#",n))))}renderTools(){const t=[],r=null!=this.props.parentsBlock&&"object"==typeof this.props.parentsBlock&&this.props.parentsBlock.length>0?this.props.parentsBlock[this.props.parentsBlock.length-1].clientId:void 0;if(void 0!==this.props.moveBlocksUp||void 0!==this.props.moveBlocksDown){const n=[];void 0!==this.props.moveBlocksUp&&null==this.getReusableBlock()&&n.push((0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-move-up",icon:Ga,onClick:()=>this.props.moveBlocksUp([this.props.clientId],r)},"Move up")),void 0!==this.props.moveBlocksDown&&null==this.getReusableBlock()&&n.push((0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-move-down",icon:Wa,onClick:()=>this.props.moveBlocksDown([this.props.clientId],r)},"Move down")),t.push((0,e.createElement)(i.MenuGroup,{key:this.props.clientId+"-toolsDropdownMenu-move"},n))}if(void 0!==this.props.duplicateBlocks){const r=[];r.push(this.renderSpecificTools()),r.push((0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-SpecificTools-duplicate",icon:Va,onClick:()=>{Fa.getInstance().hide(),this.props.duplicateBlocks([this.props.clientId])}},"Duplicate")),t.push((0,e.createElement)(i.MenuGroup,{key:this.props.clientId+"-toolsDropdownMenu-SpecificTools"},r))}return null!=this.getReusableBlock()&&t.push((0,e.createElement)(i.MenuGroup,{key:this.props.clientId+"-toolsDropdownMenu-reusable"},(0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-reusable-manage-all",onClick:()=>window.open(GLOBAL_LOCALIZED.admin_url+"edit.php?post_type=wp_block","_blank")},"Manage all reusable blocks"),(0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-reusable-convert-to-regular",onClick:()=>window.open(GLOBAL_LOCALIZED.admin_url+"post.php?post="+this.getReusableBlock()+"&action=edit","_blank")},"Convert to regular blocks"),(0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-reusable-manage",onClick:()=>window.open(GLOBAL_LOCALIZED.admin_url+"post.php?post="+this.getReusableBlock()+"&action=edit","_blank")},"Manage this reusable block"))),void 0!==this.props.removeBlock&&t.push((0,e.createElement)(i.MenuGroup,{key:this.props.clientId+"-toolsDropdownMenu-remove"},(0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-remove-trash",icon:Ha,onClick:()=>this.showModal("removeSubmitted")},"Remove ",this.title))),t.length>0?(0,e.createElement)("li",{className:"breadcrumb-tools"},(0,e.createElement)(i.DropdownMenu,{key:this.props.clientId+"-toolsDropdownMenu",icon:Za,label:"Advanced"},(()=>t))):null}isReusable(){return null!==this.getReusableBlock()}getId(){return this.getAttribute("anchor")}renderPropsEdition(){if(!Fa.exists()||!Fa.getInstance().isBlockEdited(this.props.clientId))return null;var t={};const r={default:{name:"General",props:{}},block_settings:{name:"Settings",props:{anchor:{type:"string",label:"ID (anchor)"}}}};if(this.propsExists()){if(void 0!==GLOBAL_LOCALIZED.props_categories&&null!=GLOBAL_LOCALIZED.props_categories)for(const[e,r]of Object.entries(GLOBAL_LOCALIZED.props_categories))t[e]={name:r.title,props:{}};if(void 0!==this.props.block_spec.props_categories&&null!=this.props.block_spec.props_categories)for(const[e,r]of Object.entries(this.props.block_spec.props_categories))t[r.id]={name:r.name,props:{}};t={...t,...r};for(const[e,r]of Object.entries(this.props.block_spec.props))"object"==typeof r&&null!=r&&(t[void 0!==r.category&&null!=r.category&&r.category in t?r.category:["margin","padding","gap","spaces"].includes(e)?"spacing":"default"].props[e]=r)}for(const[e,r]of Object.entries(t))0==Object.keys(t[e].props).length&&delete t[e];const n=[];for(const[r,o]of Object.entries(t)){if(0==o.props.length)continue;let t=[],i=0,a=0;e:for(const[e,r]of Object.entries(o.props)){if("object"==typeof r.conditional)for(const[e,t]of Object.entries(r.conditional)){let e=Object.keys(t)[0],r=t[e];if(this.getAttribute(e)!=r)continue e}let n=!1;"object"==typeof this.state.error&&null!=this.state.error&&"object"==typeof this.state.error[e]&&(n=this.state.error[e],void 0!==this.state.error[e].error&&i++,void 0!==this.state.error[e].warning&&a++);let o=this.getAttribute(e);t.push(Da.renderProp(r,[e],{[e]:o},this,n))}"block_settings"==r&&t.push(this.renderInspectorControls());let s=o.name;i>0&&(s=(0,e.createElement)(e.Fragment,null,s,(0,e.createElement)("span",{className:"error-attributes"},i))),n.push({name:r,title:s,content:t})}const o=document.querySelector(".o-editor-app.block .o-editor-app_body");return o?(0,e.createPortal)((0,e.createElement)(i.Placeholder,{key:this.props.clientId+"-ConfigurationPlaceholder",isColumnLayout:!0,className:"wpe-component_edit_placeholder"},Oa.tabPanelComponent(this.props.clientId,n,(function(e){return e.content}))),o):null}showModal(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&null!=this.state.modal[e])return;if(null!=Ka.getInstance().getUserPreferences(e)&&!Ka.getInstance().getUserPreferences(e))return;const t=this.state.modal;t[e]=!0,this.setState({modal:t})}hideModal(e){const t=this.state.modal;t[e]=!1,this.setState({modal:t})}displayModal(e){return this.state.modal[e]}updatePreview(){void 0!==this.state.needPreviewUpdate&&this.setState({needPreviewUpdate:!0})}renderFooter(){return(0,e.createElement)(e.Fragment,null,void 0!==this.previewUrl&&(0,e.createElement)(i.Button,{key:this.props.clientId+"-buttonPreviewUrl",className:"abtButtonPreviewUrl",variant:"primary",href:this.previewUrl,target:"_blank"},(0,e.createElement)(i.Dashicon,{icon:"external"}),"Open preview"),(0,e.createElement)("div",{className:"o-flex-grow"}),(0,e.createElement)(i.Button,{key:this.props.clientId+"-buttonCloseEditZone",className:"abtButtonCloseEditZone",variant:"secondary",onMouseDown:()=>Fa.getInstance().clean()},(0,e.createElement)(i.Dashicon,{icon:"no-alt"}),"Close"))}renderInspectorControls(){return null}liveRendering(){return null}renderEditFormZone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];return n.push((0,e.createElement)("div",{key:this.props.clientId+"_EditZoneTitle",className:"title"},this.title)),r||null!=t&&(n.push((0,e.createElement)("div",{key:this.props.clientId+"_EditZoneSeparator2",className:"separator"})),n.push(t)),(0,e.createElement)("div",{key:this.props.clientId+"-EditZoneButtonGroup",className:"o-toolbar-container"},(0,e.createElement)("div",{className:"o-toolbar"},n),(0,e.createElement)("div",{className:"overlay",onMouseDown:()=>{const e=document.querySelector("#block-"+this.props.clientId);e?.scrollIntoView({behavior:"smooth",block:"center"}),Fa.getInstance().open()}},(0,e.createElement)("h2",null,this.title),(0,e.createElement)(i.Button,{variant:"primary"},(0,e.createElement)(i.Dashicon,{icon:"edit"})," Edit")))}renderButtonEditZone(){return(0,e.createElement)(i.Button,{key:this.props.clientId+"-EditZoneButtonEdition",className:"abtButtonEditZone",variant:"primary",onMouseDown:()=>{Fa.getInstance().open(this),null!=this.getReusableBlock()&&Pa.getInstance().showModal("alertReusableBlock",!0)}},(0,e.createElement)(i.Dashicon,{icon:"edit"})," Edit")}renderRemoveModal(){return this.displayModal("removeSubmitted")&&void 0!==this.props.removeBlock?(0,e.createElement)(_,{key:this.props.clientId+"-removeBlockWpeModal",id:this.props.clientId+"-removeBlockWpeModal",title:'Confirm "'+this.title+'" suppression',onClose:()=>this.hideModal("removeSubmitted"),type:"warning"},(0,e.createElement)("p",null,"Are you sure you want to remove this block ?"),(0,e.createElement)("div",{className:"bouttonGroup"},(0,e.createElement)("div",{className:"row"},(0,e.createElement)(i.Button,{variant:"primary",onMouseDown:()=>{this.hideModal("removeSubmitted"),Fa.getInstance().hide(),this.props.removeBlock(this.props.clientId)}},(0,e.createElement)(i.Dashicon,{icon:"trash"}),"Yes, remove it.")),(0,e.createElement)("div",{className:"row"},(0,e.createElement)(i.Button,{variant:"link",onMouseDown:()=>this.hideModal("removeSubmitted")},"Cancel")))):null}render(){const e=[];return e.push(this.renderPropsEdition()),e.push(this.liveRendering()),e.push(this.renderRemoveModal()),e}}const Xa=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const{getEntityRecords:r}=e("core"),{__experimentalGetPreviewDeviceType:n}=e("core/edit-post");let o=[];if(t.name=="custom/wpe-component-"+t.block_spec.id)for(const[e,n]of Object.entries(t.block_spec.props))"relation"!=n.type&&"form"!=n.type||void 0===n.entity||null!=o[n.entity]||(o[n.entity]=r("postType",n.entity,{per_page:-1,status:"publish"}));const i=e("core/block-editor").getBlockParents(t.clientId),a=[];for(var s in i)a.push(e("core/block-editor").getBlock(i[s]));return{relations:o,parentsBlock:a,blockInstance:e("core/block-editor").getBlock(t.clientId),blocksList:e("core/block-editor").getBlocks(t.clientId)}})),(0,n.withDispatch)((e=>{const{selectBlock:t,removeBlock:r,duplicateBlocks:n,moveBlocksUp:i,moveBlocksDown:a}=e(o.store);return{selectBlock:t,removeBlock:r,duplicateBlocks:n,moveBlocksUp:i,moveBlocksDown:a}}))])(class extends Ja{_$iframes;constructor(){super(...arguments),void 0===this.props.attributes.id_component&&this.setAttributes({id_component:this.props.block_spec.id}),this.description=this.props.block_spec.description,this.previewUrl=GLOBAL_LOCALIZED.rest_api_url+GLOBAL_LOCALIZED.rest_api_namespace+GLOBAL_LOCALIZED.componentblock_attr_autosaves_rest_api_resource_path+"/"+GLOBAL_LOCALIZED.post_id+"/"+this.props.block_spec.id+"/"+this.props.clientId,this.iframeResize=this._iframeResize.bind(this),this.editorPreviewImage=!!this?.props?.attributes?.editorPreviewImage&&this.props.attributes.editorPreviewImage}componentDidMount(){this.editorPreviewImage||setTimeout((()=>{this.apiFetch()}))}shouldComponentUpdate(e,t){return this.editorPreviewImage||(this._iframeResize.bind(this),!this.state.needPreviewUpdate&&t.needPreviewUpdate&&this.apiFetch(e.attributes)),!0}apiFetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({previewReady:!1,iframeLoaded:!1,error:null}),d()({path:GLOBAL_LOCALIZED.rest_api_namespace+GLOBAL_LOCALIZED.componentblock_attr_autosaves_rest_api_resource_path+"/"+GLOBAL_LOCALIZED.post_id+"/"+this.props.attributes.id_component+"/"+this.props.clientId,method:"POST",data:{attributes:null==e?this.props.attributes:e,content:(0,s.getBlockContent)(this.props.blockInstance)}}).then((e=>{e.success&&this.setState({previewReady:!0,needPreviewUpdate:!1,error:void 0!==e.data?e.data:null}),this.setState({error:e.data,needPreviewUpdate:!1}),Fa.getInstance().forceUpdate()}))}_iframeResize(){this.setState({iframeLoaded:!0});var e=document.getElementById(this.props.clientId+"-LiveRenderingIframe");if(e){const t=e.contentWindow.document.body.offsetHeight+"px";e.height=t,e.parentNode.style.height=t,e.contentWindow.document.body.style.overflowY="hidden"}}renderLoaderPreview(){const t=this.state.iframeLoaded?"loaderLiveRenderingIframe closed":"loaderLiveRenderingIframe";return(0,e.createElement)("div",{key:this.props.clientId+"-loaderLiveRenderingIframe",className:t},(0,e.createElement)("div",{className:"_inner"},(0,e.createElement)("div",{className:"o-loader"})))}renderIframePreview(){return(0,e.createElement)("iframe",{className:"o-preview-iframe",key:this.props.clientId+"-LiveRenderingIframe",id:this.props.clientId+"-LiveRenderingIframe",src:this.previewUrl,onLoad:this.iframeResize})}liveRendering(){if(void 0!==this.props.block_spec.inner_blocks&&this.props.block_spec.inner_blocks)return(0,e.createElement)("div",this.props.innerBlocksProps);{const{error:r,previewReady:n}=this.state;var t=[];if(this.editorPreviewImage)t.push((0,e.createElement)("img",{src:this.editorPreviewImage,className:"editorPreviewImage"}));else if(n)t.push(this.renderEditFormZone()),t.push(this.renderLoaderPreview()),t.push(this.renderIframePreview()),void 0!==this.props.block_spec.inner_blocks&&!1!==this.props.block_spec.inner_blocks&&t.push((0,e.createElement)("div",ka({key:this.props.clientId+"-innerBlocksProps"},this.props.innerBlocksProps)));else if(null!=r)if("object"==typeof r){let n=Object.keys(r).length;t.push(this.renderEditFormZone()),t.push((0,e.createElement)("div",{key:this.props.clientId+"-placeholder",className:"wpe-block-placeholder center"},(0,e.createElement)("div",{className:"inner"},(0,e.createElement)("h2",null,this.title,(0,e.createElement)("span",{className:"error-attributes"},n)),(0,e.createElement)("p",null,"Fix error",n>1&&"s"," to make this block visible."))))}else t.push(this.renderEditFormZone()),t.push((0,e.createElement)("div",{key:this.props.clientId+"-placeholder",className:"wpe-block-placeholder center"},(0,e.createElement)("div",{className:"inner"},(0,e.createElement)(i.Dashicon,{icon:"info"}),(0,e.createElement)("p",null,r))));else t.push(this.renderEditFormZone()),t.push(this.renderLoaderPreview());return t}}});var Ya=GLOBAL_LOCALIZED.current_user_can_edit_posts;Object.values(GLOBAL_LOCALIZED.components).forEach((t=>{var r={id_component:{type:"string"},_node:{type:"string"}};Da.initComponentAttributes(r,t.props),(0,s.registerBlockType)("custom/wpe-component-"+t.id,{title:t.name,category:t.category.slug,supports:{anchor:!0},parent:t.parent,attributes:r,description:t.description,example:"string"==typeof t.preview?{attributes:{editorPreviewImage:t.preview}}:null,edit:r=>{const n=void 0!==t.inner_blocks&&!1!==t.inner_blocks?(0,o.useInnerBlocksProps)((0,o.useBlockProps)({className:null!=t.inner_blocks||"hidden"}),{renderAppender:()=>(0,e.createElement)(i.ButtonGroup,{className:"inspectorButtonInsertNew"},(0,e.createElement)(Aa,{rootClientId:r.clientId}))}):null;return(0,e.createElement)(Xa,ka({},r,{innerBlocksProps:n,block_spec:t,current_user_can_edit_posts:Ya,theme_spec:GLOBAL_LOCALIZED.theme_spec}))},save:()=>(0,e.createElement)("div",o.useBlockProps.save(),(0,e.createElement)(o.InnerBlocks.Content,null))})}));const Qa=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const r=e("core/block-editor").getBlockParents(t.clientId),n=r[r.length-1],o=e("core/block-editor").getBlockOrder(n).indexOf(t.clientId);return{countColumns:e("core/block-editor").getBlockCount(t.clientId),columnIndex:o}})),(0,n.withDispatch)((e=>{const{removeBlock:t}=e(o.store);return{removeBlock:t}}))])(class extends Ja{constructor(){super(...arguments),void 0===this.getAttribute("id_component")&&this.setAttributes({id_component:""+this.props.columnIndex})}getLayout(e,t){return void 0===this.props.attributes.layout||void 0===this.props.attributes.layout[t]||void 0===this.props.attributes.layout[t][e]?1:this.props.attributes.layout[t][e]}setLayout(e,t,r){let n=void 0===this.props.attributes.layout?{}:this.props.attributes.layout;void 0===n[r]&&(n[r]={}),n[r][e]=t,this.setAttributes({layout:null}),this.setAttributes({layout:n})}renderInspectorControls(){const t=c.getInstance().getCurrentDevice(),r=c.getInstance().getDefaultDevice();return Oa.fieldContainer(this.props.clientId+"_layout",Oa.panelComponent(this.props.clientId+"_layout","Layout",Oa.responsiveTabComponent(this.props.clientId,Object.keys(c.getInstance().getMediaQueries()).map((e=>({name:e,title:e.charAt(0).toUpperCase()+e.slice(1),className:"tab-"+e,active:t==e,isDefault:r==e}))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"flex"},Oa.fieldContainer(this.props.clientId+"_columnStart_"+t,(0,e.createElement)(i.RangeControl,{label:"Column start",value:this.getLayout("columnStart",t),onChange:e=>this.setLayout("columnStart",Number.parseInt(e),t),min:1,max:this.getLayout("columnStart",t)+1})),Oa.fieldContainer(this.props.clientId+"_width_"+t,(0,e.createElement)(i.RangeControl,{label:"Width",value:this.getLayout("width",t),onChange:e=>this.setLayout("width",Number.parseInt(e),t),min:1,max:this.getLayout("width",t)+1}))),(0,e.createElement)("div",{className:"flex"},Oa.fieldContainer(this.props.clientId+"_rowStart_"+t,(0,e.createElement)(i.RangeControl,{label:"Row start",value:this.getLayout("rowStart",t),onChange:e=>this.setLayout("rowStart",Number.parseInt(e),t),min:1,max:this.getLayout("rowStart",t)+1})),Oa.fieldContainer(this.props.clientId+"_height_"+t,(0,e.createElement)(i.RangeControl,{label:"Height",value:this.getLayout("height",t),onChange:e=>this.setLayout("height",Number.parseInt(e),t),min:1,max:this.getLayout("height",t)+1})))),(e=>{c.getInstance().setCurrentDevice(e)}),"column-layout"),!0))}liveRendering(){const{children:t,...r}=this.props.innerBlocksProps;if(r.key="innerBlocksProps_"+this.props.clientId,0==this.props.countColumns&&(r.className+=" is-empty"),void 0!==c.getInstance()){const e=c.getInstance().getCurrentDevice();r.style={gridColumnStart:this.getLayout("columnStart",e),gridColumnEnd:this.getLayout("columnStart",e)+this.getLayout("width",e),gridRowStart:this.getLayout("rowStart",e),gridRowEnd:this.getLayout("rowStart",e)+this.getLayout("height",e)}}return(0,e.createElement)("div",r,this.renderEditFormZone(),(0,e.createElement)("div",{key:this.props.clientId+"_columnContainer",className:"o-column-container"},t))}});let $a={id_component:{type:"string"},layout:{type:"object"}};null!=GLOBAL_LOCALIZED.blocks_spec["wpe-column"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-column"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-column"].props&&Da.initComponentAttributes($a,GLOBAL_LOCALIZED.blocks_spec["wpe-column"].props),(0,s.registerBlockType)("custom/wpe-column",{title:"Col",category:"wpe-layout",icon:(0,e.createElement)("svg",{enableBackground:"new 0 0 24 24",height:"24px",id:"Layer_1",version:"1.1",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M12,10.9c-0.1,0-0.2,0-0.2-0.1L3.5,6.1C3.4,6,3.3,5.8,3.3,5.6c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4S20.6,6,20.5,6.1l-8.2,4.7C12.2,10.8,12.1,10.9,12,10.9z M4.8,5.6L12,9.8l7.2-4.2L12,1.5      L4.8,5.6z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M10.4,23.6c-0.1,0-0.2,0-0.2-0.1l-8.2-4.7c-0.2-0.1-0.3-0.3-0.3-0.4V8.9c0-0.2,0.1-0.3,0.2-0.4c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.2,0.4C10.5,23.6,10.5,23.6,10.4,23.6z M2.7,18.1l7.2,4.2v-8.3L2.7,9.8      V18.1z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M13.6,23.6c-0.1,0-0.2,0-0.2-0.1c-0.2-0.1-0.2-0.3-0.2-0.4v-9.5c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.3,0.4l-8.2,4.7C13.8,23.6,13.7,23.6,13.6,23.6z M14.1,13.9v8.3l7.2-4.2V9.8      L14.1,13.9z"})))))),supports:{anchor:!0,lightBlockWrapper:!0},parent:["custom/wpe-grid"],attributes:$a,edit:t=>{const r=(0,o.useInnerBlocksProps)((0,o.useBlockProps)({className:""}),{renderAppender:()=>(0,e.createElement)(i.ButtonGroup,{className:"inspectorButtonInsertNew"},(0,e.createElement)(Aa,{rootClientId:t.clientId}),(0,e.createElement)(Ra,{rootClientId:t.clientId}))});return(0,e.createElement)(Qa,ka({},t,{innerBlocksProps:r,blocks_spec:GLOBAL_LOCALIZED.blocks_spec["wpe-column"],theme_spec:GLOBAL_LOCALIZED.theme_spec}))},save:()=>{const t=o.useBlockProps.save(),r=o.useInnerBlocksProps.save(t);return(0,e.createElement)("div",r)}});const es=window.wp.hooks,ts=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const r=e("core/block-editor").getBlockParents(t.clientId),n=[];for(var o in r)n.push(e("core/block-editor").getBlock(r[o]));return{isSelectedBlock:e("core/block-editor").isBlockSelected(t.clientId),isParentOfSelectedBlock:e("core/block-editor").hasSelectedInnerBlock(t.clientId,!0),parentsBlock:n}})),(0,n.withDispatch)((e=>{const{removeBlock:t,duplicateBlocks:r}=e(o.store);return{removeBlock:t,duplicateBlocks:r}}))])(class extends Ja{constructor(){super(...arguments)}liveRendering(){const{children:t,...r}=this.props.innerBlocksProps;return r.key="innerBlocksProps_"+this.props.clientId,(0,e.createElement)("div",r,this.renderEditFormZone(),t)}});let rs={};null!=GLOBAL_LOCALIZED.blocks_spec["wpe-container"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-container"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-container"].props&&Da.initComponentAttributes(rs,GLOBAL_LOCALIZED.blocks_spec["wpe-container"].props),(0,s.registerBlockType)("custom/wpe-container",{title:"Container",category:"wpe-layout",icon:(0,e.createElement)("svg",{enableBackground:"new 0 0 24 24",height:"24px",id:"Layer_1",version:"1.1",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M12,10.9c-0.1,0-0.2,0-0.2-0.1L3.5,6.1C3.4,6,3.3,5.8,3.3,5.6c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4S20.6,6,20.5,6.1l-8.2,4.7C12.2,10.8,12.1,10.9,12,10.9z M4.8,5.6L12,9.8l7.2-4.2L12,1.5      L4.8,5.6z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M10.4,23.6c-0.1,0-0.2,0-0.2-0.1l-8.2-4.7c-0.2-0.1-0.3-0.3-0.3-0.4V8.9c0-0.2,0.1-0.3,0.2-0.4c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.2,0.4C10.5,23.6,10.5,23.6,10.4,23.6z M2.7,18.1l7.2,4.2v-8.3L2.7,9.8      V18.1z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M13.6,23.6c-0.1,0-0.2,0-0.2-0.1c-0.2-0.1-0.2-0.3-0.2-0.4v-9.5c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.3,0.4l-8.2,4.7C13.8,23.6,13.7,23.6,13.6,23.6z M14.1,13.9v8.3l7.2-4.2V9.8      L14.1,13.9z"})))))),supports:{lightBlockWrapper:!0,anchor:!0},attributes:rs,edit:t=>{const r=(0,o.useInnerBlocksProps)((0,o.useBlockProps)({className:""}),{renderAppender:()=>(0,e.createElement)(i.ButtonGroup,{className:"inspectorButtonInsertNew"},(0,e.createElement)(Aa,{rootClientId:t.clientId}))});return(0,e.createElement)(ts,ka({},t,{innerBlocksProps:r,blocks_spec:GLOBAL_LOCALIZED.blocks_spec["wpe-container"],theme_spec:GLOBAL_LOCALIZED.theme_spec}))},save:()=>{const t=o.useBlockProps.save(),r=o.useInnerBlocksProps.save(t);return(0,e.createElement)("div",r)}}),GLOBAL_LOCALIZED?.container?.is_main&&(0,es.addFilter)("blocks.registerBlockType","abt/updateSettingsParent",(function(e,t){return"custom/wpe-container"==t||"custom/wpe-grid"==t||"custom/wpe-column"==t||void 0!==e.parent?e:lodash.assign({},e,{parent:["custom/wpe-container","custom/wpe-column"]})}));const{addFilter:ns}=wp.hooks,{createHigherOrderComponent:os}=wp.compose,{Fragment:is}=wp.element,{InspectorControls:as}=wp.blockEditor,{PanelBody:ss}=wp.components;ns("blocks.registerBlockType","core/gallery",(function(e,t){return"core/gallery"!==t?e:lodash.assign({},e,{attributes:lodash.assign({},e.attributes,{galleryType:{type:"string"}})})}));var cs=[{label:"Default",value:"default"}];GLOBAL_LOCALIZED.galleryType&&"undefined"!=GLOBAL_LOCALIZED.galleryType&&(cs=cs.concat(GLOBAL_LOCALIZED.galleryType));const ls=os((t=>r=>{if("core/gallery"==r.name){const{attributes:n,setAttributes:o}=r;return(0,e.createElement)(is,null,(0,e.createElement)(t,r),(0,e.createElement)(as,null,(0,e.createElement)(ss,null,(0,e.createElement)(i.SelectControl,{label:"Type",value:n.galleryType,options:cs,onChange:e=>{o({galleryType:e})}}))))}return(0,e.createElement)(t,r)}),"withInspectorControl");ns("editor.BlockEdit","core/gallery",ls);const us=(0,e.createElement)(qa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(qa.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),ps=window.lodash,hs=[{count:2,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"490",height:"400"}),(0,e.createElement)("rect",{x:"510",width:"490",height:"400"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1}]},{count:2,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"327",height:"400"}),(0,e.createElement)("rect",{x:"346",width:"654",height:"400"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:2,rowStart:1,height:1}]},{count:2,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"654",height:"400"}),(0,e.createElement)("rect",{x:"673",width:"327",height:"400"})),layout:[{columnStart:1,width:2,rowStart:1,height:1},{columnStart:3,width:1,rowStart:1,height:1}]},{count:2,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"1000",height:"190"}),(0,e.createElement)("rect",{width:"1000",height:"190",y:"210"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1}]},{count:3,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"320",height:"400"}),(0,e.createElement)("rect",{x:"340",width:"320",height:"400"}),"1",(0,e.createElement)("rect",{x:"680",width:"320",height:"400"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:3,width:1,rowStart:1,height:1}]},{count:3,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"490",height:"190"}),(0,e.createElement)("rect",{x:"510",width:"490",height:"190"}),(0,e.createElement)("rect",{width:"1000",height:"190",y:"210"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:1,width:2,rowStart:2,height:1}]},{count:3,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"1000",height:"190"}),(0,e.createElement)("rect",{width:"490",height:"190",y:"210"}),(0,e.createElement)("rect",{width:"490",x:"510",height:"190",y:"210"})),layout:[{columnStart:1,width:2,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:2,width:1,rowStart:2,height:1}]},{count:3,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"1000",height:"120"}),(0,e.createElement)("rect",{width:"1000",height:"120",y:"140"}),(0,e.createElement)("rect",{width:"1000",height:"120",y:"280"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:1,width:1,rowStart:3,height:1}]},{count:4,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"235",height:"400"}),(0,e.createElement)("rect",{x:"255",width:"235",height:"400"}),(0,e.createElement)("rect",{x:"510",width:"235",height:"400"}),(0,e.createElement)("rect",{x:"765",width:"235",height:"400"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:3,width:1,rowStart:1,height:1},{columnStart:4,width:1,rowStart:1,height:1}]},{count:4,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"490",height:"190"}),(0,e.createElement)("rect",{x:"510",width:"490",height:"190"}),(0,e.createElement)("rect",{y:"210",width:"490",height:"190"}),(0,e.createElement)("rect",{x:"510",y:"210",width:"490",height:"190"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:2,width:1,rowStart:2,height:1}]},{count:4,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"1000",height:"85"}),(0,e.createElement)("rect",{width:"1000",height:"85",y:"105"}),(0,e.createElement)("rect",{width:"1000",height:"85",y:"210"}),(0,e.createElement)("rect",{width:"1000",height:"85",y:"315"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:1,width:1,rowStart:3,height:1},{columnStart:1,width:1,rowStart:4,height:1}]},{count:5,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"184",height:"400"}),(0,e.createElement)("rect",{width:"184",height:"400",x:"204"}),(0,e.createElement)("rect",{width:"184",height:"400",x:"408"}),(0,e.createElement)("rect",{width:"184",height:"400",x:"612"}),(0,e.createElement)("rect",{width:"184",height:"400",x:"816"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:3,width:1,rowStart:1,height:1},{columnStart:4,width:1,rowStart:1,height:1},{columnStart:5,width:1,rowStart:1,height:1}]},{count:5,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"490",height:"190"}),(0,e.createElement)("rect",{width:"490",height:"190",x:"510"}),(0,e.createElement)("rect",{width:"320",height:"190",y:"210"}),(0,e.createElement)("rect",{width:"320",height:"190",x:"340",y:"210"}),(0,e.createElement)("rect",{width:"320",height:"190",x:"680",y:"210"})),layout:[{columnStart:1,width:3,rowStart:1,height:1},{columnStart:4,width:3,rowStart:1,height:1},{columnStart:1,width:2,rowStart:2,height:1},{columnStart:3,width:2,rowStart:2,height:1},{columnStart:5,width:2,rowStart:2,height:1}]},{count:5,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"320",height:"190"}),(0,e.createElement)("rect",{width:"320",height:"190",x:"340"}),(0,e.createElement)("rect",{width:"320",height:"190",x:"680"}),(0,e.createElement)("rect",{width:"490",height:"190",y:"210"}),(0,e.createElement)("rect",{width:"490",height:"190",x:"510",y:"210"})),layout:[{columnStart:1,width:2,rowStart:1,height:1},{columnStart:3,width:2,rowStart:1,height:1},{columnStart:5,width:2,rowStart:1,height:1},{columnStart:1,width:3,rowStart:2,height:1},{columnStart:4,width:3,rowStart:2,height:1}]},{count:5,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"1000",height:"64"}),(0,e.createElement)("rect",{width:"1000",height:"64",y:"84"}),(0,e.createElement)("rect",{width:"1000",height:"64",y:"168"}),(0,e.createElement)("rect",{width:"1000",height:"64",y:"252"}),(0,e.createElement)("rect",{width:"1000",height:"64",y:"336"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:1,width:1,rowStart:3,height:1},{columnStart:1,width:1,rowStart:4,height:1},{columnStart:1,width:1,rowStart:5,height:1}]},{count:6,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"150",height:"400"}),(0,e.createElement)("rect",{x:"170",width:"150",height:"400"}),(0,e.createElement)("rect",{x:"340",width:"150",height:"400"}),(0,e.createElement)("rect",{x:"510",width:"150",height:"400"}),(0,e.createElement)("rect",{x:"680",width:"150",height:"400"}),(0,e.createElement)("rect",{x:"850",width:"150",height:"400"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:3,width:1,rowStart:1,height:1},{columnStart:4,width:1,rowStart:1,height:1},{columnStart:5,width:1,rowStart:1,height:1},{columnStart:6,width:1,rowStart:1,height:1}]},{count:6,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"320",height:"190"}),(0,e.createElement)("rect",{x:"340",width:"320",height:"190"}),(0,e.createElement)("rect",{x:"680",width:"320",height:"190"}),(0,e.createElement)("rect",{y:"210",width:"320",height:"190"}),(0,e.createElement)("rect",{x:"340",y:"210",width:"320",height:"190"}),(0,e.createElement)("rect",{x:"680",y:"210",width:"320",height:"190"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:3,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:2,width:1,rowStart:2,height:1},{columnStart:3,width:1,rowStart:2,height:1}]},{count:6,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"490",height:"120"}),(0,e.createElement)("rect",{x:"510",width:"490",height:"120"}),(0,e.createElement)("rect",{y:"140",width:"490",height:"120"}),(0,e.createElement)("rect",{x:"510",y:"140",width:"490",height:"120"}),(0,e.createElement)("rect",{y:"280",width:"490",height:"120"}),(0,e.createElement)("rect",{x:"510",y:"280",width:"490",height:"120"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:2,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:2,width:1,rowStart:2,height:1},{columnStart:1,width:1,rowStart:3,height:1},{columnStart:2,width:1,rowStart:3,height:1}]},{count:6,icon:(0,e.createElement)(i.SVG,{width:"1000",height:"400",viewBox:"0 0 1000 400",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,e.createElement)("rect",{width:"1000",height:"50"}),(0,e.createElement)("rect",{y:"70",width:"1000",height:"50"}),(0,e.createElement)("rect",{y:"140",width:"1000",height:"50"}),(0,e.createElement)("rect",{y:"210",width:"1000",height:"50"}),(0,e.createElement)("rect",{y:"280",width:"1000",height:"50"}),(0,e.createElement)("rect",{y:"350",width:"1000",height:"50"})),layout:[{columnStart:1,width:1,rowStart:1,height:1},{columnStart:1,width:1,rowStart:2,height:1},{columnStart:1,width:1,rowStart:3,height:1},{columnStart:1,width:1,rowStart:4,height:1},{columnStart:1,width:1,rowStart:5,height:1},{columnStart:1,width:1,rowStart:6,height:1}]}],ds=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const r=[],n=e("core/block-editor").getBlockParents(t.clientId);if(n.length>0)for(var o in n)r.push(e("core/block-editor").getBlock(n[o]));return{inner_blocks:e("core/block-editor").getBlocks(t.clientId),countColumns:e("core/block-editor").getBlockCount(t.clientId),blockVariations:e("core/blocks").getBlockVariations(t.name,"block"),blockType:e("core/blocks").getBlockType(t.name),parentsBlock:r}})),(0,n.withDispatch)((e=>{const{replaceInnerBlocks:t,removeBlock:r,duplicateBlocks:n,moveBlocksUp:i,moveBlocksDown:a}=e(o.store);return{replaceInnerBlocks:t,removeBlock:r,duplicateBlocks:n,moveBlocksUp:i,moveBlocksDown:a}}))])(class extends Ja{constructor(){super(...arguments)}isEditable(){return"object"==typeof this.props.inner_blocks&&this.props.countColumns>0}addColumn(){let e={};Object.keys(c.getInstance().getMediaQueries()).forEach((t=>{e[t]={columnStart:1,width:1,rowStart:2,height:1},this.props.inner_blocks.forEach((r=>{if(r.attributes.layout&&r.attributes.layout[t]){let n=(r.attributes.layout[t].rowStart&&r.attributes.layout[t].rowStart?r.attributes.layout[t].rowStart:1)+(r.attributes.layout[t].height&&r.attributes.layout[t].height?r.attributes.layout[t].height:1);n>e[t].rowStart&&(e[t].rowStart=n)}}))}));let t=[...this.props.inner_blocks,(0,s.createBlock)("custom/wpe-column",{layout:e})];this.props.replaceInnerBlocks(this.props.clientId,t,!1)}renderSpecificTools(){return(0,e.createElement)(i.MenuItem,{key:this.props.clientId+"-toolsDropdownMenu-SpecificTools-addColumn",icon:us,onClick:()=>this.addColumn()},"Add column")}renderInspectorControls(){const t=c.getInstance().getCurrentDevice(),r=c.getInstance().getDefaultDevice(),n=this.getLayout();return Oa.fieldContainer(this.props.clientId+"_layout",Oa.responsiveTabComponent(this.props.clientId,Object.keys(c.getInstance().getMediaQueries()).map((e=>({name:e,title:e.charAt(0).toUpperCase()+e.slice(1),className:"tab-"+e,active:t==e,isDefault:r==e}))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("label",{className:"components-base-control__forced_label",key:this.props.clientId+"-template-label"},"Layout"),(0,e.createElement)("div",{className:"items"},hs.map(((t,r)=>{if(t.count==this.props.countColumns)return(0,e.createElement)("span",{key:this.props.clientId+"-gridInitialLayout-"+r,className:"item "+(null!=n&&r==n?"active":""),onMouseDown:()=>this.setLayout(r)},t.icon)})))),(e=>{c.getInstance().setCurrentDevice(e)}),"grid-layout"))}getLayout(){if(void 0===this.props.attributes.layout)return null;if(void 0===c.getInstance())return null;const e=c.getInstance().getCurrentDevice();return void 0===this.props.attributes.layout[e]?null:this.props.attributes.layout[e]}setLayout(e){const t=c.getInstance().getCurrentDevice();for(var r in void 0===this.props.attributes.layout&&(this.props.attributes.layout={}),this.props.attributes.layout[t]=e,this.setAttributes({layout:this.props.attributes.layout}),this.props.inner_blocks)this.props.inner_blocks[r].attributes.layout[t]=hs[e].layout[r],(0,n.dispatch)("core/block-editor").updateBlockAttributes(this.props.inner_blocks[r].clientId,this.props.inner_blocks[r].attributes.layout[t])}setInitialLayout(e){const t=c.getInstance().getMediaQueries(),r={};for(var n in t)r[n]=e;this.setAttributes({layout:r});const o=[];var i;hs[e].layout.forEach((e=>{const r={};for(var n in t)r[n]=e;o.push({name:"custom/wpe-column",attributes:{layout:r}})})),this.props.replaceInnerBlocks(this.props.clientId,(i=o,(0,ps.map)(i,(e=>{let{name:t,attributes:r}=e;return(0,s.createBlock)(t,r)}))),!1)}getToolbar(){const t=[],r=this.getLayout();return r&&"object"==typeof hs[r]&&void 0!==hs[r].icon&&t.push((0,e.createElement)("div",{key:this.props.clientId+"_toolBarSvg",className:"svg"},hs[r].icon)),t.push((0,e.createElement)("span",{key:this.props.clientId+"_toolBarInstruction",className:"instruction"},"Edit layout")),t}liveRendering(){var{clientId:t,inner_blocks:r,countColumns:n}=this.props;const{children:o,...i}=this.props.innerBlocksProps;return i.key="innerBlocksProps_"+t,"object"!=typeof r||"object"==typeof r&&0==n?(0,e.createElement)("div",i,(0,e.createElement)("div",{key:this.props.clientId+"-placeholder",className:"wpe-block-placeholder"},(0,e.createElement)("div",{className:"inner"},(0,e.createElement)("h2",null,"Grid"),(0,e.createElement)("label",{className:"components-base-control__forced_label",key:this.props.clientId+"-template-label"},"Choose a layout"),(0,e.createElement)("div",{className:"grid-layout"},Oa.tabPanelComponent(t+"-gridLayout",[{name:"cols-2",title:"2 columns",value:2},{name:"cols-3",title:"3 columns",value:3},{name:"cols-4",title:"4 columns",value:4},{name:"cols-5",title:"5 columns",value:5},{name:"cols-6",title:"6 columns",value:6}],(r=>(0,e.createElement)("div",{className:"items"},hs.map(((n,o)=>{if(n.count==r.value)return(0,e.createElement)("span",{key:t+"-gridInitialLayout-"+o,className:"item",onMouseDown:()=>this.setInitialLayout(o)},n.icon)})))),null,null,"initialGridLayout"))))):(0,e.createElement)("div",i,this.renderEditFormZone(this.getToolbar(),!1),(0,e.createElement)("div",{key:this.props.clientId+"_gridContainer",className:"o-grid-container"},o))}});let fs={gridLocked:{type:"boolean",default:!1},layout:{type:"object"}};null!=GLOBAL_LOCALIZED.blocks_spec["wpe-grid"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-grid"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-grid"].props&&Da.initComponentAttributes(fs,GLOBAL_LOCALIZED.blocks_spec["wpe-grid"].props),(0,s.registerBlockType)("custom/wpe-grid",{title:"Grid",category:"wpe-layout",icon:(0,e.createElement)("svg",{enableBackground:"new 0 0 24 24",height:"24px",id:"Layer_1",version:"1.1",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M12,10.9c-0.1,0-0.2,0-0.2-0.1L3.5,6.1C3.4,6,3.3,5.8,3.3,5.6c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4S20.6,6,20.5,6.1l-8.2,4.7C12.2,10.8,12.1,10.9,12,10.9z M4.8,5.6L12,9.8l7.2-4.2L12,1.5      L4.8,5.6z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M10.4,23.6c-0.1,0-0.2,0-0.2-0.1l-8.2-4.7c-0.2-0.1-0.3-0.3-0.3-0.4V8.9c0-0.2,0.1-0.3,0.2-0.4c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.2,0.4C10.5,23.6,10.5,23.6,10.4,23.6z M2.7,18.1l7.2,4.2v-8.3L2.7,9.8      V18.1z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M13.6,23.6c-0.1,0-0.2,0-0.2-0.1c-0.2-0.1-0.2-0.3-0.2-0.4v-9.5c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.3,0.4l-8.2,4.7C13.8,23.6,13.7,23.6,13.6,23.6z M14.1,13.9v8.3l7.2-4.2V9.8      L14.1,13.9z"})))))),supports:{anchor:!0,lightBlockWrapper:!0},example:null!=GLOBAL_LOCALIZED.blocks_spec["wpe-grid"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-grid"]&&"string"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-grid"].preview?{attributes:{editorPreviewImage:GLOBAL_LOCALIZED.blocks_spec["wpe-grid"].preview}}:null,attributes:fs,edit:t=>{const r=(0,o.useInnerBlocksProps)((0,o.useBlockProps)({className:""}),{renderAppender:!1});return(0,e.createElement)(ds,ka({},t,{innerBlocksProps:r,blocks_spec:GLOBAL_LOCALIZED.blocks_spec["wpe-grid"],theme_spec:GLOBAL_LOCALIZED.theme_spec}))},save:()=>{const t=o.useBlockProps.save(),r=o.useInnerBlocksProps.save(t);return(0,e.createElement)("div",r)}});class gs extends Ja{constructor(){super(...arguments)}liveRendering(){const{children:t,...r}=this.props.innerBlocksProps;return r.key="innerBlocksProps_"+this.props.clientId,(0,e.createElement)("div",r,this.renderEditFormZone(),(0,e.createElement)("div",{key:this.props.clientId+"_slideContainer",className:"o-slide-container"},t))}}let vs={};null!=GLOBAL_LOCALIZED.blocks_spec["wpe-slide"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-slide"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-slide"].props&&Da.initComponentAttributes(vs,GLOBAL_LOCALIZED.blocks_spec["wpe-slide"].props),(0,s.registerBlockType)("custom/wpe-slide",{title:"Slide",category:"wpe-layout",icon:(0,e.createElement)("svg",{enableBackground:"new 0 0 24 24",height:"24px",id:"Layer_1",version:"1.1",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M12,10.9c-0.1,0-0.2,0-0.2-0.1L3.5,6.1C3.4,6,3.3,5.8,3.3,5.6c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4S20.6,6,20.5,6.1l-8.2,4.7C12.2,10.8,12.1,10.9,12,10.9z M4.8,5.6L12,9.8l7.2-4.2L12,1.5      L4.8,5.6z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M10.4,23.6c-0.1,0-0.2,0-0.2-0.1l-8.2-4.7c-0.2-0.1-0.3-0.3-0.3-0.4V8.9c0-0.2,0.1-0.3,0.2-0.4c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.2,0.4C10.5,23.6,10.5,23.6,10.4,23.6z M2.7,18.1l7.2,4.2v-8.3L2.7,9.8      V18.1z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M13.6,23.6c-0.1,0-0.2,0-0.2-0.1c-0.2-0.1-0.2-0.3-0.2-0.4v-9.5c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.3,0.4l-8.2,4.7C13.8,23.6,13.7,23.6,13.6,23.6z M14.1,13.9v8.3l7.2-4.2V9.8      L14.1,13.9z"})))))),supports:{lightBlockWrapper:!0},parent:["custom/wpe-slider"],attributes:vs,edit:t=>{const r=(0,o.useInnerBlocksProps)((0,o.useBlockProps)({className:""}),{renderAppender:()=>(0,e.createElement)(i.ButtonGroup,{className:"inspectorButtonInsertNew"},(0,e.createElement)(Aa,{rootClientId:t.clientId}))});return(0,e.createElement)(gs,ka({},t,{innerBlocksProps:r,blocks_spec:GLOBAL_LOCALIZED.blocks_spec["wpe-slide"],theme_spec:GLOBAL_LOCALIZED.theme_spec}))},save:()=>(0,e.createElement)(o.InnerBlocks.Content,null)});const ys=(0,t.compose)([(0,n.withSelect)(((e,t)=>{const r=e("core/block-editor").getBlockParents(t.clientId),n=[];for(var o in r)n.push(e("core/block-editor").getBlock(r[o]));return{inner_blocks:e("core/block-editor").getBlocks(t.clientId),countSlides:e("core/block-editor").getBlockCount(t.clientId),blockType:e("core/blocks").getBlockType(t.name),isSelectedBlock:e("core/block-editor").isBlockSelected(t.clientId),isParentOfSelectedBlock:e("core/block-editor").hasSelectedInnerBlock(t.clientId,!0),parentsBlock:n}})),(0,n.withDispatch)((e=>{const{replaceInnerBlocks:t,removeBlock:r,duplicateBlocks:n}=e(o.store);return{replaceInnerBlocks:t,removeBlock:r,duplicateBlocks:n}}))])(class extends Ja{constructor(){super(...arguments)}addSlide(){let e=[...this.props.inner_blocks,(0,s.createBlock)("custom/wpe-slide")];this.props.replaceInnerBlocks(this.props.clientId,e,!1);let t=e[e.length-1].clientId;this.setState({activeSlide:t})}liveRendering(){var{clientId:t,inner_blocks:r}=this.props;const{children:n,...o}=this.props.innerBlocksProps;o.key="innerBlocksProps_"+t;let a="",s=[];r.forEach(((r,n)=>{let o=n+1,c=!0;(void 0===this.state.activeSlide&&0!=n||void 0!==this.state.activeSlide&&r.clientId!=this.state.activeSlide)&&(a+="#block-"+r.clientId+"{ display:none; }",c=!1),s.push((0,e.createElement)(i.Button,{key:t+"-buttonSlide_"+o,isPressed:c,onMouseDown:()=>this.setState({activeSlide:r.clientId})},"Slide "+o))})),s.push((0,e.createElement)(i.Button,{key:t+"-buttonSlide_X",isPressed:!1,onMouseDown:()=>this.addSlide(),className:"addSlide"},"New slide"));const c=(0,e.createElement)(i.ButtonGroup,{key:t+"-buttonGroupComponentMode",className:"buttonGroupComponentModeContainer"},s);return(0,e.createElement)("div",o,(0,e.createElement)("style",null,a),this.renderEditFormZone(c,!1),n)}});let ms={};null!=GLOBAL_LOCALIZED.blocks_spec["wpe-slider"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-slider"]&&"object"==typeof GLOBAL_LOCALIZED.blocks_spec["wpe-slider"].props&&Da.initComponentAttributes(ms,GLOBAL_LOCALIZED.blocks_spec["wpe-slider"].props),(0,s.registerBlockType)("custom/wpe-slider",{title:"Slider",category:"wpe-layout",icon:(0,e.createElement)("svg",{enableBackground:"new 0 0 24 24",height:"24px",id:"Layer_1",version:"1.1",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M12,10.9c-0.1,0-0.2,0-0.2-0.1L3.5,6.1C3.4,6,3.3,5.8,3.3,5.6c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4S20.6,6,20.5,6.1l-8.2,4.7C12.2,10.8,12.1,10.9,12,10.9z M4.8,5.6L12,9.8l7.2-4.2L12,1.5      L4.8,5.6z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M10.4,23.6c-0.1,0-0.2,0-0.2-0.1l-8.2-4.7c-0.2-0.1-0.3-0.3-0.3-0.4V8.9c0-0.2,0.1-0.3,0.2-0.4c0.2-0.1,0.3-0.1,0.5,0      l8.2,4.7c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.2,0.4C10.5,23.6,10.5,23.6,10.4,23.6z M2.7,18.1l7.2,4.2v-8.3L2.7,9.8      V18.1z"})),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M13.6,23.6c-0.1,0-0.2,0-0.2-0.1c-0.2-0.1-0.2-0.3-0.2-0.4v-9.5c0-0.2,0.1-0.3,0.2-0.4l8.2-4.7c0.2-0.1,0.3-0.1,0.5,0      c0.2,0.1,0.2,0.3,0.2,0.4v9.5c0,0.2-0.1,0.3-0.3,0.4l-8.2,4.7C13.8,23.6,13.7,23.6,13.6,23.6z M14.1,13.9v8.3l7.2-4.2V9.8      L14.1,13.9z"})))))),supports:{anchor:!0},attributes:ms,edit:t=>{const r=(0,o.useInnerBlocksProps)((0,o.useBlockProps)({className:""}),{renderAppender:!1});return(0,e.createElement)(ys,ka({},t,{innerBlocksProps:r,blocks_spec:GLOBAL_LOCALIZED.blocks_spec["wpe-slider"],theme_spec:GLOBAL_LOCALIZED.theme_spec}))},save:()=>{const t=o.useBlockProps.save(),r=o.useInnerBlocksProps.save(t);return(0,e.createElement)("div",r)}});class bs{constructor(){this._moveWpUiElements(),this._initTheme();const t=document.querySelector(".interface-interface-skeleton__content");if(t){document.querySelector("body").classList?.add?.("o-editor-enabled"),t.classList?.add?.("o-editor"),t.classList?.add?.("init");const r=document.createElement("div");r.classList.add("o-editor-container"),t.appendChild(r),(0,e.createRoot)(r).render((0,e.createElement)(_s,null))}}_moveWpUiElements(){let e=document.querySelector(".edit-post-visual-editor__post-title-wrapper"),t=document.querySelector(".edit-post-header__toolbar > .edit-post-header-toolbar");t?.after?.(e)}_initTheme(){GLOBAL_LOCALIZED?.editor?.backgroundColor&&null!=GLOBAL_LOCALIZED.editor.backgroundColor&&document.documentElement.style.setProperty("--abt-background-editor",GLOBAL_LOCALIZED.editor.backgroundColor)}}const _s=(0,t.compose)([(0,n.withSelect)((e=>{const t=e("core/block-editor").getBlocks();for(var r in t)if("core/block"==t[r].name&&void 0!==t[r].attributes.ref&&0==t[r].innerBlocks){let n=e("core").getEntityRecord("postType","wp_block",t[r].attributes.ref);void 0!==n&&(t[r].postName=n.title.raw);let o=e("core/block-editor").getBlocks(t[r].clientId);o.length>0&&(t[r].isReusable=!0,t[r].children=o)}return{blocksList:t,selectedBlockClientId:e("core/block-editor").getSelectedBlockClientId(),editorMode:e("core/edit-post").getEditorMode(),inserterItems:e("core/block-editor").getInserterItems()}})),(0,n.withDispatch)((e=>{const{selectBlock:t,resetSelection:r,insertBlock:n}=e(o.store);return{selectBlock:t,resetSelection:r,insertBlock:n}}))])((function(t){return(0,e.createElement)(Fa,{context:t})}));window.addEventListener("load",(function(){setTimeout((()=>{document.querySelector("body.post-type-page")?new bs:function(){const e=document.querySelector(".o-editor-loading-zone");e&&(e.classList.add("hide"),setTimeout((()=>{e.classList.add("close"),setTimeout((()=>{e.classList.add("removed")}),500)}),1e3))}()}))}))})()})();